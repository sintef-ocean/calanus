System.register(["./index-legacy-CKAyoBaI.js","./render-legacy-DDx73_w7.js","./leaflet-legacy-CY6cmsxr.js"],(function(e,t){"use strict";var a,n,o,l,i,r,s,m,d,u,c,p,g,v,h,y,f,b,A,N,S,w,T,I,x,F,D,C,O,L,z,M,k,_,E,R,P,B,W,H,U,Z,V,Q,j,q,J,X,G,K,Y,$,ee,te,ae;return{setters:[e=>{a=e.d,n=e.u,o=e.F,l=e.G,i=e.H,r=e.J,s=e.K,m=e.L,d=e.M,u=e.r,c=e.S,p=e.T,g=e.U,v=e.c,h=e.V,y=e.h,f=e.Q,b=e.b,A=e.e,N=e.Y,S=e.f,w=e.X,T=e.p,I=e._,x=e.D,F=e.w,D=e.E,C=e.i,O=e.j,L=e.l,z=e.m,M=e.n,k=e.I},e=>{_=e.u,E=e.a,R=e.n,P=e.o,B=e.E,W=e.i,H=e.q,U=e.c,Z=e.s,V=e.k,Q=e.v,j=e.m,q=e.l,J=e.g,X=e.f,G=e.j,K=e.h,Y=e.t,$=e.p,ee=e.T,te=e.I,ae=e.U},null],execute:function(){var t=document.createElement("style");t.textContent=".chart[data-v-da0f0dc6],.chart[data-v-1518ec8f]{position:absolute;width:100%;height:100%}\n/*$vite$:1*/",document.head.appendChild(t);const ne=1e5,oe=I(a({__name:"FroHavet",setup(e,{expose:t}){_([W,H,U,Z,V,Q,j,q,J,X,G,K,Y]);const{t:a,locale:I}=n({useScope:"local"}),{theme:x,initOptions:F}=E(),D=o(),C=l(),{coordsFormat:O}=i(D),{POIs:L,locationActive:z}=i(C),{coords:M,locatedAt:k}=r();s(M,(()=>{const e=M.value.latitude,t=M.value.longitude,a=M.value.accuracy;e&&t&&e<1/0&&t<1/0&&k.value&&a&&C.addPoi("locate",m.latLng(e,t),new Date(k.value),a)})),s(L.value,(()=>{const e=C.getPoi("click"),t=C.getPoi("locate");e?ie.value.setLatLng(e.position):t&&re.value.setLatLng(t.position)})),s(z,(()=>{me.value&&z.value==C.MarkerState.Clearable?re.value.addTo(me.value):me.value&&z.value==C.MarkerState.Placeable&&me.value.removeLayer(re.value)}));const oe=m.icon({iconUrl:d("pin","svg"),iconSize:[40,40],iconAnchor:[20,39],tooltipAnchor:[5,-33],className:"raudfinn-marker"}),le=m.icon({iconUrl:d("locate","svg"),iconSize:[40,40],iconAnchor:[20,20],tooltipAnchor:[5,0],className:"raudfinn-marker"}),ie=u(m.marker([0,0],{icon:oe}));ie.value.bindTooltip((e=>R(ie.value.getLatLng()).format(O.value)));const re=u(m.marker([0,0],{icon:le}));re.value.bindTooltip((e=>{const t=C.getPoi("locate");let n="";if(t&&(n=new Intl.DateTimeFormat(I.value,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timeZoneName:"short"}).format(t.when),n+="<br><b>",n+=a("Accuracy")+": "+t.text+"</b> m",e)){const a=e.getTooltip();if(a&&t.text&&"number"==typeof t.text&&t.text>100&&a.getElement()instanceof HTMLElement){const e=a.getElement();e&&m.DomUtil.addClass(e,"raudfinn-warning")}}return R(re.value.getLatLng()).format(O.value)+"<br>"+n}));const se=u({}),me=u({}),de=u([]),ue=u(-1);T(ee,x),T(te,F),T(ae,{notMerge:!1,lazyUpdate:!0});const ce=c("frohavet");ce.setSpaceStride(2);const pe={lat:[63.5,64.3],lng:[8.2,10]};ce.setBoundingBox(pe);const{timeStride:ge,spaceStride:ve,region:he,boundingBox:ye,activeLayer:fe,activeLayerName:be,sinmod_info:Ae}=i(ce),{data:Ne}=p(ge,he),{array:Se}=g(ge,ve,he,ye),we=u(0),Te=v((()=>Se.value?.length>we.value&&Se.value[we.value].isSuccess?Se.value[we.value].data:[[0,0,.1,.1,.2,0,.1,-.1,"2025",1,1,1,1,1,1,1,1]])),Ie=u(10.5),xe=u(h(ye));s(Ie,(()=>{const e=Ie.value;var t;ce.setSpaceStride((t=e)>11||t<=11&&t>10?2:3)})),s(xe,(()=>{try{se.value?.setOption({dataset:{fromDatasetId:"sinmod-dataset",id:"sinmod-dataset-filtered",transform:{type:"filter",config:{and:[{dimension:"lng0",">":xe.value.lng[0],"<":xe.value.lng[1]},{dimension:"lat0",">":xe.value.lat[0],"<":xe.value.lat[1]}]}}}}),Ie.value>10||ce.setBoundingBox(pe)}catch{}}));const Fe=u(!0),De=()=>{try{se.value?.setOption({visualMap:{id:"sinmod",text:Ae.value.text,show:!0,right:0,padding:8,top:172,itemWidth:24,itemHeight:80,handleSize:"140%",calculable:!0,realtime:!0,outOfRange:{color:["rgba(127,127,127,0.2)","rgba(127,127,127,0.2)"],colorAlpha:[0,0]},type:"continuous",seriesIndex:4,precision:2,inverse:!1,dimension:Ae.value.dimension,min:Ae.value.color_range[0],max:Ae.value.color_range[1],range:Ae.value.visible_range,inRange:{color:Ae.value.colors}}})}catch{}};s(Ae,(()=>{De()})),s(Ne,(()=>{Ce()})),s(Te,(()=>{Oe()}));const Ce=()=>{const e=new Array;Ne.value?.timestrings.forEach(((t,a)=>{e.push({series:[{},{},{},{},{datasetId:"sinmod-dataset-"+Number(a).toString(10)}]}),se.value?.setOption({dataset:{id:"sinmod-dataset-"+Number(a).toString(10),fromDatasetId:"sinmod-dataset",transform:{type:"filter",config:{dimension:"time","=":t,parser:"time"},print:!1}}})})),se.value?.setOption({timeline:{data:Ne.value?.timestrings},options:e})},Oe=async()=>{se.value?.setOption({dataset:{id:"sinmod-dataset",source:Te.value}})},Le=v((()=>[{name:a("Operational region")},{name:a("Net sample",2),icon:"pin"},{name:"SILCAM",icon:"diamond"}])),ze={backgroundColor:"rgba(255,255,255,0)",legend:[{id:"sparse",data:Le.value,textStyle:{fontSize:14},top:1,borderWidth:1,borderRadius:2,left:"20%",orient:"vertical",show:!0},{id:"dense",data:["SINMOD - FROHAVET"],textStyle:{fontSize:14},top:1,borderWidth:1,borderRadius:2,right:"center",orient:"vertical",show:!0,selected:{"SINMOD - FROHAVET":!0}}],timeline:{left:"5%",right:"5%",bottom:10,show:!0,axisType:"category",symbol:"roundRect",realtime:!0,loop:!0,autoPlay:!1,controlStyle:{showPlayBtn:!0,stopIcon:"image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAGpJREFUWAntlkEKwDAIBKP+/znt82xrD6FIpSSHXDpCQBeXDXOyNQoCBQEz21T1eL7QivUuj/qkO1MTwUm6R3cvPbEw6tO3kJUaH4AABCAAAQhAAAIQgEBJQET2fJxe2udZPuvLWcz/IXACuUMWMJDzUAgAAAAASUVORK5CYII=",playIcon:"path://M41.365908,29.4271388 L41.3664843,29.4265626 L26.3794329,19.1497136 L26.3747509,19.1541315 C26.0642269,18.8592621 25.6429678,18.677793 25.1786824,18.677793 C24.2236284,18.677793 23.4494433,19.4443188 23.4494433,20.3905371 C23.4494433,20.910214 23.4270417,21.9276946 23.4494433,21.9056292 L23.4494433,30.6673861 L23.4494433,39.8901629 C23.4494433,39.8977982 23.4494433,40.4825908 23.4494433,40.9444991 C23.4494433,41.8901412 24.2236284,42.656691 25.1786824,42.656691 C25.6447205,42.656691 26.0677564,42.4740454 26.3782564,42.1764869 L26.3794329,42.1770872 L41.3664843,31.9005503 L41.3659081,31.8996379 C41.6917266,31.5882735 41.894997,31.1514078 41.894997,30.6670739 C41.894997,30.6658974 41.894997,30.6650091 41.894997,30.6635444 C41.894997,30.6623679 41.894997,30.6609273 41.894997,30.6600389 C41.894997,30.175657 41.6917265,29.7384792 41.365908,29.4271388 Z"},symbolSize:15,playInterval:1500,itemStyle:{borderWidth:2},emphasis:{label:{fontSize:14,fontWeight:"bolder"}},checkpointStyle:{symbol:"pin",symbolSize:16},lineStyle:{width:3},label:{align:"left",fontSize:14,fontWeight:"bold",padding:2,formatter:function(e,t){if(t%6==0){const t={month:"short",day:"numeric",timeZoneName:"short",hour:"numeric",minute:"numeric",hour12:!1};return new Intl.DateTimeFormat(I.value,t).format(new Date(y(e).toDate()))}if(t%6==1)return"";{const t={hour:"numeric",minute:"numeric",hour12:!1};return new Intl.DateTimeFormat(I.value,t).format(new Date(y(e).toDate()))}}},tooltip:{textStyle:{fontSize:14},formatter:e=>new Intl.DateTimeFormat(I.value,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timeZoneName:"short"}).format(new Date(y(e.name).toDate()))}},tooltip:{},toolbox:{itemSize:24,top:32,left:64,orient:"vertical",feature:{saveAsImage:{name:"sfiharvest",backgroundColor:"rgba(255,255,255,1)",excludeComponents:["toolbox"],iconStyle:{borderColor:"#4170f0",borderWidth:2},emphasis:{iconStyle:{textFill:"rgba(0,0,0,1)",textBackgroundColor:"rgba(255,255,255,0.7)",textPadding:4}}}}},lmap:{attributionControl:!1,center:[9,64],zoom:10.5,minZoom:8,resizeEnable:!0,renderOnMoving:!1,echartsLayerInteractive:!0,largeMode:!1,zoomControl:!1,zoomSnap:.5,zoomDelta:.5,zoomAnimation:!1,fadeAnimation:!1,wheelPxPerZoomLevel:120},dataset:(()=>{const e=new Array;return e.push({id:"operational-area",dimensions:[{type:"number",name:"lat0"},{type:"number",name:"lng0"},{type:"number",name:"lat1"},{type:"number",name:"lng1"},{type:"number",name:"lat2"},{type:"number",name:"lng2"},{type:"number",name:"lat3"},{type:"number",name:"lng3"}],sourceHeader:1,source:[["lat0","lon0","lat1","lon1","lat2","lon2","lat3","lon3"],[63.9,9,63.9,9.2,63.83,9.17,63.8,9]]}),e.push({id:"net-samples-dataset",dimensions:[{type:"number",name:"lat"},{type:"number",name:"lng"},{type:"time",name:"timestamp"},"density"],sourceHeader:1,source:[["lat","lon","datetime","density"],[63.865,9.03,"2025-05-16T12:22:33.123",0],[63.81,9.02,"2025-05-17T12:22:43.123",30],[63.8,9.08,"2025-05-19T12:22:43.123",80]]}),e.push({id:"silcam-dataset",dimensions:[{type:"number",name:"lng0"},{type:"number",name:"lat0"},{type:"number",name:"lng1"},{type:"number",name:"lat1"},{type:"time",name:"timestamp"},"density"],sourceHeader:1,source:[["lng0","lat0","lng1","lat1","datetime","density"],[9,63,805,9,63.81,"2025-05-16T12:22:33.123",0],[9,63.81,9.01,63.81,"2025-05-17T12:22:43.123",30],[9.01,63.81,9.02,63.82,"2025-05-19T12:22:53.123",80],[9.02,63.82,9.03,63.82,"2025-05-17T12:23:03.123",60],[9.03,63.82,9.04,63.83,"2025-05-19T12:23:13.123",20]]}),e.push({id:"vehicle-dataset",dimensions:[{type:"number",name:"id"},{type:"ordinal",name:"vehicle_id"},{type:"number",name:"lat0"},{type:"number",name:"lng0"},{type:"number",name:"lat1"},{type:"number",name:"lng1"},{type:"time",name:"timestamp"}],sourceHeader:1,source:[["id","vehicle_id","lat0","lon0","lat1","lon1","datetime"],[0,"Grethe",63.86,9.05,63.86,9.08,"2025-05-17T12:22:33.123"],[1,"Thor",63.88,9.05,63.88,9.08,"2025-05-17T12:22:33.123"],[2,"Roald",63.88,9.1,63.84,9.08,"2025-05-17T12:22:33.123"],[3,"Yellow AutoNaut",63.83,9,63.8,9.02,"2025-05-17T12:22:33.123"],[4,"Red AutoNaut",63.83,9.2,63.8,9.22,"2025-05-17T12:22:33.123"],[5,"Flyer",63.83,8.95,63.8,9,"2025-05-17T12:22:33.123"]]}),e.push({id:"sinmod-dataset",dimensions:[{type:"float",name:"id"},{type:"float",name:"lng0"},{type:"float",name:"lat0"},{type:"float",name:"lng1"},{type:"float",name:"lat1"},{type:"float",name:"lng2"},{type:"float",name:"lat2"},{type:"float",name:"lng3"},{type:"float",name:"lat3"},{type:"time",name:"time"},{type:"float",name:"calanus_finmarchicus"},{type:"float",name:"diatoms"},{type:"float",name:"flagellates"},{type:"float",name:"temperature"},{type:"float",name:"salinity"},{type:"float",name:"u_east"},{type:"float",name:"v_north"},{type:"float",name:"current"}],source:{id:new Float64Array(ne).map((()=>NaN)),lng0:new Float64Array(ne).map((()=>NaN)),lat0:new Float64Array(ne).map((()=>NaN)),lng1:new Float64Array(ne).map((()=>NaN)),lat1:new Float64Array(ne).map((()=>NaN)),lng2:new Float64Array(ne).map((()=>NaN)),lat2:new Float64Array(ne).map((()=>NaN)),lng3:new Float64Array(ne).map((()=>NaN)),lat3:new Float64Array(ne).map((()=>NaN)),time:new Array(ne).map((()=>"")),calanus_finmarchicus:new Float64Array(ne).map((()=>NaN)),diatoms:new Float64Array(ne).map((()=>NaN)),flagellates:new Float64Array(ne).map((()=>NaN)),temperature:new Float64Array(ne).map((()=>NaN)),salinity:new Float64Array(ne).map((()=>NaN)),u_east:new Float64Array(ne).map((()=>NaN)),v_north:new Float64Array(ne).map((()=>NaN)),current:new Float64Array(ne).map((()=>NaN))}}),e.push({fromDatasetId:"sinmod-dataset",id:"sinmod-dataset-filtered",transform:{type:"filter",config:{and:[{dimension:"lng0",">":xe.value.lng[0],"<":xe.value.lng[1]},{dimension:"lat0",">":xe.value.lat[0],"<":xe.value.lat[1]}]}}}),e})(),visualMap:[{id:"net-samples-visual",show:!0,right:0,bottom:60,padding:8,itemWidth:24,itemHeight:80,handleSize:"140%",calculable:!0,realtime:!0,inRange:{color:f({colormap:"density",nshades:20,format:"rgbaString",alpha:.8})},outOfRange:{color:["rgba(127,127,127,0.2)","rgba(127,127,127,0.2)"]},type:"continuous",precision:2,seriesIndex:1,dimension:3,text:[a("Net sample"),"TBD"],min:0,max:100},{id:"silcam-visual",show:!0,right:0,bottom:232,padding:8,itemWidth:24,itemHeight:80,text:["SILCAM","TBD"],handleSize:"140%",calculable:!0,realtime:!0,inRange:{color:f({colormap:"cdom",nshades:9,format:"rgbaString",alpha:.8})},outOfRange:{color:["rgba(127,127,127,0.2)","rgba(127,127,127,0.2)"]},type:"continuous",precision:2,seriesIndex:2,dimension:5,min:0,max:100},{id:"vehicle-visual",type:"piecewise",top:0,right:"20%",textStyle:{fontSize:14},min:0,max:5,seriesIndex:3,splitNumber:1,dimension:0,pieces:[{value:0,label:"Grethe",color:"#37A2DA"},{value:1,label:"Thor",color:"#b55dba"},{value:2,label:"Roald",color:"#37a354"},{value:3,label:"Yellow AutoNaut",color:"#b5bd48"},{value:4,label:"Red AutoNaut",color:"#e06343"},{value:5,label:"Flyer",color:"#8378EA"}]},{id:"sinmod",show:!0}],series:[{type:"custom",coordinateSystem:"lmap",name:a("Operational region"),id:"region",datasetId:"operational-area",progressive:1e4,progressiveChunkMode:"sequential",animation:!1,tooltip:{position:(e,t,a,n,o)=>({bottom:60,right:150}),formatter:e=>{if(e.value&&e.dimensionNames){let t="";const n=e.value,o=n[0],l=n[1],i=n[2],r=n[3],s=n[4],m=n[5],d=n[6],u=n[7];return t+='<table class="raudfinn-item">',t+='<tr><th colspan=3 align="center">'+e.marker+" "+a("Operational region")+"</th></tr>",t+="<tr><td><b>"+a("Edge",2)+'</b></td><td colspan=2 align="right">'+R({lng:o,lat:l}).format(O.value)+"</td></tr>",t+='<tr><td></td><td colspan=2 align="right">'+R({lng:i,lat:r}).format(O.value)+"</td></tr>",t+='<tr><td></td><td colspan=2 align="right">'+R({lng:s,lat:m}).format(O.value)+"</td></tr>",t+='<tr><td></td><td colspan=2 align="right">'+R({lng:d,lat:u}).format(O.value)+"</td></tr>",t+="</table>",t}return""}},renderItem:(e,t)=>({type:"polygon",shape:{points:[t.coord([t.value(1),t.value(0)]),t.coord([t.value(3),t.value(2)]),t.coord([t.value(5),t.value(4)]),t.coord([t.value(7),t.value(6)])]},style:{stroke:"#b7232d",lineWidth:2,fill:"rgba(0,0,0,0)"},emphasis:{style:{lineWidth:3}}})},{type:"scatter",coordinateSystem:"lmap",name:a("Net sample",2),id:"net-samples",datasetId:"net-samples-dataset",progressive:1e4,progressiveChunkMode:"sequential",animation:!1,symbol:"pin",symbolSize:e=>Math.max(20,e[3]/2.5),encode:{lng:"lng",lat:"lat",value:"density"},tooltip:{position:(e,t,a,n,o)=>({bottom:60,right:150}),formatter:e=>{if(e.value&&e.dimensionNames){let t="";const n=e.value,o=n[0],l=n[1],i=n[3],r=new Intl.DateTimeFormat(I.value,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timeZoneName:"short"}).format(y(n[2]).toDate());return t+='<table class="raudfinn-item">',t+='<tr><th colspan=3 align="center">'+e.marker+" "+a("Net sample")+"</th></tr>",t+="<tr><td><b>"+a("Timepoint")+'</b></td><td colspan=2 align="right">'+r+"</td></tr>",t+="<tr><td><b>"+a("Position")+'</b></td><td colspan=2 align="right">'+R({lng:o,lat:l}).format(O.value)+"</td></tr>",t+="<tr><td><b>"+a("Measurement")+'</b></td><td align="right">'+i.toFixed(2)+"</td><td>TBD</td></tr>",t+="</table>",t}return""}}},{type:"custom",coordinateSystem:"lmap",name:"SILCAM",id:"silcam",z:3,datasetId:"silcam-dataset",progressive:1e4,progressiveChunkMode:"sequential",animation:!1,encode:{lng:"lng0",lat:"lat0",value:"density"},tooltip:{position:(e,t,a,n,o)=>({bottom:60,right:150}),formatter:e=>{if(e.value&&e.dimensionNames){let t="";const n=e.value,o=n[0],l=n[1],i=n[5],r=new Intl.DateTimeFormat(I.value,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timeZoneName:"short"}).format(y(n[4]).toDate());return t+='<table class="raudfinn-item">',t+='<tr><th colspan=3 align="center">'+e.marker+" SILCAM</th></tr>",t+="<tr><td><b>"+a("Timepoint")+'</b></td><td colspan=2 align="right">'+r+"</td></tr>",t+="<tr><td><b>"+a("Position")+'</b></td><td colspan=2 align="right">'+R({lng:o,lat:l}).format(O.value)+"</td></tr>",t+="<tr><td><b>"+a("Measurement")+'</b></td><td align="right">'+i.toFixed(2)+"</td><td>TBD</td></tr>",t+="</table>",t}return""}},renderItem:(e,t)=>{const a=[t.value("lng0"),t.value("lat0"),t.value("lng1"),t.value("lat1")];for(let l=0;l<a.length;l++)if(isNaN(a[l]))return{type:"text"};const n=t.coord([t.value("lng0"),t.value("lat0")]),o=t.coord([t.value("lng1"),t.value("lat1")]);return{type:"line",shape:{x1:n[0],y1:n[1],x2:o[0],y2:o[1]},style:{lineWidth:2,stroke:t.visual("color")},emphasis:{style:{lineWidth:3,stroke:t.visual("color")}}}}},{type:"custom",coordinateSystem:"lmap",name:a("Vehicle",2),id:"vehicles",z:3,datasetId:"vehicle-dataset",progressive:1e4,progressiveChunkMode:"sequential",animation:!1,itemStyle:{borderColor:"#555"},encode:{lng:"lng0",lat:"lat0"},renderItem:(e,t)=>{const a=[t.value("lng0"),t.value("lat0"),t.value("lng1"),t.value("lat1")];for(let l=0;l<a.length;l++)if(isNaN(a[l]))return{type:"text"};const n=t.coord([t.value("lng0"),t.value("lat0")]),o=t.coord([t.value("lng1"),t.value("lat1")]);return{type:"line",shape:{x1:n[0],y1:n[1],x2:o[0],y2:o[1]},style:{lineWidth:2,stroke:t.visual("color")},emphasis:{style:{lineWidth:3,stroke:t.visual("color")}}}},tooltip:{position:(e,t,a,n,o)=>({bottom:60,right:150}),formatter:e=>{if(e.value&&e.dimensionNames){let t="";const n=e.value,o=n[3],l=n[2];n[5],n[4];const i=new Intl.DateTimeFormat(I.value,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timeZoneName:"short"}).format(y(n[6]).toDate());return t+='<table class="raudfinn-item">',t+='<tr><th colspan=3 align="center">'+e.marker+" "+a("Vehicle")+"</th></tr>",t+="<tr><td><b>"+a("Vehicle")+'</b></td><td colspan=2 align="right">'+n[1]+"</td></tr>",t+="<tr><td><b>"+a("Timepoint")+'</b></td><td colspan=2 align="right">'+i+"</td></tr>",t+="<tr><td><b>"+a("Position")+'</b></td><td colspan=2 align="right">'+R({lng:o,lat:l}).format(O.value)+"</td></tr>",t+="</table>",t}return""}}},{type:"custom",z:1,coordinateSystem:"lmap",name:"SINMOD - FROHAVET",id:"frohavet",renderItem:P(Ae),tooltip:{position:(e,t,a,n,o)=>({bottom:60,left:20}),formatter:e=>{if(e.value&&e.dimensionNames){let t="";const n=e.value,o=n[2],l=n[1],i=n[4],r=n[3],s=n[6],d=n[5],u=n[8],c=n[7],p=.25*(o+i+s+u),g=.25*(l+r+d+c),v=me.value?.distance(m.latLng(o,l),m.latLng(i,r)),h=me.value?.distance(m.latLng(o,l),m.latLng(u,c)),f=.5*(v+h),b=9,A=new Intl.DateTimeFormat(I.value,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timeZoneName:"short"}).format(y(n[b]).toDate());return t+='<table class="raudfinn-item">',t+='<tr><th colspan=3 align="center">'+e.marker+" "+Ae.value.description+"</th></tr>",t+="<tr><td><b>"+a("Timepoint")+'</b></td><td colspan=2 align="right">'+A+"</td></tr>",t+="<tr><td><b>"+a("Position")+'</b></td><td colspan=2 align="right">'+R({lng:g,lat:p}).format(O.value)+"</td></tr>",t+="<tr><td><b>"+a("Resolution")+'</b></td><td align="right">'+f.toFixed(0)+"</td><td>m</td></tr>",t+='<tr><td colspan=3 class="raudfinn-item-td"></td></tr>',Object.values(N).forEach((o=>{e.dimensionNames&&(t+="<tr><td><b>"+a(e.dimensionNames[o.dimension])+'</b></td><td align="right">'+n[o.dimension].toFixed(2)+"</td><td>"+o.unit+"</td></tr>")})),t+="</table>",t}return""}},datasetId:"sinmod-dataset",progressive:1e4,progressiveChunkMode:"sequential",animation:!1}]},Me=u(!0);s(x,(()=>{Me.value=!0,ke()})),s(F,(()=>{Me.value=!0,ke()})),s(se,((e,t)=>{Me.value=!0,ke()})),s(me,((e,t)=>{Oe()}));const ke=()=>{setTimeout((()=>{if(Me.value&&(Me.value=!$(ue,me,se,de),se.value?.setOption(ze),se.value?.setOption({legend:{id:"sparse",data:Le.value}}),se.value?.setOption({series:{name:a("Operational region"),id:"region"}}),se.value?.setOption({visualMap:{id:"net-samples-visual",text:[a("Net sample"),"TBD"]},series:{name:a("Net sample",2),id:"net-samples"}}),De(),Ce()),me.value)try{me.value.invalidateSize(),ie.value.addTo(me.value),Ie.value=me.value.getZoom(),me.value.on("moveend",(e=>{const t=me.value.getBounds(),a=t.getEast()-t.getWest(),n=t.getNorth()-t.getSouth(),o=.05;xe.value={lng:[t.getWest()-o*a,t.getEast()+o*a],lat:[t.getSouth()-o*n,t.getNorth()+o*n]}})),me.value.on("zoomend",(e=>{Ie.value=me.value.getZoom()}))}catch{console.warn("Map does not exist yet")}}),50)},_e=e=>{Fe.value!=e.selected["SINMOD - FROHAVET"]&&(Fe.value=e.selected["SINMOD - FROHAVET"])},Ee=e=>{e.playState&&!Fe.value&&((async e=>{const t=await w.create({message:e,duration:3e3,position:"middle"});await t.present()})(a("SINMOD disabled")),se.value?.dispatchAction({type:"timelinePlayChange",playState:!1}))},Re=e=>{we.value=e.currentIndex},Pe=e=>{setTimeout((()=>{se.value&&se.value.dispatchAction({type:"hideTip"})}),3e3)};return t({doPlot:ke}),(e,t)=>(S(),b(A(B),{ref_key:"theChart",ref:se,class:"chart","manual-update":!0,autoresize:!0,option:ze,onClick:Pe,onLegendselectchanged:_e,onTimelineplaychanged:Ee,onTimelinechanged:Re},null,512))}}),[["__scopeId","data-v-da0f0dc6"]]);e("default",I(a({__name:"FrohavetPage",setup(e){const t=u({});return x((()=>{t.value.doPlot()})),(e,a)=>(S(),b(A(D),null,{default:F((()=>[C(A(k),{fullscreen:!0},{default:F((()=>[C(A(O),{class:"raudfinn-grid"},{default:F((()=>[C(A(L),{class:"raudfinn-col-0",size:"12",style:{display:"flex"}},{default:F((()=>[C(A(z),{class:"raudfinn-card"},{default:F((()=>[C(A(M),{class:"raudfinn-card-content",style:{position:"relative"}},{default:F((()=>[C(oe,{ref_key:"theMap",ref:t,name:"Frohavet map"},null,512)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}))}}),[["__scopeId","data-v-1518ec8f"]]))}}}));
