import{d as fe,u as ve,r as R,a6 as ge,a7 as he,F as me,S as pe,O as _e,H as Ie,U as Fe,W as ye,c,o as Se,b as w,w as s,e,E as ke,i as a,a8 as Ce,a9 as Ee,aa as o,ab as u,ac as be,ad as D,ae as d,q as j,x as f,A as i,af as Le,ag as we,ah as De,ai as Qe,aj as M,ak as B,al as q,am as N,an as Te,ao as $e,M as Pe,ap as Re,aq as Me,ar as Be,v,C as g,as as G,at as W,au as K,av as J,aw as X,I as qe,f as h,ax as O,_ as Ne}from"./index-D42ZD87f.js";import"./leaflet-CYx1M_cZ.js";const Ke=fe({__name:"SettingsPage",setup(Oe){const{t,locale:U}=ve({useScope:"local"}),Y=R({});R({});const m=R(!0),Z=ge(),E=he(),b=me(),ee=pe("midnor"),V=window.matchMedia("(prefers-color-scheme: dark)"),{lngQuery:p,latQuery:_,coordQuery:I,threeQuery:F,fiveQuery:y,sevenQuery:S,elevenQuery:k,arrayQuery:C}=_e(),{timeStride:ae,spaceStride:le,region:te,boundingBox:se}=Ie(ee),{timestrings:Q,coords:T,array:L}=Fe(ae,le,te,se),x=ye();V.addListener(l=>{m.value=l.matches});const re=l=>{try{m.value=l.detail.checked,Z.setDarkTheme(m.value)}catch(n){}},ne=()=>{x.refetchQueries({queryKey:["sinmod"],type:"all"})},ue=()=>{x.refetchQueries({queryKey:["raudsat"],type:"all"})},$=c(()=>T.isError.value||Q.isError.value||L.value.reduce((l,n)=>l||n.isError,!1)),P=c(()=>T.isFetching.value||Q.isFetching.value||L.value.reduce((l,n)=>l||n.isFetching,!1)),z=c(()=>!P.value&&!$.value),oe=c(()=>L.value.reduce((l,n)=>l||n.isPending,!1)||T.isPending.value||Q.isPending.value),ie=c(()=>P.value?t("Fetching"):oe.value?t("Processing"):$.value?L.value.map(l=>l.error):z.value?t("success"):""),A=c(()=>p.isFetching.value||_.isFetching.value||I.isFetching.value||F.isFetching.value||y.isFetching.value||S.isFetching.value||k.isFetching.value||C.isFetching.value),ce=c(()=>!A.value&&!H.value),H=c(()=>p.isError.value||_.isError.value||I.isError.value||F.isError.value||y.isError.value||S.isError.value||k.isError.value||C.isError.value),de=c(()=>{let l="";return l+=" Lng: "+t(p.status.value),p.isError.value&&(l+=" "+p.error.value),l+=", Lat: "+t(_.status.value),_.isError.value&&(l+=" "+_.error.value),l+=", Coord: "+t(I.status.value),I.isError.value&&(l+=" "+I.error.value),l+=", 3d: ",F.isFetching.value?l+=" "+t("Fetching"):F.isError.value?l+=" "+F.error.value:l+=" "+t("success"),l+=", 5d: ",y.isFetching.value?l+=" "+t("Fetching"):y.isError.value?l+=" "+y.error.value:l+=" "+t("success"),l+=", 7d: ",S.isFetching.value?l+=" "+t("Fetching"):S.isError.value?l+=" "+S.error.value:l+=" "+t("success"),l+=", 11d: ",k.isFetching.value?l+=" "+t("Fetching"):k.isError.value?l+=" "+k.error.value:l+=" "+t("success"),l+=", "+t("Table")+": ",C.isFetching.value?l+=t("Fetching"):C.isError.value?l+=C.error.value:l+=t("success"),l});return Se(()=>{m.value=V.matches}),(l,n)=>(h(),w(e(ke),null,{default:s(()=>[a(e(be),null,{default:s(()=>[a(e(Ce),null,{default:s(()=>[a(e(Ee),null,{default:s(()=>[o(u(e(t)("Setting",2)),1)]),_:1})]),_:1})]),_:1}),a(e(qe),{fullscreen:!0},{default:s(()=>[a(e(D),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("General",2)),1)]),_:1})]),_:1}),a(e(j),null,{default:s(()=>[a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:m.value?e(Le):e(we)},null,8,["icon"]),o(" "+u(e(t)("Dark theme"))+" ",1),a(e(De),{ref_key:"themeToggle",ref:Y,checked:m.value,onIonChange:re,slot:"end"},null,8,["checked"])]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:e(Qe)},null,8,["icon"]),a(e(M),{interface:"popover",label:e(t)("Distance"),placeholder:e(t)(e(E).distanceUnit),onIonChange:n[0]||(n[0]=r=>e(E).setUnitKm(r.detail.value==="km"))},{default:s(()=>[(h(!0),B(N,null,q(e(E).alternatives,r=>(h(),w(e(O),{key:"dist-".concat(r),value:r,selected:r===e(E).distanceUnit},{default:s(()=>[o(u(l.$t(r)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:e(Te)},null,8,["icon"]),a(e(M),{interface:"popover",label:e(t)("Format")+" "+e(t)("Coordinate",2).toLowerCase(),placeholder:e(t)(e(b).theFormat),onIonChange:n[1]||(n[1]=r=>e(b).setCoordsFormat(r.detail.value))},{default:s(()=>[(h(!0),B(N,null,q(e(b).alternatives,r=>(h(),w(e(O),{key:"dist-".concat(r),value:r,selected:r===e(b).theFormat},{default:s(()=>[o(u(l.$t(r)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e($e),{slot:"start",class:"language-flag",src:e(Pe)(e(U),"svg")},null,8,["src"]),a(e(M),{interface:"popover",label:e(t)("Language"),placeholder:e(t)(e(U)),onIonChange:n[2]||(n[2]=r=>l.$i18n.locale=r.detail.value)},{default:s(()=>[(h(!0),B(N,null,q(l.$i18n.availableLocales,r=>(h(),w(e(O),{key:"locale-".concat(r),value:r,selected:r===l.$i18n.locale},{default:s(()=>[o(u(l.$t(r)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),a(e(D),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("Information")),1)]),_:1})]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:e(Re)},null,8,["icon"]),a(e(d),{class:"leaflet-attribution"},{default:s(()=>[o(u(e(t)("Attribution"))+" "+u(e(t)("MapLayer").toLowerCase())+": ",1),n[3]||(n[3]=Me("a",{href:"https://www.kartverket.no",target:"_blank",rel:"noopener noreferrer"},"Kartverket",-1))]),_:1})]),_:1}),a(e(D),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("Setting",2))+" "+u(e(t)("MapLayer").toLowerCase()),1)]),_:1})]),_:1})]),_:1}),a(Be),a(e(D),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("Information"))+" "+u(e(t)("Download",2).toLowerCase()),1)]),_:1})]),_:1}),a(e(j),null,{default:s(()=>[a(e(f),{lines:"full"},{default:s(()=>[v(a(e(G),{name:"bubbles",slot:"start"},null,512),[[g,A.value]]),v(a(e(i),{slot:"start",icon:e(W)},null,8,["icon"]),[[g,H.value]]),v(a(e(i),{slot:"start",icon:e(K)},null,8,["icon"]),[[g,ce.value]]),a(e(d),{slot:"start"},{default:s(()=>n[4]||(n[4]=[o("Raudsat")])),_:1}),a(e(d),null,{default:s(()=>[o(u(de.value),1)]),_:1}),a(e(J),{shape:"round",slot:"end",fill:"outline",size:"small",onClick:ue},{default:s(()=>[o(u(e(t)("Refetch"))+" ",1),a(e(i),{slot:"end",icon:e(X)},null,8,["icon"])]),_:1})]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[v(a(e(G),{name:"bubbles",slot:"start"},null,512),[[g,P.value]]),v(a(e(i),{slot:"start",icon:e(W)},null,8,["icon"]),[[g,$.value]]),v(a(e(i),{slot:"start",icon:e(K)},null,8,["icon"]),[[g,z.value]]),v(a(e(i),{slot:"start",icon:e(K)},null,8,["icon"]),[[g,!1]]),a(e(d),{slot:"start"},{default:s(()=>n[5]||(n[5]=[o("SINMOD - MIDNOR")])),_:1}),a(e(d),null,{default:s(()=>[o(u(ie.value),1)]),_:1}),a(e(J),{shape:"round",slot:"end",fill:"outline",size:"small",onClick:ne},{default:s(()=>[o(u(e(t)("Refetch"))+" ",1),a(e(i),{slot:"end",icon:e(X)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),xe=Ne(Ke,[["__scopeId","data-v-c849dd10"]]);export{xe as default};
