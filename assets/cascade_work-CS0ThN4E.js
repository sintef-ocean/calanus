var wc=Object.defineProperty;var tu=t=>{throw TypeError(t)};var Ac=(t,e,r)=>e in t?wc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ec=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var vt=(t,e,r)=>Ac(t,typeof e!="symbol"?e+"":e,r),Za=(t,e,r)=>e.has(t)||tu("Cannot "+r);var ut=(t,e,r)=>(Za(t,e,"read from private field"),r?r.call(t):e.get(t)),Qt=(t,e,r)=>e.has(t)?tu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Lt=(t,e,r,n)=>(Za(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Qa=(t,e,r)=>(Za(t,e,"access private method"),r);var r3=Ec((at,Xi)=>{/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kh=Symbol("Comlink.proxy"),bc=Symbol("Comlink.endpoint"),Cc=Symbol("Comlink.releaseProxy"),Ja=Symbol("Comlink.finalizer"),zi=Symbol("Comlink.thrown"),Ih=t=>typeof t=="object"&&t!==null||typeof t=="function",Fc={canHandle:t=>Ih(t)&&t[kh],serialize(t){const{port1:e,port2:r}=new MessageChannel;return Hs(t,e),[r,[r]]},deserialize(t){return t.start(),Tc(t)}},xc={canHandle:t=>Ih(t)&&zi in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},Ph=new Map([["proxy",Fc],["throw",xc]]);function Sc(t,e){for(const r of t)if(e===r||r==="*"||r instanceof RegExp&&r.test(e))return!0;return!1}function Hs(t,e=globalThis,r=["*"]){e.addEventListener("message",function n(i){if(!i||!i.data)return;if(!Sc(r,i.origin)){console.warn("Invalid origin '".concat(i.origin,"' for comlink proxy"));return}const{id:a,type:s,path:o}=Object.assign({path:[]},i.data),u=(i.data.argumentList||[]).map(Rr);let h;try{const f=o.slice(0,-1).reduce((c,v)=>c[v],t),l=o.reduce((c,v)=>c[v],t);switch(s){case"GET":h=l;break;case"SET":f[o.slice(-1)[0]]=Rr(i.data.value),h=!0;break;case"APPLY":h=l.apply(f,u);break;case"CONSTRUCT":{const c=new l(...u);h=Ic(c)}break;case"ENDPOINT":{const{port1:c,port2:v}=new MessageChannel;Hs(t,v),h=Zs(c,[c])}break;case"RELEASE":h=void 0;break;default:return}}catch(f){h={value:f,[zi]:0}}Promise.resolve(h).catch(f=>({value:f,[zi]:0})).then(f=>{const[l,c]=ea(f);e.postMessage(Object.assign(Object.assign({},l),{id:a}),c),s==="RELEASE"&&(e.removeEventListener("message",n),Rh(e),Ja in t&&typeof t[Ja]=="function"&&t[Ja]())}).catch(f=>{const[l,c]=ea({value:new TypeError("Unserializable return value"),[zi]:0});e.postMessage(Object.assign(Object.assign({},l),{id:a}),c)})}),e.start&&e.start()}function Nc(t){return t.constructor.name==="MessagePort"}function Rh(t){Nc(t)&&t.close()}function Tc(t,e){const r=new Map;return t.addEventListener("message",function(i){const{data:a}=i;if(!a||!a.id)return;const s=r.get(a.id);if(s)try{s(a)}finally{r.delete(a.id)}}),Ds(t,r,[],e)}function Bi(t){if(t)throw new Error("Proxy has been released and is not useable")}function Lh(t){return nn(t,new Map,{type:"RELEASE"}).then(()=>{Rh(t)})}const Ki=new WeakMap,ta="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Ki.get(t)||0)-1;Ki.set(t,e),e===0&&Lh(t)});function Bc(t,e){const r=(Ki.get(e)||0)+1;Ki.set(e,r),ta&&ta.register(t,e,t)}function Oc(t){ta&&ta.unregister(t)}function Ds(t,e,r=[],n=function(){}){let i=!1;const a=new Proxy(n,{get(s,o){if(Bi(i),o===Cc)return()=>{Oc(a),Lh(t),e.clear(),i=!0};if(o==="then"){if(r.length===0)return{then:()=>a};const u=nn(t,e,{type:"GET",path:r.map(h=>h.toString())}).then(Rr);return u.then.bind(u)}return Ds(t,e,[...r,o])},set(s,o,u){Bi(i);const[h,f]=ea(u);return nn(t,e,{type:"SET",path:[...r,o].map(l=>l.toString()),value:h},f).then(Rr)},apply(s,o,u){Bi(i);const h=r[r.length-1];if(h===bc)return nn(t,e,{type:"ENDPOINT"}).then(Rr);if(h==="bind")return Ds(t,e,r.slice(0,-1));const[f,l]=eu(u);return nn(t,e,{type:"APPLY",path:r.map(c=>c.toString()),argumentList:f},l).then(Rr)},construct(s,o){Bi(i);const[u,h]=eu(o);return nn(t,e,{type:"CONSTRUCT",path:r.map(f=>f.toString()),argumentList:u},h).then(Rr)}});return Bc(a,t),a}function kc(t){return Array.prototype.concat.apply([],t)}function eu(t){const e=t.map(ea);return[e.map(r=>r[0]),kc(e.map(r=>r[1]))]}const Yh=new WeakMap;function Zs(t,e){return Yh.set(t,e),t}function Ic(t){return Object.assign(t,{[kh]:!0})}function ea(t){for(const[e,r]of Ph)if(r.canHandle(t)){const[n,i]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},i]}return[{type:"RAW",value:t},Yh.get(t)||[]]}function Rr(t){switch(t.type){case"HANDLER":return Ph.get(t.name).deserialize(t.value);case"RAW":return t.value}}function nn(t,e,r,n){return new Promise(i=>{const a=Pc();e.set(a,i),t.start&&t.start(),t.postMessage(Object.assign({id:a},r),n)})}function Pc(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}class yi extends Error{constructor(e,r={}){super("Node not found: ".concat(e),r),this.name="NodeNotFoundError"}}class Qs extends Error{constructor(e){super("Missing key: ".concat(e)),this.name="KeyError"}}var Ne;class $h{constructor(e,r,n){Qt(this,Ne);typeof e=="number"?Lt(this,Ne,new Uint8Array(e)):e instanceof ArrayBuffer?Lt(this,Ne,new Uint8Array(e,r,n)):Lt(this,Ne,new Uint8Array(Array.from(e,i=>i?1:0)))}get BYTES_PER_ELEMENT(){return 1}get byteOffset(){return ut(this,Ne).byteOffset}get byteLength(){return ut(this,Ne).byteLength}get buffer(){return ut(this,Ne).buffer}get length(){return ut(this,Ne).length}get(e){let r=ut(this,Ne)[e];return typeof r=="number"?r!==0:r}set(e,r){ut(this,Ne)[e]=r?1:0}fill(e){ut(this,Ne).fill(e?1:0)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}Ne=new WeakMap;var _n;class Js{constructor(e,r,n,i){vt(this,"_data");vt(this,"chars");Qt(this,_n);if(this.chars=e,Lt(this,_n,new TextEncoder),typeof r=="number")this._data=new Uint8Array(r*e);else if(r instanceof ArrayBuffer)i&&(i=i*e),this._data=new Uint8Array(r,n,i);else{let a=Array.from(r);this._data=new Uint8Array(a.length*e);for(let s=0;s<a.length;s++)this.set(s,a[s])}}get BYTES_PER_ELEMENT(){return this.chars}get byteOffset(){return this._data.byteOffset}get byteLength(){return this._data.byteLength}get buffer(){return this._data.buffer}get length(){return this.byteLength/this.BYTES_PER_ELEMENT}get(e){const r=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);return new TextDecoder().decode(r).replace(/\x00/g,"")}set(e,r){const n=new Uint8Array(this.buffer,this.byteOffset+this.chars*e,this.chars);n.fill(0),n.set(ut(this,_n).encode(r))}fill(e){const r=ut(this,_n).encode(e);for(let n=0;n<this.length;n++)this._data.set(r,n*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}}_n=new WeakMap;var le;const Ho=class Ho{constructor(e,r,n,i){Qt(this,le);vt(this,"chars");if(this.chars=e,typeof r=="number")Lt(this,le,new Int32Array(r*e));else if(r instanceof ArrayBuffer)i&&(i*=e),Lt(this,le,new Int32Array(r,n,i));else{const a=r,s=new Ho(e,1);Lt(this,le,new Int32Array(function*(){for(let o of a)s.set(0,o),yield*ut(s,le)}()))}}get BYTES_PER_ELEMENT(){return ut(this,le).BYTES_PER_ELEMENT*this.chars}get byteLength(){return ut(this,le).byteLength}get byteOffset(){return ut(this,le).byteOffset}get buffer(){return ut(this,le).buffer}get length(){return ut(this,le).length/this.chars}get(e){const r=this.chars*e;let n="";for(let i=0;i<this.chars;i++)n+=String.fromCodePoint(ut(this,le)[r+i]);return n.replace(/\u0000/g,"")}set(e,r){var a;const n=this.chars*e,i=ut(this,le).subarray(n,n+this.chars);i.fill(0);for(let s=0;s<this.chars;s++)i[s]=(a=r.codePointAt(s))!=null?a:0}fill(e){this.set(0,e);let r=ut(this,le).subarray(0,this.chars);for(let n=1;n<this.length;n++)ut(this,le).set(r,n*this.chars)}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.get(e)}};le=new WeakMap;let jn=Ho;function pi(t){const e=new TextDecoder().decode(t);return JSON.parse(e)}function ru(t,e){const r=e/2,n=e-1;let i=0;for(let a=0;a<t.length;a+=e)for(let s=0;s<r;s+=1)i=t[a+s],t[a+s]=t[a+n-s],t[a+n-s]=i}function zh(t){if(t==="v2:object")return globalThis.Array;let e=t.match(/v2:([US])(\d+)/);if(e){let[,n,i]=e;return(n==="U"?jn:Js).bind(null,Number(i))}let r={int8:Int8Array,int16:Int16Array,int32:Int32Array,int64:globalThis.BigInt64Array,uint8:Uint8Array,uint16:Uint16Array,uint32:Uint32Array,uint64:globalThis.BigUint64Array,float16:globalThis.Float16Array,float32:Float32Array,float64:Float64Array,bool:$h}[t];return Kt(r,"Unknown or unsupported data_type: ".concat(t)),r}function Ur(t,e){const r=t.length;typeof e=="string"&&(e=e==="C"?Array.from({length:r},(a,s)=>s):Array.from({length:r},(a,s)=>r-1-s)),Kt(r===e.length,"Order length must match the number of dimensions.");let n=1,i=new Array(r);for(let a=e.length-1;a>=0;a--)i[e[a]]=n,n*=t[e[a]];return i}function Rc({name:t,configuration:e}){var r,n;if(t==="default"){const i=(r=e==null?void 0:e.separator)!=null?r:"/";return a=>["c",...a].join(i)}if(t==="v2"){const i=(n=e==null?void 0:e.separator)!=null?n:".";return a=>a.join(i)||"0"}throw new Error("Unknown chunk key encoding: ".concat(t))}function Lc(t){var a;if(t==="|O")return{data_type:"v2:object"};let e=t.match(/^([<|>])(.*)$/);Kt(e,"Invalid dtype: ".concat(t));let[,r,n]=e,i=(a={b1:"bool",i1:"int8",u1:"uint8",i2:"int16",u2:"uint16",i4:"int32",u4:"uint32",i8:"int64",u8:"uint64",f2:"float16",f4:"float32",f8:"float64"}[n])!=null?a:n.startsWith("S")||n.startsWith("U")?"v2:".concat(n):void 0;return Kt(i,"Unsupported or unknown dtype: ".concat(t)),r==="|"?{data_type:i}:{data_type:i,endian:r==="<"?"little":"big"}}function Yc(t,e={}){var i,a;let r=[],n=Lc(t.dtype);t.order==="F"&&r.push({name:"transpose",configuration:{order:"F"}}),"endian"in n&&n.endian==="big"&&r.push({name:"bytes",configuration:{endian:"big"}});for(let{id:s,...o}of(i=t.filters)!=null?i:[])r.push({name:s,configuration:o});if(t.compressor){let{id:s,...o}=t.compressor;r.push({name:s,configuration:o})}return{zarr_format:3,node_type:"array",shape:t.shape,data_type:n.data_type,chunk_grid:{name:"regular",configuration:{chunk_shape:t.chunks}},chunk_key_encoding:{name:"v2",configuration:{separator:(a=t.dimension_separator)!=null?a:"."}},codecs:r,fill_value:t.fill_value,attributes:e}}function $c(t,e={}){return{zarr_format:3,node_type:"group",attributes:e}}function zc(t,e){if(e!=="number"&&e!=="bigint"&&e!=="boolean"&&e!=="object"&&e!=="string")return t===e;let r=t==="bool";if(e==="boolean")return r;let n=t.startsWith("v2:U")||t.startsWith("v2:S");if(e==="string")return n;let i=t==="int64"||t==="uint64";if(e==="bigint")return i;let a=t==="v2:object";return e==="object"?a:!n&&!i&&!r&&!a}function qc(t){return(t==null?void 0:t.name)==="sharding_indexed"}function qh(t){return(t.data_type==="uint64"||t.data_type==="int64")&&t.fill_value!=null?BigInt(t.fill_value):t.fill_value}function Uh(t,...e){if(!e.some(r=>t instanceof r))throw t}function Kt(t,e=""){if(!t)throw new Error(e)}async function Wh(t,{format:e,signal:r}){const n=t instanceof Response?t:new Response(t);Kt(n.body,"Response does not contain body.");try{return await new Response(n.body.pipeThrough(new DecompressionStream(e),{signal:r})).arrayBuffer()}catch(i){throw r==null||r.throwIfAborted(),new Error("Failed to decode ".concat(e))}}class Xs{constructor(e,r){vt(this,"kind","array_to_array");Kt(e.keepbits>=0,"keepbits must be zero or positive")}static fromConfig(e,r){return new Xs(e,r)}encode(e){throw new Error("`BitroundCodec.encode` is not implemented. Please open an issue at https://github.com/manzt/zarrita.js/issues.")}decode(e){return e}}const nu=Uc();function Uc(){const t=new Uint32Array([305419896]);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)[0]!==18}function iu(t){return"BYTES_PER_ELEMENT"in t?t.BYTES_PER_ELEMENT:4}var ai,Ar,si,oi,Dn;const Zo=class Zo{constructor(e,r){vt(this,"kind","array_to_bytes");Qt(this,ai);Qt(this,Ar);Qt(this,si);Qt(this,oi);Qt(this,Dn);Lt(this,Dn,e==null?void 0:e.endian),Lt(this,Ar,zh(r.data_type)),Lt(this,oi,r.shape),Lt(this,ai,Ur(r.shape,"C"));const n=new(ut(this,Ar))(0);Lt(this,si,n.BYTES_PER_ELEMENT)}static fromConfig(e,r){return new Zo(e,r)}encode(e){let r=new Uint8Array(e.data.buffer);return nu&&ut(this,Dn)==="big"&&ru(r,iu(ut(this,Ar))),r}decode(e){return nu&&ut(this,Dn)==="big"&&ru(e,iu(ut(this,Ar))),{data:new(ut(this,Ar))(e.buffer,e.byteOffset,e.byteLength/ut(this,si)),shape:ut(this,oi),stride:ut(this,ai)}}};ai=new WeakMap,Ar=new WeakMap,si=new WeakMap,oi=new WeakMap,Dn=new WeakMap;let ra=Zo;class Ks{constructor(){vt(this,"kind","bytes_to_bytes")}static fromConfig(){return new Ks}encode(e){throw new Error("Not implemented")}decode(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength-4)}}class to{constructor(){vt(this,"kind","bytes_to_bytes")}static fromConfig(e){return new to}encode(e){throw new Error("Gzip encoding is not enabled by default. Please register a custom codec with `numcodecs/gzip`.")}async decode(e){const r=await Wh(e,{format:"gzip"});return new Uint8Array(r)}}function Wc(t,e){return Kt(!Number.isNaN(e),"JsonCodec allow_nan is false but NaN was encountered during encoding."),Kt(e!==Number.POSITIVE_INFINITY,"JsonCodec allow_nan is false but Infinity was encountered during encoding."),Kt(e!==Number.NEGATIVE_INFINITY,"JsonCodec allow_nan is false but -Infinity was encountered during encoding."),e}function Vc(t,e){return e instanceof Object&&!Array.isArray(e)?Object.keys(e).sort().reduce((r,n)=>(r[n]=e[n],r),{}):e}var ui,hi;const Qo=class Qo{constructor(e={}){vt(this,"configuration");vt(this,"kind","array_to_bytes");Qt(this,ui);Qt(this,hi);this.configuration=e;const{encoding:r="utf-8",skipkeys:n=!1,ensure_ascii:i=!0,check_circular:a=!0,allow_nan:s=!0,sort_keys:o=!0,indent:u,strict:h=!0}=e;let f=e.separators;f||(u?f=[", ",": "]:f=[",",":"]),Lt(this,ui,{encoding:r,skipkeys:n,ensure_ascii:i,check_circular:a,allow_nan:s,indent:u,separators:f,sort_keys:o}),Lt(this,hi,{strict:h})}static fromConfig(e){return new Qo(e)}encode(e){const{indent:r,encoding:n,ensure_ascii:i,check_circular:a,allow_nan:s,sort_keys:o}=ut(this,ui);Kt(n==="utf-8","JsonCodec does not yet support non-utf-8 encoding.");const u=[];Kt(a,"JsonCodec does not yet support skipping the check for circular references during encoding."),s||u.push(Wc),o&&u.push(Vc);const h=Array.from(e.data);h.push("|O"),h.push(e.shape);let f;u.length&&(f=(c,v)=>{let g=v;for(let d of u)g=d(c,g);return g});let l=JSON.stringify(h,f,r);return i&&(l=l.replace(/[\u007F-\uFFFF]/g,c=>{const v="0000".concat(c.charCodeAt(0).toString(16)),g=v.substring(v.length-4);return"\\u".concat(g)})),new TextEncoder().encode(l)}decode(e){const{strict:r}=ut(this,hi);Kt(r,"JsonCodec does not yet support non-strict decoding.");const n=pi(e),i=n.pop();n.pop(),Kt(i,"0D not implemented for JsonCodec.");const a=Ur(i,"C");return{data:n,shape:i,stride:a}}};ui=new WeakMap,hi=new WeakMap;let Ms=Qo;function au(t){return t instanceof $h||t instanceof Js||t instanceof jn?new Proxy(t,{get(r,n){return r.get(Number(n))},set(r,n,i){return r.set(Number(n),i),!0}}):t}function jc(t,e){let r;return t.data instanceof Js||t.data instanceof jn?r=new t.constructor(t.data.length,t.data.chars):r=new t.constructor(t.data.length),{data:r,shape:t.shape,stride:Ur(t.shape,e)}}function Gc(t,e){let r=jc(t,e),n=t.shape.length,i=t.data.length,a=Array(n).fill(0),s=au(t.data),o=au(r.data);for(let u=0;u<i;u++){let h=0;for(let f=0;f<n;f++)h+=a[f]*r.stride[f];o[h]=s[u],a[0]+=1;for(let f=0;f<n;f++)if(a[f]===t.shape[f]){if(f+1===n)break;a[f]=0,a[f+1]+=1}}return r}function Hc(t){let e=t.shape.length;return Kt(e===t.stride.length,"Shape and stride must have the same length."),t.stride.map((r,n)=>({stride:r,index:n})).sort((r,n)=>n.stride-r.stride).map(r=>r.index)}function Zc(t,e){let r=Hc(t);return Kt(r.length===e.length,"Orders must match"),r.every((n,i)=>n===e[i])}var fi,Mn;const Jo=class Jo{constructor(e,r){vt(this,"kind","array_to_array");Qt(this,fi);Qt(this,Mn);var o;let n=(o=e.order)!=null?o:"C",i=r.shape.length,a=new Array(i),s=new Array(i);if(n==="C")for(let u=0;u<i;++u)a[u]=u,s[u]=u;else if(n==="F")for(let u=0;u<i;++u)a[u]=i-u-1,s[u]=i-u-1;else a=n,a.forEach((u,h)=>{Kt(s[u]===void 0,"Invalid permutation: ".concat(JSON.stringify(n))),s[u]=h});Lt(this,fi,a),Lt(this,Mn,s)}static fromConfig(e,r){return new Jo(e,r)}encode(e){return Zc(e,ut(this,Mn))?e:Gc(e,ut(this,Mn))}decode(e){return{data:e.data,shape:e.shape,stride:Ur(e.shape,ut(this,fi))}}};fi=new WeakMap,Mn=new WeakMap;let ws=Jo;var li,ci;const Xo=class Xo{constructor(e){vt(this,"kind","array_to_bytes");Qt(this,li);Qt(this,ci);Lt(this,li,e),Lt(this,ci,Ur(e,"C"))}static fromConfig(e,r){return new Xo(r.shape)}encode(e){throw new Error("Method not implemented.")}decode(e){let r=new TextDecoder,n=new DataView(e.buffer),i=Array(n.getUint32(0,!0)),a=4;for(let s=0;s<i.length;s++){let o=n.getUint32(a,!0);a+=4,i[s]=r.decode(e.buffer.slice(a,a+o)),a+=o}return{data:i,shape:ut(this,li),stride:ut(this,ci)}}};li=new WeakMap,ci=new WeakMap;let As=Xo;class eo{constructor(){vt(this,"kind","bytes_to_bytes")}static fromConfig(e){return new eo}encode(e){throw new Error("Zlib encoding is not enabled by default. Please register a codec with `numcodecs/zlib`.")}async decode(e){const r=await Wh(e,{format:"deflate"});return new Uint8Array(r)}}function Qc(){return new Map().set("blosc",()=>import("./blosc-BjQ25la0.js").then(t=>t.default)).set("lz4",()=>import("./lz4-BTICsuZU.js").then(t=>t.default)).set("zstd",()=>import("./zstd-BM-Q2Kpi.js").then(t=>t.default)).set("gzip",()=>to).set("zlib",()=>eo).set("transpose",()=>ws).set("bytes",()=>ra).set("crc32c",()=>Ks).set("vlen-utf8",()=>As).set("json2",()=>Ms).set("bitround",()=>Xs)}const Jc=Qc();function Es(t){let e;return{async encode(r){e||(e=await su(t));for(const i of e.array_to_array)r=await i.encode(r);let n=await e.array_to_bytes.encode(r);for(const i of e.bytes_to_bytes)n=await i.encode(n);return n},async decode(r){e||(e=await su(t));for(let i=e.bytes_to_bytes.length-1;i>=0;i--)r=await e.bytes_to_bytes[i].decode(r);let n=await e.array_to_bytes.decode(r);for(let i=e.array_to_array.length-1;i>=0;i--)n=await e.array_to_array[i].decode(n);return n}}}async function su(t){let e=t.codecs.map(async a=>{var o;let s=await((o=Jc.get(a.name))==null?void 0:o());return Kt(s,"Unknown codec: ".concat(a.name)),{Codec:s,meta:a}}),r=[],n,i=[];for await(let{Codec:a,meta:s}of e){let o=a.fromConfig(s.configuration,t);switch(o.kind){case"array_to_array":r.push(o);break;case"array_to_bytes":n=o;break;default:i.push(o)}}return n||(Kt(Xc(t),"Cannot encode ".concat(t.data_type," to bytes without a codec")),n=ra.fromConfig({endian:"little"},t)),{array_to_array:r,array_to_bytes:n,bytes_to_bytes:i}}function Xc(t){return t.data_type!=="v2:object"}const ou=BigInt("18446744073709551615");function Kc(t,e,r,n){Kt(t.store.getRange,"Store does not support range requests");let i=t.store.getRange.bind(t.store),a=e.map((u,h)=>u/n.chunk_shape[h]),s=Es({data_type:"uint64",shape:[...a,2],codecs:n.index_codecs}),o={};return async u=>{let h=u.map((M,p)=>Math.floor(M/a[p])),f=t.resolve(r(h)).path,l;if(f in o)l=o[f];else{let M=4,p=16*a.reduce((_,D)=>_*D,1),E=await i(f,{suffixLength:p+M});l=o[f]=E?await s.decode(E):null}if(l===null)return;let{data:c,shape:v,stride:g}=l,d=u.map((M,p)=>M%v[p]).reduce((M,p,E)=>M+p*g[E],0),m=c[d],y=c[d+1];if(!(m===ou&&y===ou))return i(f,{offset:Number(m),length:Number(y)})}}class jr{constructor(e,r="/"){vt(this,"store");vt(this,"path");this.store=e,this.path=r}resolve(e){let r=new URL("file://".concat(this.path.endsWith("/")?this.path:"".concat(this.path,"/")));return new jr(this.store,new URL(e,r).pathname)}}function ro(t){return new jr(t!=null?t:new Map)}var di;class no extends jr{constructor(r,n,i){super(r,n);vt(this,"kind","group");Qt(this,di);Lt(this,di,i)}get attrs(){return ut(this,di).attributes}}di=new WeakMap;function uu(t){var r,n;const e=t.find(i=>i.name==="transpose");return(n=(r=e==null?void 0:e.configuration)==null?void 0:r.order)!=null?n:"C"}const In=Symbol("zarrita.context");function t0(t){return t[In]}function e0(t,e){var a;let{configuration:r}=(a=e.codecs.find(qc))!=null?a:{},n={encode_chunk_key:Rc(e.chunk_key_encoding),TypedArray:zh(e.data_type),fill_value:e.fill_value};if(r){let s=uu(r.codecs);return{...n,kind:"sharded",chunk_shape:r.chunk_shape,codec:Es({data_type:e.data_type,shape:r.chunk_shape,codecs:r.codecs}),get_strides(o){return Ur(o,s)},get_chunk_bytes:Kc(t,e.chunk_grid.configuration.chunk_shape,n.encode_chunk_key,r)}}let i=uu(e.codecs);return{...n,kind:"regular",chunk_shape:e.chunk_grid.configuration.chunk_shape,codec:Es({data_type:e.data_type,shape:e.chunk_grid.configuration.chunk_shape,codecs:e.codecs}),get_strides(s){return Ur(s,i)},async get_chunk_bytes(s,o){let u=n.encode_chunk_key(s),h=t.resolve(u).path;return t.store.get(h,o)}}}var Th,Bh,$r,Oh;let na=(Oh=class extends(Bh=jr,Th=In,Bh){constructor(r,n,i){super(r,n);vt(this,"kind","array");Qt(this,$r);vt(this,Th);Lt(this,$r,{...i,fill_value:qh(i)}),this[In]=e0(this,i)}get attrs(){return ut(this,$r).attributes}get shape(){return ut(this,$r).shape}get chunks(){return this[In].chunk_shape}get dtype(){return ut(this,$r).data_type}async getChunk(r,n){let i=this[In],a=await i.get_chunk_bytes(r,n);if(!a){let s=i.chunk_shape.reduce((u,h)=>u*h,1),o=new i.TypedArray(s);return o.fill(i.fill_value),{data:o,shape:i.chunk_shape,stride:i.get_strides(i.chunk_shape)}}return i.codec.decode(a)}is(r){return zc(this.dtype,r)}},$r=new WeakMap,Oh),xa=r0();function r0(){let t=new WeakMap;function e(r){var i;let n=(i=t.get(r))!=null?i:{v2:0,v3:0};return t.set(r,n),n}return{increment(r,n){e(r)[n]+=1},version_max(r){let n=e(r);return n.v3>n.v2?"v3":"v2"}}}async function n0(t){let e=await t.store.get(t.resolve(".zattrs").path);return e?pi(e):{}}async function i0(t,e={}){var i;let r="store"in t?t:new jr(t),n={};return((i=e.attrs)==null||i)&&(n=await n0(r)),e.kind==="array"?hu(r,n):e.kind==="group"?fu(r,n):hu(r,n).catch(a=>(Uh(a,yi),fu(r,n)))}async function hu(t,e){let{path:r}=t.resolve(".zarray"),n=await t.store.get(r);if(!n)throw new yi("v2 array",{cause:new Qs(r)});return xa.increment(t.store,"v2"),new na(t.store,t.path,Yc(pi(n),e))}async function fu(t,e){let{path:r}=t.resolve(".zgroup"),n=await t.store.get(r);if(!n)throw new yi("v2 group",{cause:new Qs(r)});return xa.increment(t.store,"v2"),new no(t.store,t.path,$c(pi(n),e))}async function a0(t){let{store:e,path:r}=t.resolve("zarr.json"),n=await t.store.get(r);if(!n)throw new yi("v3 array or group",{cause:new Qs(r)});let i=pi(n);return i.node_type==="array"&&(i.fill_value=qh(i)),i.node_type==="array"?new na(e,t.path,i):new no(e,t.path,i)}async function s0(t,e={}){let r="store"in t?t:new jr(t),n=await a0(r);if(xa.increment(r.store,"v3"),e.kind===void 0||e.kind==="array"&&n instanceof na||e.kind==="group"&&n instanceof no)return n;let i=n instanceof na?"array":"group";throw new Error("Expected node of kind ".concat(e.kind,", found ").concat(i,"."))}async function Ce(t,e={}){let r="store"in t?t.store:t,n=xa.version_max(r),i=n==="v2"?Ce.v2:Ce.v3,a=n==="v2"?Ce.v3:Ce.v2;return i(t,e).catch(s=>(Uh(s,yi),a(t,e)))}Ce.v2=i0;Ce.v3=s0;function*o0(t,e,r=1){e===void 0&&(e=t,t=0);for(let n=t;n<e;n+=r)yield n}function*u0(...t){if(t.length===0)return;const e=t.map(n=>n[Symbol.iterator]()),r=e.map(n=>n.next());if(r.some(n=>n.done))throw new Error("Input contains an empty iterator.");for(let n=0;;){if(r[n].done){if(e[n]=t[n][Symbol.iterator](),r[n]=e[n].next(),++n>=e.length)return}else yield r.map(({value:i})=>i),n=0;r[n]=e[n].next()}}function h0({start:t,stop:e,step:r},n){if(r===0)throw new Error("slice step cannot be zero");r=r!=null?r:1;const i=r<0,[a,s]=i?[-1,n-1]:[0,n];return t===null?t=i?s:a:t<0?(t+=n,t<a&&(t=a)):t>s&&(t=s),e===null?e=i?a:s:e<0?(e+=n,e<a&&(e=a)):e>s&&(e=s),[t,e,r]}function lu(t,e,r=null){return e===void 0&&(e=t,t=null),{start:t,stop:e,step:r}}function f0(){const t=[];return{add:e=>t.push(e()),onIdle:()=>Promise.all(t)}}let io=class extends Error{constructor(e){super(e),this.name="IndexError"}};function l0(t,e){throw new io("too many indicies for array; expected ".concat(e.length,", got ").concat(t.length))}function c0(t){throw new io("index out of bounds for dimension with length ".concat(t))}function d0(){throw new io("only slices with step >= 1 are supported")}function v0(t,e){t.length>e.length&&l0(t,e)}function m0(t,e){return t=Math.trunc(t),t<0&&(t=e+t),(t>=e||t<0)&&c0(e),t}class g0{constructor({dim_sel:e,dim_len:r,dim_chunk_len:n}){vt(this,"dim_sel");vt(this,"dim_len");vt(this,"dim_chunk_len");vt(this,"nitems");e=m0(e,r),this.dim_sel=e,this.dim_len=r,this.dim_chunk_len=n,this.nitems=1}*[Symbol.iterator](){const e=Math.floor(this.dim_sel/this.dim_chunk_len),r=e*this.dim_chunk_len,n=this.dim_sel-r;yield{dim_chunk_ix:e,dim_chunk_sel:n}}}class cu{constructor({dim_sel:e,dim_len:r,dim_chunk_len:n}){vt(this,"start");vt(this,"stop");vt(this,"step");vt(this,"dim_len");vt(this,"dim_chunk_len");vt(this,"nitems");vt(this,"nchunks");const[i,a,s]=h0(e,r);this.start=i,this.stop=a,this.step=s,this.step<1&&d0(),this.dim_len=r,this.dim_chunk_len=n,this.nitems=Math.max(0,Math.ceil((this.stop-this.start)/this.step)),this.nchunks=Math.ceil(this.dim_len/this.dim_chunk_len)}*[Symbol.iterator](){const e=Math.floor(this.start/this.dim_chunk_len),r=Math.ceil(this.stop/this.dim_chunk_len);for(const n of o0(e,r)){const i=n*this.dim_chunk_len,a=Math.min(this.dim_len,(n+1)*this.dim_chunk_len),s=a-i;let o=0,u=0;if(this.start<i){const v=(i-this.start)%this.step;v&&(u+=this.step-v),o=Math.ceil((i-this.start)/this.step)}else u=this.start-i;const h=this.stop>a?s:this.stop-i,f=[u,h,this.step],l=Math.ceil((h-u)/this.step),c=[o,o+l,1];yield{dim_chunk_ix:n,dim_chunk_sel:f,dim_out_sel:c}}}}function y0(t,e){let r=[];return t===null?r=e.map(n=>lu(null)):Array.isArray(t)&&(r=t.map(n=>n!=null?n:lu(null))),v0(r,e),r}class p0{constructor({selection:e,shape:r,chunk_shape:n}){vt(this,"dim_indexers");vt(this,"shape");this.dim_indexers=y0(e,r).map((i,a)=>new(typeof i=="number"?g0:cu)({dim_sel:i,dim_len:r[a],dim_chunk_len:n[a]})),this.shape=this.dim_indexers.filter(i=>i instanceof cu).map(i=>i.nitems)}*[Symbol.iterator](){for(const e of u0(...this.dim_indexers)){const r=e.map(i=>i.dim_chunk_ix),n=e.map(i=>"dim_out_sel"in i?{from:i.dim_chunk_sel,to:i.dim_out_sel}:{from:i.dim_chunk_sel,to:null});yield{chunk_coords:r,mapping:n}}}}function _0(t,e){return"get"in t?t.get(e):t[e]}async function Vh(t,e,r,n){var u,h;let i=t0(t),a=new p0({selection:e,shape:t.shape,chunk_shape:t.chunks}),s=n.prepare(new i.TypedArray(a.shape.reduce((f,l)=>f*l,1)),a.shape,i.get_strides(a.shape)),o=(h=(u=r.create_queue)==null?void 0:u.call(r))!=null?h:f0();for(const{chunk_coords:f,mapping:l}of a)o.add(async()=>{let{data:c,shape:v,stride:g}=await t.getChunk(f,r.opts),d=n.prepare(c,v,g);n.set_from_chunk(s,d,l)});return await o.onIdle(),a.shape.length===0?_0(s.data,0):s}function ao(t,e=0,r){let n=r!=null?r:t.length-e;return{length:n,subarray(i,a=n){return ao(t,e+i,a-i)},set(i,a=0){for(let s=0;s<i.length;s++)t[e+a+s]=i.get(s)},get(i){return t[e+i]}}}function Xa(t){return globalThis.Array.isArray(t.data)?{data:ao(t.data),stride:t.stride,bytes_per_element:1}:{data:new Uint8Array(t.data.buffer,t.data.byteOffset,t.data.byteLength),stride:t.stride,bytes_per_element:t.data.BYTES_PER_ELEMENT}}function D0(t){return"chars"in t?t.constructor.bind(null,t.chars):t.constructor}function M0(t,e){if(globalThis.Array.isArray(t.data))return ao([e]);let r=D0(t.data),n=new r([e]);return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}const w0={prepare(t,e,r){return{data:t,shape:e,stride:r}},set_scalar(t,e,r){let n=Xa(t);bs(n,e,M0(t,r),n.bytes_per_element)},set_from_chunk(t,e,r){let n=Xa(t);qi(n,Xa(e),n.bytes_per_element,r)}};async function du(t,e=null,r={}){return Vh(t,e,r,w0)}function jh(t,e,r){return r<0&&e<t?Math.floor((t-e-1)/-r)+1:t<e?Math.floor((e-t-1)/r)+1:0}function bs(t,e,r,n){if(e.length===0){t.data.set(r,0);return}const[i,...a]=e,[s,...o]=t.stride;if(typeof i=="number"){const c=t.data.subarray(s*i*n);bs({data:c,stride:o},a,r,n);return}const[u,h,f]=i,l=jh(u,h,f);if(a.length===0){for(let c=0;c<l;c++)t.data.set(r,s*(u+f*c)*n);return}for(let c=0;c<l;c++){const v=t.data.subarray(s*(u+f*c)*n);bs({data:v,stride:o},a,r,n)}}function qi(t,e,r,n){const[i,...a]=n,[s,...o]=t.stride,[u,...h]=e.stride;if(i.from===null){if(a.length===0){t.data.set(e.data.subarray(0,r),i.to*r);return}qi({data:t.data.subarray(s*i.to*r),stride:o},e,r,a);return}if(i.to===null){if(a.length===0){let y=i.from*r;t.data.set(e.data.subarray(y,y+r),0);return}qi(t,{data:e.data.subarray(u*i.from*r),stride:h},r,a);return}const[f,l,c]=i.to,[v,g,d]=i.from,m=jh(f,l,c);if(a.length===0){if(c===1&&d===1&&s===1&&u===1){let y=v*r,M=m*r;t.data.set(e.data.subarray(y,y+M),f*r);return}for(let y=0;y<m;y++){let M=u*(v+d*y)*r;t.data.set(e.data.subarray(M,M+r),s*(f+c*y)*r)}return}for(let y=0;y<m;y++)qi({data:t.data.subarray(s*(f+y*c)*r),stride:o},{data:e.data.subarray(u*(v+y*d)*r),stride:h},r,a)}function Gh(t,e,r,n={}){return e!==void 0&&r!==void 0&&(n={...n,headers:{...n.headers,Range:"bytes=".concat(e,"-").concat(e+r-1)}}),fetch(t,n)}function A0(t,e){return{...t,...e,headers:{...t.headers,...e.headers}}}function vu(t,e){const r=typeof t=="string"?new URL(t):t;r.pathname.endsWith("/")||(r.pathname+="/");const n=new URL(e.slice(1),r);return n.search=r.search,n}async function mu(t){if(t.status!==404){if(t.status===200||t.status===206)return new Uint8Array(await t.arrayBuffer());throw new Error("Unexpected response status ".concat(t.status," ").concat(t.statusText))}}async function E0(t,e,r,n){if(n)return fetch(t,{...r,headers:{...r.headers,Range:"bytes=-".concat(e)}});let i=await fetch(t,{...r,method:"HEAD"});if(!i.ok)return i;let a=i.headers.get("Content-Length"),s=Number(a);return Gh(t,s-e,s,r)}var vi,mi,gi,Cs;class so{constructor(e,r={}){Qt(this,gi);vt(this,"url");Qt(this,vi);Qt(this,mi);var n,i;this.url=e,Lt(this,vi,(n=r.overrides)!=null?n:{}),Lt(this,mi,(i=r.useSuffixRequest)!=null?i:!1)}async get(e,r={}){let n=vu(this.url,e).href,i=await fetch(n,Qa(this,gi,Cs).call(this,r));return mu(i)}async getRange(e,r,n={}){let i=vu(this.url,e),a=Qa(this,gi,Cs).call(this,n),s;return"suffixLength"in r?s=await E0(i,r.suffixLength,a,ut(this,mi)):s=await Gh(i,r.offset,r.length,a),mu(s)}}vi=new WeakMap,mi=new WeakMap,gi=new WeakSet,Cs=function(e){return A0(ut(this,vi),e)};const b0=globalThis.AudioData,C0=globalThis.ImageBitmap,F0=globalThis.VideoFrame,x0=globalThis.OffscreenCanvas,S0=globalThis.RTCDataChannel,N0=globalThis.MessageChannel,T0=globalThis.ReadableStream,B0=globalThis.WritableStream,O0=globalThis.TransformStream,k0="ReadableStream"in globalThis,I0="WritableStream"in globalThis,P0="TransformStream"in globalThis,R0="MessageChannel"in globalThis,L0="MessagePort"in globalThis,Y0="ArrayBuffer"in globalThis,$0="AudioData"in globalThis,z0="ImageBitmap"in globalThis,q0="VideoFrame"in globalThis,U0="OffscreenCanvas"in globalThis,W0="RTCDataChannel"in globalThis;function V0(t){return typeof t=="object"&&t!==null||typeof t=="function"}function j0(t){return ArrayBuffer.isView(t)}function gu(t){return k0&&t instanceof T0||I0&&t instanceof B0||P0&&t instanceof O0}function G0(t){return R0&&t instanceof N0}function H0(t){return Y0&&t instanceof ArrayBuffer||L0&&t instanceof MessagePort||$0&&t instanceof b0||z0&&t instanceof C0||q0&&t instanceof F0||U0&&t instanceof x0||W0&&t instanceof S0}function Hh(t,e=!1,r=1e4){const n=new Set([]),i=[[t]];for(let a=0;a<i.length;a++){const s=i[a],o=s.length;for(let u=0;u<o;u++){const h=s[u];if(j0(h))n.add(h.buffer);else if(H0(h)||e&&gu(h))n.add(h);else if(G0(h))n.add(h.port1),n.add(h.port2);else if(!gu(h)&&V0(h)){const f=Array.isArray(h)?h:Object.values(h);f.length&&i.push(f)}}if(--r<=0)break}return Array.from(n)}function Zh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ka,yu;function Z0(){if(yu)return Ka;yu=1;function t(e){for(var r=new Array(e),n=0;n<e;++n)r[n]=n;return r}return Ka=t,Ka}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var ts,pu;function Q0(){if(pu)return ts;pu=1,ts=function(r){return r!=null&&(t(r)||e(r)||!!r._isBuffer)};function t(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function e(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&t(r.slice(0,0))}return ts}var es,_u;function J0(){if(_u)return es;_u=1;var t=Z0(),e=Q0(),r=typeof Float64Array<"u";function n(h,f){return h[0]-f[0]}function i(){var h=this.stride,f=new Array(h.length),l;for(l=0;l<f.length;++l)f[l]=[Math.abs(h[l]),l];f.sort(n);var c=new Array(f.length);for(l=0;l<c.length;++l)c[l]=f[l][1];return c}function a(h,f){var l=["View",f,"d",h].join("");f<0&&(l="View_Nil"+h);var c=h==="generic";if(f===-1){var v="function "+l+"(a){this.data=a;};	var proto="+l+".prototype;	proto.dtype='"+h+"';	proto.index=function(){return -1};	proto.size=0;	proto.dimension=-1;	proto.shape=proto.stride=proto.order=[];	proto.lo=proto.hi=proto.transpose=proto.step=	function(){return new "+l+"(this.data);};	proto.get=proto.set=function(){};	proto.pick=function(){return null};	return function construct_"+l+"(a){return new "+l+"(a);}",b=new Function(v);return b()}else if(f===0){var v="function "+l+"(a,d) {	this.data = a;	this.offset = d	};	var proto="+l+".prototype;	proto.dtype='"+h+"';	proto.index=function(){return this.offset};	proto.dimension=0;	proto.size=1;	proto.shape=	proto.stride=	proto.order=[];	proto.lo=	proto.hi=	proto.transpose=	proto.step=function "+l+"_copy() {	return new "+l+"(this.data,this.offset)	};	proto.pick=function "+l+"_pick(){	return TrivialArray(this.data);	};	proto.valueOf=proto.get=function "+l+"_get(){	return "+(c?"this.data.get(this.offset)":"this.data[this.offset]")+"};	proto.set=function "+l+"_set(v){	return "+(c?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"	};	return function construct_"+l+"(a,b,c,d){return new "+l+"(a,d)}",b=new Function("TrivialArray",v);return b(o[h][0])}var v=["'use strict'"],g=t(f),d=g.map(function(A){return"i"+A}),m="this.offset+"+g.map(function(A){return"this.stride["+A+"]*i"+A}).join("+"),y=g.map(function(A){return"b"+A}).join(","),M=g.map(function(A){return"c"+A}).join(",");v.push("function "+l+"(a,"+y+","+M+",d){this.data=a","this.shape=["+y+"]","this.stride=["+M+"]","this.offset=d|0}","var proto="+l+".prototype","proto.dtype='"+h+"'","proto.dimension="+f),v.push("Object.defineProperty(proto,'size',{get:function "+l+"_size(){	return "+g.map(function(A){return"this.shape["+A+"]"}).join("*"),"}})"),f===1?v.push("proto.order=[0]"):(v.push("Object.defineProperty(proto,'order',{get:"),f<4?(v.push("function "+l+"_order(){"),f===2?v.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):f===3&&v.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);	if(s0>s1){	if(s1>s2){	return [2,1,0];	}else if(s0>s2){	return [1,2,0];	}else{	return [1,0,2];	}	}else if(s0>s2){	return [2,0,1];	}else if(s2>s1){	return [0,1,2];	}else{	return [0,2,1];	}}})")):v.push("ORDER})")),v.push("proto.set=function "+l+"_set("+d.join(",")+",v){"),c?v.push("return this.data.set("+m+",v)}"):v.push("return this.data["+m+"]=v}"),v.push("proto.get=function "+l+"_get("+d.join(",")+"){"),c?v.push("return this.data.get("+m+")}"):v.push("return this.data["+m+"]}"),v.push("proto.index=function "+l+"_index(",d.join(),"){return "+m+"}"),v.push("proto.hi=function "+l+"_hi("+d.join(",")+"){return new "+l+"(this.data,"+g.map(function(A){return["(typeof i",A,"!=='number'||i",A,"<0)?this.shape[",A,"]:i",A,"|0"].join("")}).join(",")+","+g.map(function(A){return"this.stride["+A+"]"}).join(",")+",this.offset)}");var p=g.map(function(A){return"a"+A+"=this.shape["+A+"]"}),E=g.map(function(A){return"c"+A+"=this.stride["+A+"]"});v.push("proto.lo=function "+l+"_lo("+d.join(",")+"){var b=this.offset,d=0,"+p.join(",")+","+E.join(","));for(var _=0;_<f;++_)v.push("if(typeof i"+_+"==='number'&&i"+_+">=0){	d=i"+_+"|0;	b+=c"+_+"*d;	a"+_+"-=d}");v.push("return new "+l+"(this.data,"+g.map(function(A){return"a"+A}).join(",")+","+g.map(function(A){return"c"+A}).join(",")+",b)}"),v.push("proto.step=function "+l+"_step("+d.join(",")+"){var "+g.map(function(A){return"a"+A+"=this.shape["+A+"]"}).join(",")+","+g.map(function(A){return"b"+A+"=this.stride["+A+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var _=0;_<f;++_)v.push("if(typeof i"+_+"==='number'){	d=i"+_+"|0;	if(d<0){	c+=b"+_+"*(a"+_+"-1);	a"+_+"=ceil(-a"+_+"/d)	}else{	a"+_+"=ceil(a"+_+"/d)	}	b"+_+"*=d	}");v.push("return new "+l+"(this.data,"+g.map(function(A){return"a"+A}).join(",")+","+g.map(function(A){return"b"+A}).join(",")+",c)}");for(var D=new Array(f),C=new Array(f),_=0;_<f;++_)D[_]="a[i"+_+"]",C[_]="b[i"+_+"]";v.push("proto.transpose=function "+l+"_transpose("+d+"){"+d.map(function(A,S){return A+"=("+A+"===undefined?"+S+":"+A+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+l+"(this.data,"+D.join(",")+","+C.join(",")+",this.offset)}"),v.push("proto.pick=function "+l+"_pick("+d+"){var a=[],b=[],c=this.offset");for(var _=0;_<f;++_)v.push("if(typeof i"+_+"==='number'&&i"+_+">=0){c=(c+this.stride["+_+"]*i"+_+")|0}else{a.push(this.shape["+_+"]);b.push(this.stride["+_+"])}");v.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),v.push("return function construct_"+l+"(data,shape,stride,offset){return new "+l+"(data,"+g.map(function(A){return"shape["+A+"]"}).join(",")+","+g.map(function(A){return"stride["+A+"]"}).join(",")+",offset)}");var b=new Function("CTOR_LIST","ORDER",v.join("\n"));return b(o[h],i)}function s(h){if(e(h))return"buffer";if(r)switch(Object.prototype.toString.call(h)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(h)?"array":"generic"}var o={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function u(h,f,l,c){if(h===void 0){var M=o.array[0];return M([])}else typeof h=="number"&&(h=[h]);f===void 0&&(f=[h.length]);var v=f.length;if(l===void 0){l=new Array(v);for(var g=v-1,d=1;g>=0;--g)l[g]=d,d*=f[g]}if(c===void 0){c=0;for(var g=0;g<v;++g)l[g]<0&&(c-=(f[g]-1)*l[g])}for(var m=s(h),y=o[m];y.length<=v+1;)y.push(a(m,y.length-1));var M=y[v+1];return M(h,f,l,c)}return es=u,es}var X0=J0(),Pn=Zh(X0),rs={},ns,Du;function K0(){if(Du)return ns;Du=1;function t(n,i){for(var a=1,s=n.length,o=n[0],u=n[0],h=1;h<s;++h)if(u=o,o=n[h],i(o,u)){if(h===a){a++;continue}n[a++]=o}return n.length=a,n}function e(n){for(var i=1,a=n.length,s=n[0],o=n[0],u=1;u<a;++u,o=s)if(o=s,s=n[u],s!==o){if(u===i){i++;continue}n[i++]=s}return n.length=i,n}function r(n,i,a){return n.length===0?n:i?(a||n.sort(i),t(n,i)):(a||n.sort(),e(n))}return ns=r,ns}var is,Mu;function td(){if(Mu)return is;Mu=1;var t=K0();function e(o,u,h){var f=o.length,l=u.arrayArgs.length,c=u.indexArgs.length>0,v=[],g=[],d=0,m=0,y,M;for(y=0;y<f;++y)g.push(["i",y,"=0"].join(""));for(M=0;M<l;++M)for(y=0;y<f;++y)m=d,d=o[y],y===0?g.push(["d",M,"s",y,"=t",M,"p",d].join("")):g.push(["d",M,"s",y,"=(t",M,"p",d,"-s",m,"*t",M,"p",m,")"].join(""));for(g.length>0&&v.push("var "+g.join(",")),y=f-1;y>=0;--y)d=o[y],v.push(["for(i",y,"=0;i",y,"<s",d,";++i",y,"){"].join(""));for(v.push(h),y=0;y<f;++y){for(m=d,d=o[y],M=0;M<l;++M)v.push(["p",M,"+=d",M,"s",y].join(""));c&&(y>0&&v.push(["index[",m,"]-=s",m].join("")),v.push(["++index[",d,"]"].join(""))),v.push("}")}return v.join("\n")}function r(o,u,h,f){for(var l=u.length,c=h.arrayArgs.length,v=h.blockSize,g=h.indexArgs.length>0,d=[],m=0;m<c;++m)d.push(["var offset",m,"=p",m].join(""));for(var m=o;m<l;++m)d.push(["for(var j"+m+"=SS[",u[m],"]|0;j",m,">0;){"].join("")),d.push(["if(j",m,"<",v,"){"].join("")),d.push(["s",u[m],"=j",m].join("")),d.push(["j",m,"=0"].join("")),d.push(["}else{s",u[m],"=",v].join("")),d.push(["j",m,"-=",v,"}"].join("")),g&&d.push(["index[",u[m],"]=j",m].join(""));for(var m=0;m<c;++m){for(var y=["offset"+m],M=o;M<l;++M)y.push(["j",M,"*t",m,"p",u[M]].join(""));d.push(["p",m,"=(",y.join("+"),")"].join(""))}d.push(e(u,h,f));for(var m=o;m<l;++m)d.push("}");return d.join("\n")}function n(o){for(var u=0,h=o[0].length;u<h;){for(var f=1;f<o.length;++f)if(o[f][u]!==o[0][u])return u;++u}return u}function i(o,u,h){for(var f=o.body,l=[],c=[],v=0;v<o.args.length;++v){var g=o.args[v];if(!(g.count<=0)){var d=new RegExp(g.name,"g"),m="",y=u.arrayArgs.indexOf(v);switch(u.argTypes[v]){case"offset":var M=u.offsetArgIndex.indexOf(v),p=u.offsetArgs[M];y=p.array,m="+q"+M;case"array":m="p"+y+m;var E="l"+v,_="a"+y;if(u.arrayBlockIndices[y]===0)g.count===1?h[y]==="generic"?g.lvalue?(l.push(["var ",E,"=",_,".get(",m,")"].join("")),f=f.replace(d,E),c.push([_,".set(",m,",",E,")"].join(""))):f=f.replace(d,[_,".get(",m,")"].join("")):f=f.replace(d,[_,"[",m,"]"].join("")):h[y]==="generic"?(l.push(["var ",E,"=",_,".get(",m,")"].join("")),f=f.replace(d,E),g.lvalue&&c.push([_,".set(",m,",",E,")"].join(""))):(l.push(["var ",E,"=",_,"[",m,"]"].join("")),f=f.replace(d,E),g.lvalue&&c.push([_,"[",m,"]=",E].join("")));else{for(var D=[g.name],C=[m],b=0;b<Math.abs(u.arrayBlockIndices[y]);b++)D.push("\\s*\\[([^\\]]+)\\]"),C.push("$"+(b+1)+"*t"+y+"b"+b);if(d=new RegExp(D.join(""),"g"),m=C.join("+"),h[y]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");f=f.replace(d,[_,"[",m,"]"].join(""))}break;case"scalar":f=f.replace(d,"Y"+u.scalarArgs.indexOf(v));break;case"index":f=f.replace(d,"index");break;case"shape":f=f.replace(d,"shape");break}}}return[l.join("\n"),f,c.join("\n")].join("\n").trim()}function a(o){for(var u=new Array(o.length),h=!0,f=0;f<o.length;++f){var l=o[f],c=l.match(/\d+/);c?c=c[0]:c="",l.charAt(0)===0?u[f]="u"+l.charAt(1)+c:u[f]=l.charAt(0)+c,f>0&&(h=h&&u[f]===u[f-1])}return h?u[0]:u.join("")}function s(o,u){for(var h=u[1].length-Math.abs(o.arrayBlockIndices[0])|0,f=new Array(o.arrayArgs.length),l=new Array(o.arrayArgs.length),c=0;c<o.arrayArgs.length;++c)l[c]=u[2*c],f[c]=u[2*c+1];for(var v=[],g=[],d=[],m=[],y=[],c=0;c<o.arrayArgs.length;++c){o.arrayBlockIndices[c]<0?(d.push(0),m.push(h),v.push(h),g.push(h+o.arrayBlockIndices[c])):(d.push(o.arrayBlockIndices[c]),m.push(o.arrayBlockIndices[c]+h),v.push(0),g.push(o.arrayBlockIndices[c]));for(var M=[],p=0;p<f[c].length;p++)d[c]<=f[c][p]&&f[c][p]<m[c]&&M.push(f[c][p]-d[c]);y.push(M)}for(var E=["SS"],_=["'use strict'"],D=[],p=0;p<h;++p)D.push(["s",p,"=SS[",p,"]"].join(""));for(var c=0;c<o.arrayArgs.length;++c){E.push("a"+c),E.push("t"+c),E.push("p"+c);for(var p=0;p<h;++p)D.push(["t",c,"p",p,"=t",c,"[",d[c]+p,"]"].join(""));for(var p=0;p<Math.abs(o.arrayBlockIndices[c]);++p)D.push(["t",c,"b",p,"=t",c,"[",v[c]+p,"]"].join(""))}for(var c=0;c<o.scalarArgs.length;++c)E.push("Y"+c);if(o.shapeArgs.length>0&&D.push("shape=SS.slice(0)"),o.indexArgs.length>0){for(var C=new Array(h),c=0;c<h;++c)C[c]="0";D.push(["index=[",C.join(","),"]"].join(""))}for(var c=0;c<o.offsetArgs.length;++c){for(var b=o.offsetArgs[c],A=[],p=0;p<b.offset.length;++p)b.offset[p]!==0&&(b.offset[p]===1?A.push(["t",b.array,"p",p].join("")):A.push([b.offset[p],"*t",b.array,"p",p].join("")));A.length===0?D.push("q"+c+"=0"):D.push(["q",c,"=",A.join("+")].join(""))}var S=t([].concat(o.pre.thisVars).concat(o.body.thisVars).concat(o.post.thisVars));D=D.concat(S),D.length>0&&_.push("var "+D.join(","));for(var c=0;c<o.arrayArgs.length;++c)_.push("p"+c+"|=0");o.pre.body.length>3&&_.push(i(o.pre,o,l));var B=i(o.body,o,l),$=n(y);$<h?_.push(r($,y[0],o,B)):_.push(e(y[0],o,B)),o.post.body.length>3&&_.push(i(o.post,o,l)),o.debug&&console.log("-----Generated cwise routine for ",u,":\n"+_.join("\n")+"\n----------");var J=[o.funcName||"unnamed","_cwise_loop_",f[0].join("s"),"m",$,a(l)].join(""),U=new Function(["function ",J,"(",E.join(","),"){",_.join("\n"),"} return ",J].join(""));return U()}return is=s,is}var as,wu;function ed(){if(wu)return as;wu=1;var t=td();function e(r){var n=["'use strict'","var CACHED={}"],i=[],a=r.funcName+"_cwise_thunk";n.push(["return function ",a,"(",r.shimArgs.join(","),"){"].join(""));for(var s=[],o=[],u=[["array",r.arrayArgs[0],".shape.slice(",Math.max(0,r.arrayBlockIndices[0]),r.arrayBlockIndices[0]<0?","+r.arrayBlockIndices[0]+")":")"].join("")],h=[],f=[],l=0;l<r.arrayArgs.length;++l){var c=r.arrayArgs[l];i.push(["t",c,"=array",c,".dtype,","r",c,"=array",c,".order"].join("")),s.push("t"+c),s.push("r"+c),o.push("t"+c),o.push("r"+c+".join()"),u.push("array"+c+".data"),u.push("array"+c+".stride"),u.push("array"+c+".offset|0"),l>0&&(h.push("array"+r.arrayArgs[0]+".shape.length===array"+c+".shape.length+"+(Math.abs(r.arrayBlockIndices[0])-Math.abs(r.arrayBlockIndices[l]))),f.push("array"+r.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[0])+"]===array"+c+".shape[shapeIndex+"+Math.max(0,r.arrayBlockIndices[l])+"]"))}r.arrayArgs.length>1&&(n.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),n.push("for(var shapeIndex=array"+r.arrayArgs[0]+".shape.length-"+Math.abs(r.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),n.push("if (!("+f.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),n.push("}"));for(var l=0;l<r.scalarArgs.length;++l)u.push("scalar"+r.scalarArgs[l]);i.push(["type=[",o.join(","),"].join()"].join("")),i.push("proc=CACHED[type]"),n.push("var "+i.join(",")),n.push(["if(!proc){","CACHED[type]=proc=compile([",s.join(","),"])}","return proc(",u.join(","),")}"].join("")),r.debug&&console.log("-----Generated thunk:\n"+n.join("\n")+"\n----------");var v=new Function("compile",n.join("\n"));return v(t.bind(void 0,r))}return as=e,as}var ss,Au;function rd(){if(Au)return ss;Au=1;var t=ed();function e(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function r(n){var i=new e;i.pre=n.pre,i.body=n.body,i.post=n.post;var a=n.args.slice(0);i.argTypes=a;for(var s=0;s<a.length;++s){var o=a[s];if(o==="array"||typeof o=="object"&&o.blockIndices){if(i.argTypes[s]="array",i.arrayArgs.push(s),i.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),i.shimArgs.push("array"+s),s<i.pre.args.length&&i.pre.args[s].count>0)throw new Error("cwise: pre() block may not reference array args");if(s<i.post.args.length&&i.post.args[s].count>0)throw new Error("cwise: post() block may not reference array args")}else if(o==="scalar")i.scalarArgs.push(s),i.shimArgs.push("scalar"+s);else if(o==="index"){if(i.indexArgs.push(s),s<i.pre.args.length&&i.pre.args[s].count>0)throw new Error("cwise: pre() block may not reference array index");if(s<i.body.args.length&&i.body.args[s].lvalue)throw new Error("cwise: body() block may not write to array index");if(s<i.post.args.length&&i.post.args[s].count>0)throw new Error("cwise: post() block may not reference array index")}else if(o==="shape"){if(i.shapeArgs.push(s),s<i.pre.args.length&&i.pre.args[s].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(s<i.body.args.length&&i.body.args[s].lvalue)throw new Error("cwise: body() block may not write to array shape");if(s<i.post.args.length&&i.post.args[s].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof o=="object"&&o.offset)i.argTypes[s]="offset",i.offsetArgs.push({array:o.array,offset:o.offset}),i.offsetArgIndex.push(s);else throw new Error("cwise: Unknown argument type "+a[s])}if(i.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(i.pre.args.length>a.length)throw new Error("cwise: Too many arguments in pre() block");if(i.body.args.length>a.length)throw new Error("cwise: Too many arguments in body() block");if(i.post.args.length>a.length)throw new Error("cwise: Too many arguments in post() block");return i.debug=!!n.printCode||!!n.debug,i.funcName=n.funcName||"cwise",i.blockSize=n.blockSize||64,t(i)}return ss=r,ss}var Eu;function nd(){return Eu||(Eu=1,function(t){var e=rd(),r={body:"",args:[],thisVars:[],localVars:[]};function n(c){if(!c)return r;for(var v=0;v<c.args.length;++v){var g=c.args[v];v===0?c.args[v]={name:g,lvalue:!0,rvalue:!!c.rvalue,count:c.count||1}:c.args[v]={name:g,lvalue:!1,rvalue:!0,count:1}}return c.thisVars||(c.thisVars=[]),c.localVars||(c.localVars=[]),c}function i(c){return e({args:c.args,pre:n(c.pre),body:n(c.body),post:n(c.proc),funcName:c.funcName})}function a(c){for(var v=[],g=0;g<c.args.length;++g)v.push("a"+g);var d=new Function("P",["return function ",c.funcName,"_ndarrayops(",v.join(","),") {P(",v.join(","),");return a0}"].join(""));return d(i(c))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var c in s){var v=s[c];t[c]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+v+"c"},funcName:c}),t[c+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+v+"=b"},funcName:c+"eq"}),t[c+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+v+"s"},funcName:c+"s"}),t[c+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+v+"=s"},funcName:c+"seq"})}})();var o={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var c in o){var v=o[c];t[c]=a({args:["array","array"],body:{args:["a","b"],body:"a="+v+"b"},funcName:c}),t[c+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+v+"a"},funcName:c+"eq"})}})();var u={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var c in u){var v=u[c];t[c]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+v+"c"},funcName:c}),t[c+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+v+"s"},funcName:c+"s"}),t[c+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+v+"b"},funcName:c+"eq"}),t[c+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+v+"s"},funcName:c+"seq"})}})();var h=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var c=0;c<h.length;++c){var v=h[c];t[v]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:v}),t[v+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},funcName:v+"eq"})}})();var f=["max","min","atan2","pow"];(function(){for(var c=0;c<f.length;++c){var v=f[c];t[v]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:v}),t[v+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:v+"s"}),t[v+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},funcName:v+"eq"}),t[v+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},funcName:v+"seq"})}})();var l=["atan2","pow"];(function(){for(var c=0;c<l.length;++c){var v=l[c];t[v+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:v+"op"}),t[v+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:v+"ops"}),t[v+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},funcName:v+"opeq"}),t[v+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+v,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},funcName:v+"opseq"})}})(),t.any=e({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=e({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=e({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}(rs)),rs}var id=nd(),bu=Zh(id);const ad={prepare:Pn,set_scalar(t,e,r){bu.assigns(os(t,e),r)},set_from_chunk(t,e,r){const n=od(r);bu.assign(os(t,n.to),os(e,n.from))}};async function sd(t,e=null,r={}){return Vh(t,e,r,ad)}function od(t){const e=[],r=[];for(const n of t)n.to!==null&&e.push(n.to),n.from!==null&&r.push(n.from);return{to:e,from:r}}function os(t,e){const r=[],n=[],i=[],a=[];return e.forEach((s,o)=>{if(typeof s=="number"){r.push(0),n.push(t.shape[o]),i.push(1),a.push(s);return}r.push(s[0]),n.push(s[1]),i.push(s[2]),a.push(null)}),t.hi(...n).lo(...r).step(...i).pick(...a)}function ud(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");for(var e=1;e<=60;++e)t("EPSG:"+(32600+e),"+proj=utm +zone="+e+" +datum=WGS84 +units=m"),t("EPSG:"+(32700+e),"+proj=utm +zone="+e+" +south +datum=WGS84 +units=m");t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}var Wr=1,Vr=2,dn=3,hd=4,Fs=5,Cu=6378137,fd=6356752314e-3,Fu=.0066943799901413165,$n=484813681109536e-20,R=Math.PI/2,ld=.16666666666666666,cd=.04722222222222222,dd=.022156084656084655,W=1e-10,oe=.017453292519943295,Ke=57.29577951308232,yt=Math.PI/4,Gn=Math.PI*2,ue=3.14159265359,Se={};Se.greenwich=0;Se.lisbon=-9.131906111111;Se.paris=2.337229166667;Se.bogota=-74.080916666667;Se.madrid=-3.687938888889;Se.rome=12.452333333333;Se.bern=7.439583333333;Se.jakarta=106.807719444444;Se.ferro=-17.666666666667;Se.brussels=4.367975;Se.stockholm=18.058277777778;Se.athens=23.7163375;Se.oslo=10.722916666667;var vd={mm:{to_meter:.001},cm:{to_meter:.01},ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937},fath:{to_meter:1.8288},kmi:{to_meter:1852},"us-ch":{to_meter:20.1168402336805},"us-mi":{to_meter:1609.34721869444},km:{to_meter:1e3},"ind-ft":{to_meter:.30479841},"ind-yd":{to_meter:.91439523},mi:{to_meter:1609.344},yd:{to_meter:.9144},ch:{to_meter:20.1168},link:{to_meter:.201168},dm:{to_meter:.01},in:{to_meter:.0254},"ind-ch":{to_meter:20.11669506},"us-in":{to_meter:.025400050800101},"us-yd":{to_meter:.914401828803658}},xu=/[\s_\-\/\(\)]/g;function Sr(t,e){if(t[e])return t[e];for(var r=Object.keys(t),n=e.toLowerCase().replace(xu,""),i=-1,a,s;++i<r.length;)if(a=r[i],s=a.toLowerCase().replace(xu,""),s===n)return t[a]}function xs(t){var e={},r=t.split("+").map(function(o){return o.trim()}).filter(function(o){return o}).reduce(function(o,u){var h=u.split("=");return h.push(!0),o[h[0].toLowerCase()]=h[1],o},{}),n,i,a,s={proj:"projName",datum:"datumCode",rf:function(o){e.rf=parseFloat(o)},lat_0:function(o){e.lat0=o*oe},lat_1:function(o){e.lat1=o*oe},lat_2:function(o){e.lat2=o*oe},lat_ts:function(o){e.lat_ts=o*oe},lon_0:function(o){e.long0=o*oe},lon_1:function(o){e.long1=o*oe},lon_2:function(o){e.long2=o*oe},alpha:function(o){e.alpha=parseFloat(o)*oe},gamma:function(o){e.rectified_grid_angle=parseFloat(o)},lonc:function(o){e.longc=o*oe},x_0:function(o){e.x0=parseFloat(o)},y_0:function(o){e.y0=parseFloat(o)},k_0:function(o){e.k0=parseFloat(o)},k:function(o){e.k0=parseFloat(o)},a:function(o){e.a=parseFloat(o)},b:function(o){e.b=parseFloat(o)},r:function(o){e.a=e.b=parseFloat(o)},r_a:function(){e.R_A=!0},zone:function(o){e.zone=parseInt(o,10)},south:function(){e.utmSouth=!0},towgs84:function(o){e.datum_params=o.split(",").map(function(u){return parseFloat(u)})},to_meter:function(o){e.to_meter=parseFloat(o)},units:function(o){e.units=o;var u=Sr(vd,o);u&&(e.to_meter=u.to_meter)},from_greenwich:function(o){e.from_greenwich=o*oe},pm:function(o){var u=Sr(Se,o);e.from_greenwich=(u||parseFloat(o))*oe},nadgrids:function(o){o==="@null"?e.datumCode="none":e.nadgrids=o},axis:function(o){var u="ewnsud";o.length===3&&u.indexOf(o.substr(0,1))!==-1&&u.indexOf(o.substr(1,1))!==-1&&u.indexOf(o.substr(2,1))!==-1&&(e.axis=o)},approx:function(){e.approx=!0}};for(n in r)i=r[n],n in s?(a=s[n],typeof a=="function"?a(i):e[a]=i):e[n]=i;return typeof e.datumCode=="string"&&e.datumCode!=="WGS84"&&(e.datumCode=e.datumCode.toLowerCase()),e}var Hn=1,Qh=2,Jh=3,ia=4,Xh=5,oo=-1,md=/\s/,gd=/[A-Za-z]/,yd=/[A-Za-z84_]/,Sa=/[,\]]/,Kh=/[\d\.E\-\+]/;function pr(t){if(typeof t!="string")throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=Hn}pr.prototype.readCharicter=function(){var t=this.text[this.place++];if(this.state!==ia)for(;md.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case Hn:return this.neutral(t);case Qh:return this.keyword(t);case ia:return this.quoted(t);case Xh:return this.afterquote(t);case Jh:return this.number(t);case oo:return}};pr.prototype.afterquote=function(t){if(t==='"'){this.word+='"',this.state=ia;return}if(Sa.test(t)){this.word=this.word.trim(),this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)};pr.prototype.afterItem=function(t){if(t===","){this.word!==null&&this.currentObject.push(this.word),this.word=null,this.state=Hn;return}if(t==="]"){this.level--,this.word!==null&&(this.currentObject.push(this.word),this.word=null),this.state=Hn,this.currentObject=this.stack.pop(),this.currentObject||(this.state=oo);return}};pr.prototype.number=function(t){if(Kh.test(t)){this.word+=t;return}if(Sa.test(t)){this.word=parseFloat(this.word),this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)};pr.prototype.quoted=function(t){if(t==='"'){this.state=Xh;return}this.word+=t};pr.prototype.keyword=function(t){if(yd.test(t)){this.word+=t;return}if(t==="["){var e=[];e.push(this.word),this.level++,this.root===null?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,this.state=Hn;return}if(Sa.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place)};pr.prototype.neutral=function(t){if(gd.test(t)){this.word=t,this.state=Qh;return}if(t==='"'){this.word="",this.state=ia;return}if(Kh.test(t)){this.word=t,this.state=Jh;return}if(Sa.test(t)){this.afterItem(t);return}throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place)};pr.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(this.state===oo)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function pd(t){var e=new pr(t);return e.output()}function us(t,e,r){Array.isArray(e)&&(r.unshift(e),e=null);var n=e?{}:t,i=r.reduce(function(a,s){return on(s,a),a},n);e&&(t[e]=i)}function on(t,e){if(!Array.isArray(t)){e[t]=!0;return}var r=t.shift();if(r==="PARAMETER"&&(r=t.shift()),t.length===1){if(Array.isArray(t[0])){e[r]={},on(t[0],e[r]);return}e[r]=t[0];return}if(!t.length){e[r]=!0;return}if(r==="TOWGS84"){e[r]=t;return}if(r==="AXIS"){r in e||(e[r]=[]),e[r].push(t);return}Array.isArray(r)||(e[r]={});var n;switch(r){case"UNIT":case"PRIMEM":case"VERT_DATUM":e[r]={name:t[0].toLowerCase(),convert:t[1]},t.length===3&&on(t[2],e[r]);return;case"SPHEROID":case"ELLIPSOID":e[r]={name:t[0],a:t[1],rf:t[2]},t.length===4&&on(t[3],e[r]);return;case"EDATUM":case"ENGINEERINGDATUM":case"LOCAL_DATUM":case"DATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":t[0]=["name",t[0]],us(e,r,t);return;case"COMPD_CS":case"COMPOUNDCRS":case"FITTED_CS":case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"ENGCRS":case"ENGINEERINGCRS":t[0]=["name",t[0]],us(e,r,t),e[r].type=r;return;default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return on(t,e[r]);return us(e,r,t)}}var _d=.017453292519943295,Dd=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Md(t,e){var r=e[0],n=e[1];!(r in t)&&n in t&&(t[r]=t[n],e.length===3&&(t[r]=e[2](t[r])))}function Qe(t){return t*_d}function tf(t){for(var e=Object.keys(t),r=0,n=e.length;r<n;++r){var i=e[r];Dd.indexOf(i)!==-1&&wd(t[i]),typeof t[i]=="object"&&tf(t[i])}}function wd(t){if(t.AUTHORITY){var e=Object.keys(t.AUTHORITY)[0];e&&e in t.AUTHORITY&&(t.title=e+":"+t.AUTHORITY[e])}if(t.type==="GEOGCS"?t.projName="longlat":t.type==="LOCAL_CS"?(t.projName="identity",t.local=!0):typeof t.PROJECTION=="object"?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",n=0,i=t.AXIS.length;n<i;++n){var a=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];a[0].indexOf("north")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="north"?r+="n":a[0].indexOf("south")!==-1||(a[0]==="y"||a[0]==="lat")&&a[1]==="south"?r+="s":a[0].indexOf("east")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="east"?r+="e":(a[0].indexOf("west")!==-1||(a[0]==="x"||a[0]==="lon")&&a[1]==="west")&&(r+="w")}r.length===2&&(r+="u"),r.length===3&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),t.units==="metre"&&(t.units="meter"),t.UNIT.convert&&(t.type==="GEOGCS"?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;t.type==="GEOGCS"&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),t.datumCode.slice(0,2)==="d_"&&(t.datumCode=t.datumCode.slice(2)),t.datumCode==="new_zealand_1949"&&(t.datumCode="nzgd49"),(t.datumCode==="wgs_1984"||t.datumCode==="world_geodetic_system_1984")&&(t.PROJECTION==="Mercator_Auxiliary_Sphere"&&(t.sphere=!0),t.datumCode="wgs84"),t.datumCode==="belge_1972"&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),t.ellps.toLowerCase().slice(0,13)==="international"&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),t.datumCode==="ch1903+"&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a);function o(f){var l=t.to_meter||1;return f*l}var u=function(f){return Md(t,f)},h=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",Qe],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",Qe],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",Qe],["lat0","latitude_of_origin",Qe],["lat0","standard_parallel_1",Qe],["lat1","standard_parallel_1",Qe],["lat2","standard_parallel_2",Qe],["azimuth","Azimuth"],["alpha","azimuth",Qe],["srsCode","name"]];h.forEach(u),!t.long0&&t.longc&&(t.projName==="Albers_Conic_Equal_Area"||t.projName==="Lambert_Azimuthal_Equal_Area")&&(t.long0=t.longc),!t.lat_ts&&t.lat1&&(t.projName==="Stereographic_South_Pole"||t.projName==="Polar Stereographic (variant B)")?(t.lat0=Qe(t.lat1>0?90:-90),t.lat_ts=t.lat1):!t.lat_ts&&t.lat0&&t.projName==="Polar_Stereographic"&&(t.lat_ts=t.lat0,t.lat0=Qe(t.lat0>0?90:-90))}function ef(t){var e=pd(t),r=e[0],n={};return on(e,n),tf(n),n[r]}function pe(t){var e=this;if(arguments.length===2){var r=arguments[1];typeof r=="string"?r.charAt(0)==="+"?pe[t]=xs(arguments[1]):pe[t]=ef(arguments[1]):pe[t]=r}else if(arguments.length===1){if(Array.isArray(t))return t.map(function(n){Array.isArray(n)?pe.apply(e,n):pe(n)});if(typeof t=="string"){if(t in pe)return pe[t]}else"EPSG"in t?pe["EPSG:"+t.EPSG]=t:"ESRI"in t?pe["ESRI:"+t.ESRI]=t:"IAU2000"in t?pe["IAU2000:"+t.IAU2000]=t:console.log(t);return}}ud(pe);function Ad(t){return typeof t=="string"}function Ed(t){return t in pe}var bd=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];function Cd(t){return bd.some(function(e){return t.indexOf(e)>-1})}var Fd=["3857","900913","3785","102113"];function xd(t){var e=Sr(t,"authority");if(e){var r=Sr(e,"epsg");return r&&Fd.indexOf(r)>-1}}function Sd(t){var e=Sr(t,"extension");if(e)return Sr(e,"proj4")}function Nd(t){return t[0]==="+"}function Td(t){if(Ad(t)){if(Ed(t))return pe[t];if(Cd(t)){var e=ef(t);if(xd(e))return pe["EPSG:3857"];var r=Sd(e);return r?xs(r):e}if(Nd(t))return xs(t)}else return t}function Su(t,e){t=t||{};var r,n;if(!e)return t;for(n in e)r=e[n],r!==void 0&&(t[n]=r);return t}function rr(t,e,r){var n=t*e;return r/Math.sqrt(1-n*n)}function _i(t){return t<0?-1:1}function H(t){return Math.abs(t)<=ue?t:t-_i(t)*Gn}function Ve(t,e,r){var n=t*r,i=.5*t;return n=Math.pow((1-n)/(1+n),i),Math.tan(.5*(R-e))/n}function Zn(t,e){for(var r=.5*t,n,i,a=R-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),i=R-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-a,a+=i,Math.abs(i)<=1e-10)return a;return-9999}function Bd(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=rr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Od(t){var e=t.x,r=t.y;if(r*Ke>90&&r*Ke<-90&&e*Ke>180&&e*Ke<-180)return null;var n,i;if(Math.abs(Math.abs(r)-R)<=W)return null;if(this.sphere)n=this.x0+this.a*this.k0*H(e-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(yt+.5*r));else{var a=Math.sin(r),s=Ve(this.e,r,a);n=this.x0+this.a*this.k0*H(e-this.long0),i=this.y0-this.a*this.k0*Math.log(s)}return t.x=n,t.y=i,t}function kd(t){var e=t.x-this.x0,r=t.y-this.y0,n,i;if(this.sphere)i=R-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(i=Zn(this.e,a),i===-9999)return null}return n=H(this.long0+e/(this.a*this.k0)),t.x=n,t.y=i,t}var Id=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],Pd={init:Bd,forward:Od,inverse:kd,names:Id};function Rd(){}function Nu(t){return t}var Ld=["longlat","identity"],Yd={init:Rd,forward:Nu,inverse:Nu,names:Ld},$d=[Pd,Yd],Ui={},aa=[];function rf(t,e){var r=aa.length;return t.names?(aa[r]=t,t.names.forEach(function(n){Ui[n.toLowerCase()]=r}),this):(console.log(e),!0)}function zd(t){if(!t)return!1;var e=t.toLowerCase();if(typeof Ui[e]<"u"&&aa[Ui[e]])return aa[Ui[e]]}function qd(){$d.forEach(rf)}var Ud={start:qd,add:rf,get:zd},at={};at.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};at.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};at.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};at.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};at.airy={a:6377563396e-3,b:635625691e-2,ellipseName:"Airy 1830"};at.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};at.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};at.mod_airy={a:6377340189e-3,b:6356034446e-3,ellipseName:"Modified Airy"};at.andrae={a:637710443e-2,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};at.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};at.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};at.bessel={a:6377397155e-3,rf:299.1528128,ellipseName:"Bessel 1841"};at.bess_nam={a:6377483865e-3,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};at.clrk66={a:63782064e-1,b:63565838e-1,ellipseName:"Clarke 1866"};at.clrk80={a:6378249145e-3,rf:293.4663,ellipseName:"Clarke 1880 mod."};at.clrk80ign={a:63782492e-1,b:6356515,rf:293.4660213,ellipseName:"Clarke 1880 (IGN)"};at.clrk58={a:6378293645208759e-9,rf:294.2606763692654,ellipseName:"Clarke 1858"};at.CPM={a:63757387e-1,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};at.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};at.engelis={a:637813605e-2,rf:298.2566,ellipseName:"Engelis 1985"};at.evrst30={a:6377276345e-3,rf:300.8017,ellipseName:"Everest 1830"};at.evrst48={a:6377304063e-3,rf:300.8017,ellipseName:"Everest 1948"};at.evrst56={a:6377301243e-3,rf:300.8017,ellipseName:"Everest 1956"};at.evrst69={a:6377295664e-3,rf:300.8017,ellipseName:"Everest 1969"};at.evrstSS={a:6377298556e-3,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};at.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};at.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};at.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};at.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};at.hough={a:6378270,rf:297,ellipseName:"Hough"};at.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};at.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};at.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};at.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};at.new_intl={a:63781575e-1,b:63567722e-1,ellipseName:"New International 1967"};at.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};at.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};at.SEasia={a:6378155,b:63567733205e-4,ellipseName:"Southeast Asia"};at.walbeck={a:6376896,b:63558348467e-4,ellipseName:"Walbeck"};at.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};at.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};at.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Wd=at.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};at.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};function Vd(t,e,r,n){var i=t*t,a=e*e,s=(i-a)/i,o=0;n?(t*=1-s*(ld+s*(cd+s*dd)),i=t*t,s=0):o=Math.sqrt(s);var u=(i-a)/a;return{es:s,e:o,ep2:u}}function jd(t,e,r,n,i){if(!t){var a=Sr(at,n);a||(a=Wd),t=a.a,e=a.b,r=a.rf}return r&&!e&&(e=(1-1/r)*t),(r===0||Math.abs(t-e)<W)&&(i=!0,e=t),{a:t,b:e,rf:r,sphere:i}}var Wi={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},mgi:{towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Militar-Geographische Institut"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Ordnance Survey of Great Britain 1936"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};for(var Gd in Wi){var Tu=Wi[Gd];Wi[Tu.datumName]=Tu}function Hd(t,e,r,n,i,a,s){var o={};return t===void 0||t==="none"?o.datum_type=Fs:o.datum_type=hd,e&&(o.datum_params=e.map(parseFloat),(o.datum_params[0]!==0||o.datum_params[1]!==0||o.datum_params[2]!==0)&&(o.datum_type=Wr),o.datum_params.length>3&&(o.datum_params[3]!==0||o.datum_params[4]!==0||o.datum_params[5]!==0||o.datum_params[6]!==0)&&(o.datum_type=Vr,o.datum_params[3]*=$n,o.datum_params[4]*=$n,o.datum_params[5]*=$n,o.datum_params[6]=o.datum_params[6]/1e6+1)),s&&(o.datum_type=dn,o.grids=s),o.a=r,o.b=n,o.es=i,o.ep2=a,o}var nf={};function Zd(t,e){var r=new DataView(e),n=Xd(r),i=Kd(r,n),a=t1(r,i,n),s={header:i,subgrids:a};return nf[t]=s,s}function Qd(t){if(t===void 0)return null;var e=t.split(",");return e.map(Jd)}function Jd(t){if(t.length===0)return null;var e=t[0]==="@";return e&&(t=t.slice(1)),t==="null"?{name:"null",mandatory:!e,grid:null,isNull:!0}:{name:t,mandatory:!e,grid:nf[t]||null,isNull:!1}}function un(t){return t/3600*Math.PI/180}function Xd(t){var e=t.getInt32(8,!1);return e===11?!1:(e=t.getInt32(8,!0),e!==11&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"),!0)}function Kd(t,e){return{nFields:t.getInt32(8,e),nSubgridFields:t.getInt32(24,e),nSubgrids:t.getInt32(40,e),shiftType:Ss(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,e),fromSemiMinorAxis:t.getFloat64(136,e),toSemiMajorAxis:t.getFloat64(152,e),toSemiMinorAxis:t.getFloat64(168,e)}}function Ss(t,e,r){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(e,r)))}function t1(t,e,r){for(var n=176,i=[],a=0;a<e.nSubgrids;a++){var s=r1(t,n,r),o=n1(t,n,s,r),u=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),h=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[un(s.lowerLongitude),un(s.lowerLatitude)],del:[un(s.longitudeInterval),un(s.latitudeInterval)],lim:[u,h],count:s.gridNodeCount,cvs:e1(o)}),n+=176+s.gridNodeCount*16}return i}function e1(t){return t.map(function(e){return[un(e.longitudeShift),un(e.latitudeShift)]})}function r1(t,e,r){return{name:Ss(t,e+8,e+16).trim(),parent:Ss(t,e+24,e+24+8).trim(),lowerLatitude:t.getFloat64(e+72,r),upperLatitude:t.getFloat64(e+88,r),lowerLongitude:t.getFloat64(e+104,r),upperLongitude:t.getFloat64(e+120,r),latitudeInterval:t.getFloat64(e+136,r),longitudeInterval:t.getFloat64(e+152,r),gridNodeCount:t.getInt32(e+168,r)}}function n1(t,e,r,n){for(var i=e+176,a=16,s=[],o=0;o<r.gridNodeCount;o++){var u={latitudeShift:t.getFloat32(i+o*a,n),longitudeShift:t.getFloat32(i+o*a+4,n),latitudeAccuracy:t.getFloat32(i+o*a+8,n),longitudeAccuracy:t.getFloat32(i+o*a+12,n)};s.push(u)}return s}function er(t,e){if(!(this instanceof er))return new er(t);e=e||function(h){if(h)throw h};var r=Td(t);if(typeof r!="object"){e("Could not parse to valid json: "+t);return}var n=er.projections.get(r.projName);if(!n){e("Could not get projection name from: "+t);return}if(r.datumCode&&r.datumCode!=="none"){var i=Sr(Wi,r.datumCode);i&&(r.datum_params=r.datum_params||(i.towgs84?i.towgs84.split(","):null),r.ellps=i.ellipse,r.datumName=i.datumName?i.datumName:r.datumCode)}r.k0=r.k0||1,r.axis=r.axis||"enu",r.ellps=r.ellps||"wgs84",r.lat1=r.lat1||r.lat0;var a=jd(r.a,r.b,r.rf,r.ellps,r.sphere),s=Vd(a.a,a.b,a.rf,r.R_A),o=Qd(r.nadgrids),u=r.datum||Hd(r.datumCode,r.datum_params,a.a,a.b,s.es,s.ep2,o);Su(this,r),Su(this,n),this.a=a.a,this.b=a.b,this.rf=a.rf,this.sphere=a.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=u,this.init(),e(null,this)}er.projections=Ud;er.projections.start();function i1(t,e){return t.datum_type!==e.datum_type||t.a!==e.a||Math.abs(t.es-e.es)>5e-11?!1:t.datum_type===Wr?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type===Vr?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]:!0}function af(t,e,r){var n=t.x,i=t.y,a=t.z?t.z:0,s,o,u,h;if(i<-R&&i>-1.001*R)i=-R;else if(i>R&&i<1.001*R)i=R;else{if(i<-R)return{x:-1/0,y:-1/0,z:t.z};if(i>R)return{x:1/0,y:1/0,z:t.z}}return n>Math.PI&&(n-=2*Math.PI),o=Math.sin(i),h=Math.cos(i),u=o*o,s=r/Math.sqrt(1-e*u),{x:(s+a)*h*Math.cos(n),y:(s+a)*h*Math.sin(n),z:(s*(1-e)+a)*o}}function sf(t,e,r,n){var i=1e-12,a=i*i,s=30,o,u,h,f,l,c,v,g,d,m,y,M,p,E=t.x,_=t.y,D=t.z?t.z:0,C,b,A;if(o=Math.sqrt(E*E+_*_),u=Math.sqrt(E*E+_*_+D*D),o/r<i){if(C=0,u/r<i)return b=R,A=-n,{x:t.x,y:t.y,z:t.z}}else C=Math.atan2(_,E);h=D/u,f=o/u,l=1/Math.sqrt(1-e*(2-e)*f*f),g=f*(1-e)*l,d=h*l,p=0;do p++,v=r/Math.sqrt(1-e*d*d),A=o*g+D*d-v*(1-e*d*d),c=e*v/(v+A),l=1/Math.sqrt(1-c*(2-c)*f*f),m=f*(1-c)*l,y=h*l,M=y*g-m*d,g=m,d=y;while(M*M>a&&p<s);return b=Math.atan(y/Math.abs(m)),{x:C,y:b,z:A}}function a1(t,e,r){if(e===Wr)return{x:t.x+r[0],y:t.y+r[1],z:t.z+r[2]};if(e===Vr){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=r[6];return{x:h*(t.x-u*t.y+o*t.z)+n,y:h*(u*t.x+t.y-s*t.z)+i,z:h*(-o*t.x+s*t.y+t.z)+a}}}function s1(t,e,r){if(e===Wr)return{x:t.x-r[0],y:t.y-r[1],z:t.z-r[2]};if(e===Vr){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=r[5],h=r[6],f=(t.x-n)/h,l=(t.y-i)/h,c=(t.z-a)/h;return{x:f+u*l-o*c,y:-u*f+l+s*c,z:o*f-s*l+c}}}function Oi(t){return t===Wr||t===Vr}function o1(t,e,r){if(i1(t,e)||t.datum_type===Fs||e.datum_type===Fs)return r;var n=t.a,i=t.es;if(t.datum_type===dn){var a=Bu(t,!1,r);if(a!==0)return;n=Cu,i=Fu}var s=e.a,o=e.b,u=e.es;if(e.datum_type===dn&&(s=Cu,o=fd,u=Fu),i===u&&n===s&&!Oi(t.datum_type)&&!Oi(e.datum_type))return r;if(r=af(r,i,n),Oi(t.datum_type)&&(r=a1(r,t.datum_type,t.datum_params)),Oi(e.datum_type)&&(r=s1(r,e.datum_type,e.datum_params)),r=sf(r,u,s,o),e.datum_type===dn){var h=Bu(e,!0,r);if(h!==0)return}return r}function Bu(t,e,r){if(t.grids===null||t.grids.length===0)return console.log("Grid shift grids not found"),-1;var n={x:-r.x,y:r.y},i={x:Number.NaN,y:Number.NaN},a=[];t:for(var s=0;s<t.grids.length;s++){var o=t.grids[s];if(a.push(o.name),o.isNull){i=n;break}if(o.mandatory,o.grid===null){if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1;continue}for(var u=o.grid.subgrids,h=0,f=u.length;h<f;h++){var l=u[h],c=(Math.abs(l.del[1])+Math.abs(l.del[0]))/1e4,v=l.ll[0]-c,g=l.ll[1]-c,d=l.ll[0]+(l.lim[0]-1)*l.del[0]+c,m=l.ll[1]+(l.lim[1]-1)*l.del[1]+c;if(!(g>n.y||v>n.x||m<n.y||d<n.x)&&(i=u1(n,e,l),!isNaN(i.x)))break t}}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-n.x*Ke+" "+n.y*Ke+" tried: '"+a+"'"),-1):(r.x=-i.x,r.y=i.y,0)}function u1(t,e,r){var n={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return n;var i={x:t.x,y:t.y};i.x-=r.ll[0],i.y-=r.ll[1],i.x=H(i.x-Math.PI)+Math.PI;var a=Ou(i,r);if(e){if(isNaN(a.x))return n;a.x=i.x-a.x,a.y=i.y-a.y;var s=9,o=1e-12,u,h;do{if(h=Ou(a,r),isNaN(h.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}u={x:i.x-(h.x+a.x),y:i.y-(h.y+a.y)},a.x+=u.x,a.y+=u.y}while(s--&&Math.abs(u.x)>o&&Math.abs(u.y)>o);if(s<0)return console.log("Inverse grid shift iterator failed to converge."),n;n.x=H(a.x+r.ll[0]),n.y=a.y+r.ll[1]}else isNaN(a.x)||(n.x=t.x+a.x,n.y=t.y+a.y);return n}function Ou(t,e){var r={x:t.x/e.del[0],y:t.y/e.del[1]},n={x:Math.floor(r.x),y:Math.floor(r.y)},i={x:r.x-1*n.x,y:r.y-1*n.y},a={x:Number.NaN,y:Number.NaN},s;if(n.x<0||n.x>=e.lim[0]||n.y<0||n.y>=e.lim[1])return a;s=n.y*e.lim[0]+n.x;var o={x:e.cvs[s][0],y:e.cvs[s][1]};s++;var u={x:e.cvs[s][0],y:e.cvs[s][1]};s+=e.lim[0];var h={x:e.cvs[s][0],y:e.cvs[s][1]};s--;var f={x:e.cvs[s][0],y:e.cvs[s][1]},l=i.x*i.y,c=i.x*(1-i.y),v=(1-i.x)*(1-i.y),g=(1-i.x)*i.y;return a.x=v*o.x+c*u.x+g*f.x+l*h.x,a.y=v*o.y+c*u.y+g*f.y+l*h.y,a}function ku(t,e,r){var n=r.x,i=r.y,a=r.z||0,s,o,u,h={};for(u=0;u<3;u++)if(!(e&&u===2&&r.z===void 0))switch(u===0?(s=n,"ew".indexOf(t.axis[u])!==-1?o="x":o="y"):u===1?(s=i,"ns".indexOf(t.axis[u])!==-1?o="y":o="x"):(s=a,o="z"),t.axis[u]){case"e":h[o]=s;break;case"w":h[o]=-s;break;case"n":h[o]=s;break;case"s":h[o]=-s;break;case"u":r[o]!==void 0&&(h.z=s);break;case"d":r[o]!==void 0&&(h.z=-s);break;default:return null}return h}function of(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function h1(t){Iu(t.x),Iu(t.y)}function Iu(t){if(typeof Number.isFinite=="function"){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if(typeof t!="number"||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function f1(t,e){return(t.datum.datum_type===Wr||t.datum.datum_type===Vr||t.datum.datum_type===dn)&&e.datumCode!=="WGS84"||(e.datum.datum_type===Wr||e.datum.datum_type===Vr||e.datum.datum_type===dn)&&t.datumCode!=="WGS84"}function sa(t,e,r,n){var i;Array.isArray(r)?r=of(r):r={x:r.x,y:r.y,z:r.z,m:r.m};var a=r.z!==void 0;if(h1(r),t.datum&&e.datum&&f1(t,e)&&(i=new er("WGS84"),r=sa(t,i,r,n),t=i),n&&t.axis!=="enu"&&(r=ku(t,!1,r)),t.projName==="longlat")r={x:r.x*oe,y:r.y*oe,z:r.z||0};else if(t.to_meter&&(r={x:r.x*t.to_meter,y:r.y*t.to_meter,z:r.z||0}),r=t.inverse(r),!r)return;if(t.from_greenwich&&(r.x+=t.from_greenwich),r=o1(t.datum,e.datum,r),!!r)return e.from_greenwich&&(r={x:r.x-e.from_greenwich,y:r.y,z:r.z||0}),e.projName==="longlat"?r={x:r.x*Ke,y:r.y*Ke,z:r.z||0}:(r=e.forward(r),e.to_meter&&(r={x:r.x/e.to_meter,y:r.y/e.to_meter,z:r.z||0})),n&&e.axis!=="enu"?ku(e,!0,r):(r&&!a&&delete r.z,r)}var Pu=er("WGS84");function hs(t,e,r,n){var i,a,s;return Array.isArray(r)?(i=sa(t,e,r,n)||{x:NaN,y:NaN},r.length>2?typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"?typeof i.z=="number"?[i.x,i.y,i.z].concat(r.slice(3)):[i.x,i.y,r[2]].concat(r.slice(3)):[i.x,i.y].concat(r.slice(2)):[i.x,i.y]):(a=sa(t,e,r,n),s=Object.keys(r),s.length===2||s.forEach(function(o){if(typeof t.name<"u"&&t.name==="geocent"||typeof e.name<"u"&&e.name==="geocent"){if(o==="x"||o==="y"||o==="z")return}else if(o==="x"||o==="y")return;a[o]=r[o]}),a)}function Ru(t){return t instanceof er?t:t.oProj?t.oProj:er(t)}function Fe(t,e,r){t=Ru(t);var n=!1,i;return typeof e>"u"?(e=t,t=Pu,n=!0):(typeof e.x<"u"||Array.isArray(e))&&(r=e,e=t,t=Pu,n=!0),e=Ru(e),r?hs(t,e,r):(i={forward:function(a,s){return hs(t,e,a,s)},inverse:function(a,s){return hs(e,t,a,s)}},n&&(i.oProj=e),i)}var Lu=6,uf="AJSAJS",hf="AFAFAF",hn=65,we=73,Pe=79,Rn=86,Ln=90,l1={forward:ff,inverse:c1,toPoint:lf};function ff(t,e){return e=e||5,m1(d1({lat:t[1],lon:t[0]}),e)}function c1(t){var e=uo(df(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function lf(t){var e=uo(df(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function fs(t){return t*(Math.PI/180)}function Yu(t){return 180*(t/Math.PI)}function d1(t){var e=t.lat,r=t.lon,n=6378137,i=.00669438,a=.9996,s,o,u,h,f,l,c,v=fs(e),g=fs(r),d,m;m=Math.floor((r+180)/6)+1,r===180&&(m=60),e>=56&&e<64&&r>=3&&r<12&&(m=32),e>=72&&e<84&&(r>=0&&r<9?m=31:r>=9&&r<21?m=33:r>=21&&r<33?m=35:r>=33&&r<42&&(m=37)),s=(m-1)*6-180+3,d=fs(s),o=i/(1-i),u=n/Math.sqrt(1-i*Math.sin(v)*Math.sin(v)),h=Math.tan(v)*Math.tan(v),f=o*Math.cos(v)*Math.cos(v),l=Math.cos(v)*(g-d),c=n*((1-i/4-3*i*i/64-5*i*i*i/256)*v-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*v)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*v)-35*i*i*i/3072*Math.sin(6*v));var y=a*u*(l+(1-h+f)*l*l*l/6+(5-18*h+h*h+72*f-58*o)*l*l*l*l*l/120)+5e5,M=a*(c+u*Math.tan(v)*(l*l/2+(5-h+9*f+4*f*f)*l*l*l*l/24+(61-58*h+h*h+600*f-330*o)*l*l*l*l*l*l/720));return e<0&&(M+=1e7),{northing:Math.round(M),easting:Math.round(y),zoneNumber:m,zoneLetter:v1(e)}}function uo(t){var e=t.northing,r=t.easting,n=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a=.9996,s=6378137,o=.00669438,u,h=(1-Math.sqrt(1-o))/(1+Math.sqrt(1-o)),f,l,c,v,g,d,m,y,M,p=r-5e5,E=e;n<"N"&&(E-=1e7),m=(i-1)*6-180+3,u=o/(1-o),d=E/a,y=d/(s*(1-o/4-3*o*o/64-5*o*o*o/256)),M=y+(3*h/2-27*h*h*h/32)*Math.sin(2*y)+(21*h*h/16-55*h*h*h*h/32)*Math.sin(4*y)+151*h*h*h/96*Math.sin(6*y),f=s/Math.sqrt(1-o*Math.sin(M)*Math.sin(M)),l=Math.tan(M)*Math.tan(M),c=u*Math.cos(M)*Math.cos(M),v=s*(1-o)/Math.pow(1-o*Math.sin(M)*Math.sin(M),1.5),g=p/(f*a);var _=M-f*Math.tan(M)/v*(g*g/2-(5+3*l+10*c-4*c*c-9*u)*g*g*g*g/24+(61+90*l+298*c+45*l*l-252*u-3*c*c)*g*g*g*g*g*g/720);_=Yu(_);var D=(g-(1+2*l+c)*g*g*g/6+(5-2*c+28*l-3*c*c+8*u+24*l*l)*g*g*g*g*g/120)/Math.cos(M);D=m+Yu(D);var C;if(t.accuracy){var b=uo({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:b.lat,right:b.lon,bottom:_,left:D}}else C={lat:_,lon:D};return C}function v1(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function m1(t,e){var r="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+g1(t.easting,t.northing,t.zoneNumber)+r.substr(r.length-5,e)+n.substr(n.length-5,e)}function g1(t,e,r){var n=cf(r),i=Math.floor(t/1e5),a=Math.floor(e/1e5)%20;return y1(i,a,n)}function cf(t){var e=t%Lu;return e===0&&(e=Lu),e}function y1(t,e,r){var n=r-1,i=uf.charCodeAt(n),a=hf.charCodeAt(n),s=i+t-1,o=a+e,u=!1;s>Ln&&(s=s-Ln+hn-1,u=!0),(s===we||i<we&&s>we||(s>we||i<we)&&u)&&s++,(s===Pe||i<Pe&&s>Pe||(s>Pe||i<Pe)&&u)&&(s++,s===we&&s++),s>Ln&&(s=s-Ln+hn-1),o>Rn?(o=o-Rn+hn-1,u=!0):u=!1,(o===we||a<we&&o>we||(o>we||a<we)&&u)&&o++,(o===Pe||a<Pe&&o>Pe||(o>Pe||a<Pe)&&u)&&(o++,o===we&&o++),o>Rn&&(o=o-Rn+hn-1);var h=String.fromCharCode(s)+String.fromCharCode(o);return h}function df(t){if(t&&t.length===0)throw"MGRSPoint coverting from nothing";for(var e=t.length,r=null,n="",i,a=0;!/[A-Z]/.test(i=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;n+=i,a++}var s=parseInt(n,10);if(a===0||a+3>e)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(a++);if(o<="A"||o==="B"||o==="Y"||o>="Z"||o==="I"||o==="O")throw"MGRSPoint zone letter "+o+" not handled: "+t;r=t.substring(a,a+=2);for(var u=cf(s),h=p1(r.charAt(0),u),f=_1(r.charAt(1),u);f<D1(o);)f+=2e6;var l=e-a;if(l%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var c=l/2,v=0,g=0,d,m,y,M,p;return c>0&&(d=1e5/Math.pow(10,c),m=t.substring(a,a+c),v=parseFloat(m)*d,y=t.substring(a+c),g=parseFloat(y)*d),M=v+h,p=g+f,{easting:M,northing:p,zoneLetter:o,zoneNumber:s,accuracy:d}}function p1(t,e){for(var r=uf.charCodeAt(e-1),n=1e5,i=!1;r!==t.charCodeAt(0);){if(r++,r===we&&r++,r===Pe&&r++,r>Ln){if(i)throw"Bad character: "+t;r=hn,i=!0}n+=1e5}return n}function _1(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var r=hf.charCodeAt(e-1),n=0,i=!1;r!==t.charCodeAt(0);){if(r++,r===we&&r++,r===Pe&&r++,r>Rn){if(i)throw"Bad character: "+t;r=hn,i=!0}n+=1e5}return n}function D1(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function wn(t,e,r){if(!(this instanceof wn))return new wn(t,e,r);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if(typeof t=="object")this.x=t.x,this.y=t.y,this.z=t.z||0;else if(typeof t=="string"&&typeof e>"u"){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=r||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}wn.fromMGRS=function(t){return new wn(lf(t))};wn.prototype.toMGRS=function(t){return ff([this.x,this.y],t)};var M1=1,w1=.25,$u=.046875,zu=.01953125,qu=.01068115234375,A1=.75,E1=.46875,b1=.013020833333333334,C1=.007120768229166667,F1=.3645833333333333,x1=.005696614583333333,S1=.3076171875;function ho(t){var e=[];e[0]=M1-t*(w1+t*($u+t*(zu+t*qu))),e[1]=t*(A1-t*($u+t*(zu+t*qu)));var r=t*t;return e[2]=r*(E1-t*(b1+t*C1)),r*=t,e[3]=r*(F1-t*x1),e[4]=r*t*S1,e}function Cn(t,e,r,n){return r*=e,e*=e,n[0]*t-r*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}var N1=20;function fo(t,e,r){for(var n=1/(1-e),i=t,a=N1;a;--a){var s=Math.sin(i),o=1-e*s*s;if(o=(Cn(i,s,Math.cos(i),r)-t)*(o*Math.sqrt(o))*n,i-=o,Math.abs(o)<W)return i}return i}function T1(){this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.es&&(this.en=ho(this.es),this.ml0=Cn(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function B1(t){var e=t.x,r=t.y,n=H(e-this.long0),i,a,s,o=Math.sin(r),u=Math.cos(r);if(this.es){var f=u*n,l=Math.pow(f,2),c=this.ep2*Math.pow(u,2),v=Math.pow(c,2),g=Math.abs(u)>W?Math.tan(r):0,d=Math.pow(g,2),m=Math.pow(d,2);i=1-this.es*Math.pow(o,2),f=f/Math.sqrt(i);var y=Cn(r,o,u,this.en);a=this.a*(this.k0*f*(1+l/6*(1-d+c+l/20*(5-18*d+m+14*c-58*d*c+l/42*(61+179*m-m*d-479*d)))))+this.x0,s=this.a*(this.k0*(y-this.ml0+o*n*f/2*(1+l/12*(5-d+9*c+4*v+l/30*(61+m-58*d+270*c-330*d*c+l/56*(1385+543*m-m*d-3111*d))))))+this.y0}else{var h=u*Math.sin(n);if(Math.abs(Math.abs(h)-1)<W)return 93;if(a=.5*this.a*this.k0*Math.log((1+h)/(1-h))+this.x0,s=u*Math.cos(n)/Math.sqrt(1-Math.pow(h,2)),h=Math.abs(s),h>=1){if(h-1>W)return 93;s=0}else s=Math.acos(s);r<0&&(s=-s),s=this.a*this.k0*(s-this.lat0)+this.y0}return t.x=a,t.y=s,t}function O1(t){var e,r,n,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,r=fo(e,this.es,this.en),Math.abs(r)<R){var l=Math.sin(r),c=Math.cos(r),v=Math.abs(c)>W?Math.tan(r):0,g=this.ep2*Math.pow(c,2),d=Math.pow(g,2),m=Math.pow(v,2),y=Math.pow(m,2);e=1-this.es*Math.pow(l,2);var M=a*Math.sqrt(e)/this.k0,p=Math.pow(M,2);e=e*v,n=r-e*p/(1-this.es)*.5*(1-p/12*(5+3*m-9*g*m+g-4*d-p/30*(61+90*m-252*g*m+45*y+46*g-p/56*(1385+3633*m+4095*y+1574*y*m)))),i=H(this.long0+M*(1-p/6*(1+2*m+g-p/20*(5+28*m+24*y+8*g*m+6*g-p/42*(61+662*m+1320*y+720*y*m))))/c)}else n=R*_i(s),i=0;else{var o=Math.exp(a/this.k0),u=.5*(o-1/o),h=this.lat0+s/this.k0,f=Math.cos(h);e=Math.sqrt((1-Math.pow(f,2))/(1+Math.pow(u,2))),n=Math.asin(e),s<0&&(n=-n),u===0&&f===0?i=0:i=H(Math.atan2(u,f)+this.long0)}return t.x=i,t.y=n,t}var k1=["Fast_Transverse_Mercator","Fast Transverse Mercator"],Vi={init:T1,forward:B1,inverse:O1,names:k1};function vf(t){var e=Math.exp(t);return e=(e-1/e)/2,e}function be(t,e){t=Math.abs(t),e=Math.abs(e);var r=Math.max(t,e),n=Math.min(t,e)/(r||1);return r*Math.sqrt(1+Math.pow(n,2))}function I1(t){var e=1+t,r=e-1;return r===0?t:t*Math.log(e)/r}function P1(t){var e=Math.abs(t);return e=I1(e*(1+e/(be(1,e)+1))),t<0?-e:e}function lo(t,e){for(var r=2*Math.cos(2*e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return e+s*Math.sin(2*e)}function R1(t,e){for(var r=2*Math.cos(e),n=t.length-1,i=t[n],a=0,s;--n>=0;)s=-a+r*i+t[n],a=i,i=s;return Math.sin(e)*s}function L1(t){var e=Math.exp(t);return e=(e+1/e)/2,e}function mf(t,e,r){for(var n=Math.sin(e),i=Math.cos(e),a=vf(r),s=L1(r),o=2*i*s,u=-2*n*a,h=t.length-1,f=t[h],l=0,c=0,v=0,g,d;--h>=0;)g=c,d=l,c=f,l=v,f=-g+o*c-u*l+t[h],v=-d+u*c+o*l;return o=n*s,u=i*a,[o*f-u*v,o*v+u*f]}function Y1(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Vi.init.apply(this),this.forward=Vi.forward,this.inverse=Vi.inverse),this.x0=this.x0!==void 0?this.x0:0,this.y0=this.y0!==void 0?this.y0:0,this.long0=this.long0!==void 0?this.long0:0,this.lat0=this.lat0!==void 0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),r=e;this.cgb[0]=e*(2+e*(-2/3+e*(-2+e*(116/45+e*(26/45+e*(-2854/675)))))),this.cbg[0]=e*(-2+e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))),r=r*e,this.cgb[1]=r*(7/3+e*(-8/5+e*(-227/45+e*(2704/315+e*(2323/945))))),this.cbg[1]=r*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),r=r*e,this.cgb[2]=r*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=r*(-26/15+e*(34/21+e*(8/5+e*(-12686/2835)))),r=r*e,this.cgb[3]=r*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=r*(1237/630+e*(-12/5+e*(-24832/14175))),r=r*e,this.cgb[4]=r*(4174/315+e*(-144838/6237)),this.cbg[4]=r*(-734/315+e*(109598/31185)),r=r*e,this.cgb[5]=r*(601676/22275),this.cbg[5]=r*(444337/155925),r=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+r*(1/4+r*(1/64+r/256))),this.utg[0]=e*(-.5+e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=r*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=r*(13/48+e*(-3/5+e*(557/1440+e*(281/630+e*(-1983433/1935360))))),r=r*e,this.utg[2]=r*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=r*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),r=r*e,this.utg[3]=r*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=r*(49561/161280+e*(-179/168+e*(6601661/7257600))),r=r*e,this.utg[4]=r*(-4583/161280+e*(108847/3991680)),this.gtu[4]=r*(34729/80640+e*(-3418889/1995840)),r=r*e,this.utg[5]=r*(-20648693/638668800),this.gtu[5]=r*(212378941/319334400);var n=lo(this.cbg,this.lat0);this.Zb=-this.Qn*(n+R1(this.gtu,2*n))}function $1(t){var e=H(t.x-this.long0),r=t.y;r=lo(this.cbg,r);var n=Math.sin(r),i=Math.cos(r),a=Math.sin(e),s=Math.cos(e);r=Math.atan2(n,s*i),e=Math.atan2(a*i,be(n,i*s)),e=P1(Math.tan(e));var o=mf(this.gtu,2*r,2*e);r=r+o[0],e=e+o[1];var u,h;return Math.abs(e)<=2.623395162778?(u=this.a*(this.Qn*e)+this.x0,h=this.a*(this.Qn*r+this.Zb)+this.y0):(u=1/0,h=1/0),t.x=u,t.y=h,t}function z1(t){var e=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);r=(r-this.Zb)/this.Qn,e=e/this.Qn;var n,i;if(Math.abs(e)<=2.623395162778){var a=mf(this.utg,2*r,2*e);r=r+a[0],e=e+a[1],e=Math.atan(vf(e));var s=Math.sin(r),o=Math.cos(r),u=Math.sin(e),h=Math.cos(e);r=Math.atan2(s*h,be(u,h*o)),e=Math.atan2(u,h*o),n=H(e+this.long0),i=lo(this.cgb,r)}else n=1/0,i=1/0;return t.x=n,t.y=i,t}var q1=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","Gauss Kruger","Gauss_Kruger","tmerc"],ji={init:Y1,forward:$1,inverse:z1,names:q1};function U1(t,e){if(t===void 0){if(t=Math.floor((H(e)+Math.PI)*30/Math.PI)+1,t<0)return 0;if(t>60)return 60}return t}var W1="etmerc";function V1(){var t=U1(this.zone,this.long0);if(t===void 0)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*oe,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,ji.init.apply(this),this.forward=ji.forward,this.inverse=ji.inverse}var j1=["Universal Transverse Mercator System","utm"],G1={init:V1,names:j1,dependsOn:W1};function co(t,e){return Math.pow((1-t)/(1+t),e)}var H1=20;function Z1(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+yt)/(Math.pow(Math.tan(.5*this.lat0+yt),this.C)*co(this.e*t,this.ratexp))}function Q1(t){var e=t.x,r=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*r+yt),this.C)*co(this.e*Math.sin(r),this.ratexp))-R,t.x=this.C*e,t}function J1(t){for(var e=1e-14,r=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+yt)/this.K,1/this.C),a=H1;a>0&&(n=2*Math.atan(i*co(this.e*Math.sin(t.y),-.5*this.e))-R,!(Math.abs(n-t.y)<e));--a)t.y=n;return a?(t.x=r,t.y=n,t):null}var vo={init:Z1,forward:Q1,inverse:J1};function X1(){vo.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function K1(t){var e,r,n,i;return t.x=H(t.x-this.long0),vo.forward.apply(this,[t]),e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*r*n),t.x=i*r*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*r*n),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function tv(t){var e,r,n,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=be(t.x,t.y)){var s=2*Math.atan2(a,this.R2);e=Math.sin(s),r=Math.cos(s),i=Math.asin(r*this.sinc0+t.y*e*this.cosc0/a),n=Math.atan2(t.x*e,a*this.cosc0*r-t.y*this.sinc0*e)}else i=this.phic0,n=0;return t.x=n,t.y=i,vo.inverse.apply(this,[t]),t.x=H(t.x+this.long0),t}var ev=["Stereographic_North_Pole","Oblique_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],rv={init:X1,forward:K1,inverse:tv,names:ev};function nv(t,e,r){return e*=r,Math.tan(.5*(R+t))*Math.pow((1-e)/(1+e),.5*r)}function iv(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=W&&(this.k0=.5*(1+_i(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=W&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=W&&Math.abs(Math.cos(this.lat_ts))>W&&(this.k0=.5*this.cons*rr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/Ve(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=rr(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-R,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function av(t){var e=t.x,r=t.y,n=Math.sin(r),i=Math.cos(r),a,s,o,u,h,f,l=H(e-this.long0);return Math.abs(Math.abs(e-this.long0)-Math.PI)<=W&&Math.abs(r+this.lat0)<=W?(t.x=NaN,t.y=NaN,t):this.sphere?(a=2*this.k0/(1+this.sinlat0*n+this.coslat0*i*Math.cos(l)),t.x=this.a*a*i*Math.sin(l)+this.x0,t.y=this.a*a*(this.coslat0*n-this.sinlat0*i*Math.cos(l))+this.y0,t):(s=2*Math.atan(this.ssfn_(r,n,this.e))-R,u=Math.cos(s),o=Math.sin(s),Math.abs(this.coslat0)<=W?(h=Ve(this.e,r*this.con,this.con*n),f=2*this.a*this.k0*h/this.cons,t.x=this.x0+f*Math.sin(e-this.long0),t.y=this.y0-this.con*f*Math.cos(e-this.long0),t):(Math.abs(this.sinlat0)<W?(a=2*this.a*this.k0/(1+u*Math.cos(l)),t.y=a*o):(a=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*u*Math.cos(l))),t.y=a*(this.cosX0*o-this.sinX0*u*Math.cos(l))+this.y0),t.x=a*u*Math.sin(l)+this.x0,t))}function sv(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,r=this.lat0,s<=W?(t.x=e,t.y=r,t):(r=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/s),Math.abs(this.coslat0)<W?this.lat0>0?e=H(this.long0+Math.atan2(t.x,-1*t.y)):e=H(this.long0+Math.atan2(t.x,t.y)):e=H(this.long0+Math.atan2(t.x*Math.sin(o),s*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=e,t.y=r,t)}else if(Math.abs(this.coslat0)<=W){if(s<=W)return r=this.lat0,e=this.long0,t.x=e,t.y=r,t;t.x*=this.con,t.y*=this.con,n=s*this.cons/(2*this.a*this.k0),r=this.con*Zn(this.e,n),e=this.con*H(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=W?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),e=H(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),r=-1*Zn(this.e,Math.tan(.5*(R+a)));return t.x=e,t.y=r,t}var ov=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)","Polar_Stereographic"],uv={init:iv,forward:av,inverse:sv,names:ov,ssfn_:nv};function hv(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),r=this.a,n=this.rf,i=1/n,a=2*i-Math.pow(i,2),s=this.e=Math.sqrt(a);this.R=this.k0*r*Math.sqrt(1-a)/(1-a*Math.pow(e,2)),this.alpha=Math.sqrt(1+a/(1-a)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),u=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+s*e)/(1-s*e));this.K=o-this.alpha*u+this.alpha*s/2*h}function fv(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),r=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+r)+this.K,i=2*(Math.atan(Math.exp(n))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*s+this.x0,t}function lv(t){for(var e=t.x-this.x0,r=t.y-this.y0,n=e/this.R,i=2*(Math.atan(Math.exp(r/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+s/this.alpha,u=0,h=a,f=-1e3,l=0;Math.abs(h-f)>1e-7;){if(++l>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),f=h,h=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=o,t.y=h,t}var cv=["somerc"],dv={init:hv,forward:fv,inverse:lv,names:cv},an=1e-7;function vv(t){var e=["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"],r=typeof t.PROJECTION=="object"?Object.keys(t.PROJECTION)[0]:t.PROJECTION;return"no_uoff"in t||"no_off"in t||e.indexOf(r)!==-1}function mv(){var t,e,r,n,i,a,s,o,u,h,f=0,l,c=0,v=0,g=0,d=0,m=0,y=0;this.no_off=vv(this),this.no_rot="no_rot"in this;var M=!1;"alpha"in this&&(M=!0);var p=!1;if("rectified_grid_angle"in this&&(p=!0),M&&(y=this.alpha),p&&(f=this.rectified_grid_angle*oe),M||p)c=this.longc;else if(v=this.long1,d=this.lat1,g=this.long2,m=this.lat2,Math.abs(d-m)<=an||(t=Math.abs(d))<=an||Math.abs(t-R)<=an||Math.abs(Math.abs(this.lat0)-R)<=an||Math.abs(Math.abs(m)-R)<=an)throw new Error;var E=1-this.es;e=Math.sqrt(E),Math.abs(this.lat0)>W?(o=Math.sin(this.lat0),r=Math.cos(this.lat0),t=1-this.es*o*o,this.B=r*r,this.B=Math.sqrt(1+this.es*this.B*this.B/E),this.A=this.B*this.k0*e/t,n=this.B*e/(r*Math.sqrt(t)),i=n*n-1,i<=0?i=0:(i=Math.sqrt(i),this.lat0<0&&(i=-i)),this.E=i+=n,this.E*=Math.pow(Ve(this.e,this.lat0,o),this.B)):(this.B=1/e,this.A=this.k0,this.E=n=i=1),M||p?(M?(l=Math.asin(Math.sin(y)/n),p||(f=y)):(l=f,y=Math.asin(n*Math.sin(l))),this.lam0=c-Math.asin(.5*(i-1/i)*Math.tan(l))/this.B):(a=Math.pow(Ve(this.e,d,Math.sin(d)),this.B),s=Math.pow(Ve(this.e,m,Math.sin(m)),this.B),i=this.E/a,u=(s-a)/(s+a),h=this.E*this.E,h=(h-s*a)/(h+s*a),t=v-g,t<-Math.pi?g-=Gn:t>Math.pi&&(g+=Gn),this.lam0=H(.5*(v+g)-Math.atan(h*Math.tan(.5*this.B*(v-g))/u)/this.B),l=Math.atan(2*Math.sin(this.B*H(v-this.lam0))/(i-1/i)),f=y=Math.asin(n*Math.sin(l))),this.singam=Math.sin(l),this.cosgam=Math.cos(l),this.sinrot=Math.sin(f),this.cosrot=Math.cos(f),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A*this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(n*n-1)/Math.cos(y))),this.lat0<0&&(this.u_0=-this.u_0)),i=.5*l,this.v_pole_n=this.ArB*Math.log(Math.tan(yt-i)),this.v_pole_s=this.ArB*Math.log(Math.tan(yt+i))}function gv(t){var e={},r,n,i,a,s,o,u,h;if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-R)>W){if(s=this.E/Math.pow(Ve(this.e,t.y,Math.sin(t.y)),this.B),o=1/s,r=.5*(s-o),n=.5*(s+o),a=Math.sin(this.B*t.x),i=(r*this.singam-a*this.cosgam)/n,Math.abs(Math.abs(i)-1)<W)throw new Error;h=.5*this.ArB*Math.log((1-i)/(1+i)),o=Math.cos(this.B*t.x),Math.abs(o)<an?u=this.A*t.x:u=this.ArB*Math.atan2(r*this.cosgam+a*this.singam,o)}else h=t.y>0?this.v_pole_n:this.v_pole_s,u=this.ArB*t.y;return this.no_rot?(e.x=u,e.y=h):(u-=this.u_0,e.x=h*this.cosrot+u*this.sinrot,e.y=u*this.cosrot-h*this.sinrot),e.x=this.a*e.x+this.x0,e.y=this.a*e.y+this.y0,e}function yv(t){var e,r,n,i,a,s,o,u={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(r=t.y,e=t.x):(r=t.x*this.cosrot-t.y*this.sinrot,e=t.y*this.cosrot+t.x*this.sinrot+this.u_0),n=Math.exp(-this.BrA*r),i=.5*(n-1/n),a=.5*(n+1/n),s=Math.sin(this.BrA*e),o=(s*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(o)-1)<W)u.x=0,u.y=o<0?-R:R;else{if(u.y=this.E/Math.sqrt((1+o)/(1-o)),u.y=Zn(this.e,Math.pow(u.y,1/this.B)),u.y===1/0)throw new Error;u.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*e))}return u.x+=this.lam0,u}var pv=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"],_v={init:mv,forward:gv,inverse:yv,names:pv};function Dv(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<W)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),r=Math.cos(this.lat1),n=rr(this.e,e,r),i=Ve(this.e,this.lat1,e),a=Math.sin(this.lat2),s=Math.cos(this.lat2),o=rr(this.e,a,s),u=Ve(this.e,this.lat2,a),h=Ve(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>W?this.ns=Math.log(n/o)/Math.log(i/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=n/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(h,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Mv(t){var e=t.x,r=t.y;Math.abs(2*Math.abs(r)-Math.PI)<=W&&(r=_i(r)*(R-2*W));var n=Math.abs(Math.abs(r)-R),i,a;if(n>W)i=Ve(this.e,r,Math.sin(r)),a=this.a*this.f0*Math.pow(i,this.ns);else{if(n=r*this.ns,n<=0)return null;a=0}var s=this.ns*H(e-this.long0);return t.x=this.k0*(a*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-a*Math.cos(s))+this.y0,t}function wv(t){var e,r,n,i,a,s=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+o*o),r=1):(e=-Math.sqrt(s*s+o*o),r=-1);var u=0;if(e!==0&&(u=Math.atan2(r*s,r*o)),e!==0||this.ns>0){if(r=1/this.ns,n=Math.pow(e/(this.a*this.f0),r),i=Zn(this.e,n),i===-9999)return null}else i=-R;return a=H(u/this.ns+this.long0),t.x=a,t.y=i,t}var Av=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"],Ev={init:Dv,forward:Mv,inverse:wv,names:Av};function bv(){this.a=6377397155e-3,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.7417649320975901-.308341501185665),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Cv(t){var e,r,n,i,a,s,o,u=t.x,h=t.y,f=H(u-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),r=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),n=-f*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(r)+Math.sin(this.ad)*Math.cos(r)*Math.cos(n)),a=Math.asin(Math.cos(r)*Math.sin(n)/Math.cos(i)),s=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(s)/1,t.x=o*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Fv(t){var e,r,n,i,a,s,o,u,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),a=Math.atan2(t.y,t.x),i=a/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),r=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(e)),t.x=this.long0-r/this.alfa,o=e,u=0;var f=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(u=1),o=t.y,f+=1;while(u===0&&f<15);return f>=15?null:t}var xv=["Krovak","krovak"],Sv={init:bv,forward:Cv,inverse:Fv,names:xv};function _e(t,e,r,n,i){return t*i-e*Math.sin(2*i)+r*Math.sin(4*i)-n*Math.sin(6*i)}function Di(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Mi(t){return .375*t*(1+.25*t*(1+.46875*t))}function wi(t){return .05859375*t*t*(1+.75*t)}function Ai(t){return t*t*t*(35/3072)}function An(t,e,r){var n=e*r;return t/Math.sqrt(1-n*n)}function Or(t){return Math.abs(t)<R?t:t-_i(t)*Math.PI}function oa(t,e,r,n,i){var a,s;a=t/e;for(var o=0;o<15;o++)if(s=(t-(e*a-r*Math.sin(2*a)+n*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*r*Math.cos(2*a)+4*n*Math.cos(4*a)-6*i*Math.cos(6*a)),a+=s,Math.abs(s)<=1e-10)return a;return NaN}function Nv(){this.sphere||(this.e0=Di(this.es),this.e1=Mi(this.es),this.e2=wi(this.es),this.e3=Ai(this.es),this.ml0=this.a*_e(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Tv(t){var e,r,n=t.x,i=t.y;if(n=H(n-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(n)),r=this.a*(Math.atan2(Math.tan(i),Math.cos(n))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),o=An(this.a,this.e,a),u=Math.tan(i)*Math.tan(i),h=n*Math.cos(i),f=h*h,l=this.es*s*s/(1-this.es),c=this.a*_e(this.e0,this.e1,this.e2,this.e3,i);e=o*h*(1-f*u*(1/6-(8-u+8*l)*f/120)),r=c-this.ml0+o*a/s*f*(.5+(5-u+6*l)*f/24)}return t.x=e+this.x0,t.y=r+this.y0,t}function Bv(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i;if(this.sphere){var a=r+this.lat0;n=Math.asin(Math.sin(a)*Math.cos(e)),i=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=this.ml0/this.a+r,o=oa(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(o)-R)<=W)return t.x=this.long0,t.y=R,r<0&&(t.y*=-1),t;var u=An(this.a,this.e,Math.sin(o)),h=u*u*u/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(o),2),l=e*this.a/u,c=l*l;n=o-u*Math.tan(o)/h*l*l*(.5-(1+3*f)*l*l/24),i=l*(1-c*(f/3+(1+3*f)*f*c/15))/Math.cos(o)}return t.x=H(i+this.long0),t.y=Or(n),t}var Ov=["Cassini","Cassini_Soldner","cass"],kv={init:Nv,forward:Tv,inverse:Bv,names:Ov};function Fr(t,e){var r;return t>1e-7?(r=t*e,(1-t*t)*(e/(1-r*r)-.5/t*Math.log((1-r)/(1+r)))):2*e}var Iv=1,Pv=2,Rv=3,Lv=4;function Yv(){var t=Math.abs(this.lat0);if(Math.abs(t-R)<W?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<W?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Fr(this.e,1),this.mmf=.5/(1-this.es),this.apa=Hv(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Fr(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd;break}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function $v(t){var e,r,n,i,a,s,o,u,h,f,l=t.x,c=t.y;if(l=H(l-this.long0),this.sphere){if(a=Math.sin(c),f=Math.cos(c),n=Math.cos(l),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(r=this.mode===this.EQUIT?1+f*n:1+this.sinph0*a+this.cosph0*f*n,r<=W)return null;r=Math.sqrt(2/r),e=r*f*Math.sin(l),r*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*f*n}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(n=-n),Math.abs(c+this.lat0)<W)return null;r=yt-c*.5,r=2*(this.mode===this.S_POLE?Math.cos(r):Math.sin(r)),e=r*Math.sin(l),r*=n}}else{switch(o=0,u=0,h=0,n=Math.cos(l),i=Math.sin(l),a=Math.sin(c),s=Fr(this.e,a),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(o=s/this.qp,u=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:h=1+this.sinb1*o+this.cosb1*u*n;break;case this.EQUIT:h=1+u*n;break;case this.N_POLE:h=R+c,s=this.qp-s;break;case this.S_POLE:h=c-R,s=this.qp+s;break}if(Math.abs(h)<W)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:h=Math.sqrt(2/h),this.mode===this.OBLIQ?r=this.ymf*h*(this.cosb1*o-this.sinb1*u*n):r=(h=Math.sqrt(2/(1+u*n)))*o*this.ymf,e=this.xmf*h*u*i;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(h=Math.sqrt(s))*i,r=n*(this.mode===this.S_POLE?h:-h)):e=r=0;break}}return t.x=this.a*e+this.x0,t.y=this.a*r+this.y0,t}function zv(t){t.x-=this.x0,t.y-=this.y0;var e=t.x/this.a,r=t.y/this.a,n,i,a,s,o,u,h;if(this.sphere){var f=0,l,c=0;if(l=Math.sqrt(e*e+r*r),i=l*.5,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(c=Math.sin(i),f=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(l)<=W?0:Math.asin(r*c/l),e*=c,r=f*l;break;case this.OBLIQ:i=Math.abs(l)<=W?this.lat0:Math.asin(f*this.sinph0+r*c*this.cosph0/l),e*=c*this.cosph0,r=(f-Math.sin(i)*this.sinph0)*l;break;case this.N_POLE:r=-r,i=R-i;break;case this.S_POLE:i-=R;break}n=r===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(e,r)}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(e/=this.dd,r*=this.dd,u=Math.sqrt(e*e+r*r),u<W)return t.x=this.long0,t.y=this.lat0,t;s=2*Math.asin(.5*u/this.rq),a=Math.cos(s),e*=s=Math.sin(s),this.mode===this.OBLIQ?(h=a*this.sinb1+r*s*this.cosb1/u,o=this.qp*h,r=u*this.cosb1*a-r*this.sinb1*s):(h=r*s/u,o=this.qp*h,r=u*a)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),o=e*e+r*r,!o)return t.x=this.long0,t.y=this.lat0,t;h=1-o/this.qp,this.mode===this.S_POLE&&(h=-h)}n=Math.atan2(e,r),i=Zv(Math.asin(h),this.apa)}return t.x=H(this.long0+n),t.y=i,t}var qv=.3333333333333333,Uv=.17222222222222222,Wv=.10257936507936508,Vv=.06388888888888888,jv=.0664021164021164,Gv=.016415012942191543;function Hv(t){var e,r=[];return r[0]=t*qv,e=t*t,r[0]+=e*Uv,r[1]=e*Vv,e*=t,r[0]+=e*Wv,r[1]+=e*jv,r[2]=e*Gv,r}function Zv(t,e){var r=t+t;return t+e[0]*Math.sin(r)+e[1]*Math.sin(r+r)+e[2]*Math.sin(r+r+r)}var Qv=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],Jv={init:Yv,forward:$v,inverse:zv,names:Qv,S_POLE:Iv,N_POLE:Pv,EQUIT:Rv,OBLIQ:Lv};function Nr(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Xv(){Math.abs(this.lat1+this.lat2)<W||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=rr(this.e3,this.sin_po,this.cos_po),this.qs1=Fr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=rr(this.e3,this.sin_po,this.cos_po),this.qs2=Fr(this.e3,this.sin_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Fr(this.e3,this.sin_po),Math.abs(this.lat1-this.lat2)>W?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function Kv(t){var e=t.x,r=t.y;this.sin_phi=Math.sin(r),this.cos_phi=Math.cos(r);var n=Fr(this.e3,this.sin_phi),i=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*H(e-this.long0),s=i*Math.sin(a)+this.x0,o=this.rh-i*Math.cos(a)+this.y0;return t.x=s,t.y=o,t}function tm(t){var e,r,n,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),i=0,e!==0&&(i=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(r=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,r)),a=H(i/this.ns0+this.long0),t.x=a,t.y=s,t}function em(t,e){var r,n,i,a,s,o=Nr(.5*e);if(t<W)return o;for(var u=t*t,h=1;h<=25;h++)if(r=Math.sin(o),n=Math.cos(o),i=t*r,a=1-i*i,s=.5*a*a/n*(e/(1-u)-r/a+.5/t*Math.log((1-i)/(1+i))),o=o+s,Math.abs(s)<=1e-7)return o;return null}var rm=["Albers_Conic_Equal_Area","Albers","aea"],nm={init:Xv,forward:Kv,inverse:tm,names:rm,phi1z:em};function im(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function am(t){var e,r,n,i,a,s,o,u,h=t.x,f=t.y;return n=H(h-this.long0),e=Math.sin(f),r=Math.cos(f),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,s>0||Math.abs(s)<=W?(o=this.x0+this.a*a*r*Math.sin(n)/s,u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)/s):(o=this.x0+this.infinity_dist*r*Math.sin(n),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*r*i)),t.x=o,t.y=u,t}function sm(t){var e,r,n,i,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),r=Math.sin(i),n=Math.cos(i),s=Nr(n*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.atan2(t.x*r,e*this.cos_p14*n-t.y*this.sin_p14*r),a=H(this.long0+a)):(s=this.phic0,a=0),t.x=a,t.y=s,t}var om=["gnom"],um={init:im,forward:am,inverse:sm,names:om};function hm(t,e){var r=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-r)<1e-6)return e<0?-1*R:R;for(var n=Math.asin(.5*e),i,a,s,o,u=0;u<30;u++)if(a=Math.sin(n),s=Math.cos(n),o=t*a,i=Math.pow(1-o*o,2)/(2*s)*(e/(1-t*t)-a/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),n+=i,Math.abs(i)<=1e-10)return n;return NaN}function fm(){this.sphere||(this.k0=rr(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function lm(t){var e=t.x,r=t.y,n,i,a=H(e-this.long0);if(this.sphere)n=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Fr(this.e,Math.sin(r));n=this.x0+this.a*this.k0*a,i=this.y0+this.a*s*.5/this.k0}return t.x=n,t.y=i,t}function cm(t){t.x-=this.x0,t.y-=this.y0;var e,r;return this.sphere?(e=H(this.long0+t.x/this.a/Math.cos(this.lat_ts)),r=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(r=hm(this.e,2*t.y*this.k0/this.a),e=H(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=r,t}var dm=["cea"],vm={init:fm,forward:lm,inverse:cm,names:dm};function mm(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function gm(t){var e=t.x,r=t.y,n=H(e-this.long0),i=Or(r-this.lat0);return t.x=this.x0+this.a*n*this.rc,t.y=this.y0+this.a*i,t}function ym(t){var e=t.x,r=t.y;return t.x=H(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Or(this.lat0+(r-this.y0)/this.a),t}var pm=["Equirectangular","Equidistant_Cylindrical","eqc"],_m={init:mm,forward:gm,inverse:ym,names:pm},Uu=20;function Dm(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Di(this.es),this.e1=Mi(this.es),this.e2=wi(this.es),this.e3=Ai(this.es),this.ml0=this.a*_e(this.e0,this.e1,this.e2,this.e3,this.lat0)}function Mm(t){var e=t.x,r=t.y,n,i,a,s=H(e-this.long0);if(a=s*Math.sin(r),this.sphere)Math.abs(r)<=W?(n=this.a*s,i=-1*this.a*this.lat0):(n=this.a*Math.sin(a)/Math.tan(r),i=this.a*(Or(r-this.lat0)+(1-Math.cos(a))/Math.tan(r)));else if(Math.abs(r)<=W)n=this.a*s,i=-1*this.ml0;else{var o=An(this.a,this.e,Math.sin(r))/Math.tan(r);n=o*Math.sin(a),i=this.a*_e(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+o*(1-Math.cos(a))}return t.x=n+this.x0,t.y=i+this.y0,t}function wm(t){var e,r,n,i,a,s,o,u,h;if(n=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=W)e=H(n/this.a+this.long0),r=0;else{s=this.lat0+i/this.a,o=n*n/this.a/this.a+s*s,u=s;var f;for(a=Uu;a;--a)if(f=Math.tan(u),h=-1*(s*(u*f+1)-u-.5*(u*u+o)*f)/((u-s)/f-1),u+=h,Math.abs(h)<=W){r=u;break}e=H(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(r))}else if(Math.abs(i+this.ml0)<=W)r=0,e=H(this.long0+n/this.a);else{s=(this.ml0+i)/this.a,o=n*n/this.a/this.a+s*s,u=s;var l,c,v,g,d;for(a=Uu;a;--a)if(d=this.e*Math.sin(u),l=Math.sqrt(1-d*d)*Math.tan(u),c=this.a*_e(this.e0,this.e1,this.e2,this.e3,u),v=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),g=c/this.a,h=(s*(l*g+1)-g-.5*l*(g*g+o))/(this.es*Math.sin(2*u)*(g*g+o-2*s*g)/(4*l)+(s-g)*(l*v-2/Math.sin(2*u))-v),u-=h,Math.abs(h)<=W){r=u;break}l=Math.sqrt(1-this.es*Math.pow(Math.sin(r),2))*Math.tan(r),e=H(this.long0+Math.asin(n*l/this.a)/Math.sin(r))}return t.x=e,t.y=r,t}var Am=["Polyconic","poly"],Em={init:Dm,forward:Mm,inverse:wm,names:Am};function bm(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function Cm(t){var e,r=t.x,n=t.y,i=n-this.lat0,a=r-this.long0,s=i/$n*1e-5,o=a,u=1,h=0;for(e=1;e<=10;e++)u=u*s,h=h+this.A[e]*u;var f=h,l=o,c=1,v=0,g,d,m=0,y=0;for(e=1;e<=6;e++)g=c*f-v*l,d=v*f+c*l,c=g,v=d,m=m+this.B_re[e]*c-this.B_im[e]*v,y=y+this.B_im[e]*c+this.B_re[e]*v;return t.x=y*this.a+this.x0,t.y=m*this.a+this.y0,t}function Fm(t){var e,r=t.x,n=t.y,i=r-this.x0,a=n-this.y0,s=a/this.a,o=i/this.a,u=1,h=0,f,l,c=0,v=0;for(e=1;e<=6;e++)f=u*s-h*o,l=h*s+u*o,u=f,h=l,c=c+this.C_re[e]*u-this.C_im[e]*h,v=v+this.C_im[e]*u+this.C_re[e]*h;for(var g=0;g<this.iterations;g++){var d=c,m=v,y,M,p=s,E=o;for(e=2;e<=6;e++)y=d*c-m*v,M=m*c+d*v,d=y,m=M,p=p+(e-1)*(this.B_re[e]*d-this.B_im[e]*m),E=E+(e-1)*(this.B_im[e]*d+this.B_re[e]*m);d=1,m=0;var _=this.B_re[1],D=this.B_im[1];for(e=2;e<=6;e++)y=d*c-m*v,M=m*c+d*v,d=y,m=M,_=_+e*(this.B_re[e]*d-this.B_im[e]*m),D=D+e*(this.B_im[e]*d+this.B_re[e]*m);var C=_*_+D*D;c=(p*_+E*D)/C,v=(E*_-p*D)/C}var b=c,A=v,S=1,B=0;for(e=1;e<=9;e++)S=S*b,B=B+this.D[e]*S;var $=this.lat0+B*$n*1e5,J=this.long0+A;return t.x=J,t.y=$,t}var xm=["New_Zealand_Map_Grid","nzmg"],Sm={init:bm,forward:Cm,inverse:Fm,names:xm};function Nm(){}function Tm(t){var e=t.x,r=t.y,n=H(e-this.long0),i=this.x0+this.a*n,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+r/2.5))*1.25;return t.x=i,t.y=a,t}function Bm(t){t.x-=this.x0,t.y-=this.y0;var e=H(this.long0+t.x/this.a),r=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=r,t}var Om=["Miller_Cylindrical","mill"],km={init:Nm,forward:Tm,inverse:Bm,names:Om},Im=20;function Pm(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ho(this.es)}function Rm(t){var e,r,n=t.x,i=t.y;if(n=H(n-this.long0),this.sphere){if(!this.m)i=this.n!==1?Math.asin(this.n*Math.sin(i)):i;else for(var a=this.n*Math.sin(i),s=Im;s;--s){var o=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<W)break}e=this.a*this.C_x*n*(this.m+Math.cos(i)),r=this.a*this.C_y*i}else{var u=Math.sin(i),h=Math.cos(i);r=this.a*Cn(i,u,h,this.en),e=this.a*n*h/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=r,t}function Lm(t){var e,r,n,i;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,n=n/(this.C_x*(this.m+Math.cos(e))),this.m?e=Nr((this.m*e+Math.sin(e))/this.n):this.n!==1&&(e=Nr(Math.sin(e)/this.n)),n=H(n+this.long0),e=Or(e)):(e=fo(t.y/this.a,this.es,this.en),i=Math.abs(e),i<R?(i=Math.sin(e),r=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),n=H(r)):i-W<R&&(n=this.long0)),t.x=n,t.y=e,t}var Ym=["Sinusoidal","sinu"],$m={init:Pm,forward:Rm,inverse:Lm,names:Ym};function zm(){}function qm(t){for(var e=t.x,r=t.y,n=H(e-this.long0),i=r,a=Math.PI*Math.sin(r);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<W)break}i/=2,Math.PI/2-Math.abs(r)<W&&(n=0);var o=.900316316158*this.a*n*Math.cos(i)+this.x0,u=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=u,t}function Um(t){var e,r;t.x-=this.x0,t.y-=this.y0,r=t.y/(1.4142135623731*this.a),Math.abs(r)>.999999999999&&(r=.999999999999),e=Math.asin(r);var n=H(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));n<-Math.PI&&(n=-Math.PI),n>Math.PI&&(n=Math.PI),r=(2*e+Math.sin(2*e))/Math.PI,Math.abs(r)>1&&(r=1);var i=Math.asin(r);return t.x=n,t.y=i,t}var Wm=["Mollweide","moll"],Vm={init:zm,forward:qm,inverse:Um,names:Wm};function jm(){Math.abs(this.lat1+this.lat2)<W||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Di(this.es),this.e1=Mi(this.es),this.e2=wi(this.es),this.e3=Ai(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=rr(this.e,this.sinphi,this.cosphi),this.ml1=_e(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<W?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=rr(this.e,this.sinphi,this.cosphi),this.ml2=_e(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=_e(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Gm(t){var e=t.x,r=t.y,n;if(this.sphere)n=this.a*(this.g-r);else{var i=_e(this.e0,this.e1,this.e2,this.e3,r);n=this.a*(this.g-i)}var a=this.ns*H(e-this.long0),s=this.x0+n*Math.sin(a),o=this.y0+this.rh-n*Math.cos(a);return t.x=s,t.y=o,t}function Hm(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,r,n,i;this.ns>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(r!==0&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=H(this.long0+a/this.ns),n=Or(this.g-r/this.a),t.x=i,t.y=n,t;var s=this.g-r/this.a;return n=oa(s,this.e0,this.e1,this.e2,this.e3),i=H(this.long0+a/this.ns),t.x=i,t.y=n,t}var Zm=["Equidistant_Conic","eqdc"],Qm={init:jm,forward:Gm,inverse:Hm,names:Zm};function Jm(){this.R=this.a}function Xm(t){var e=t.x,r=t.y,n=H(e-this.long0),i,a;Math.abs(r)<=W&&(i=this.x0+this.R*n,a=this.y0);var s=Nr(2*Math.abs(r/Math.PI));(Math.abs(n)<=W||Math.abs(Math.abs(r)-R)<=W)&&(i=this.x0,r>=0?a=this.y0+Math.PI*this.R*Math.tan(.5*s):a=this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/n-n/Math.PI),u=o*o,h=Math.sin(s),f=Math.cos(s),l=f/(h+f-1),c=l*l,v=l*(2/h-1),g=v*v,d=Math.PI*this.R*(o*(l-g)+Math.sqrt(u*(l-g)*(l-g)-(g+u)*(c-g)))/(g+u);n<0&&(d=-d),i=this.x0+d;var m=u+l;return d=Math.PI*this.R*(v*m-o*Math.sqrt((g+u)*(u+1)-m*m))/(g+u),r>=0?a=this.y0+d:a=this.y0-d,t.x=i,t.y=a,t}function Km(t){var e,r,n,i,a,s,o,u,h,f,l,c,v;return t.x-=this.x0,t.y-=this.y0,l=Math.PI*this.R,n=t.x/l,i=t.y/l,a=n*n+i*i,s=-Math.abs(i)*(1+a),o=s-2*i*i+n*n,u=-2*s+1+2*i*i+a*a,v=i*i/u+(2*o*o*o/u/u/u-9*s*o/u/u)/27,h=(s-o*o/3/u)/u,f=2*Math.sqrt(-h/3),l=3*v/h/f,Math.abs(l)>1&&(l>=0?l=1:l=-1),c=Math.acos(l)/3,t.y>=0?r=(-f*Math.cos(c+Math.PI/3)-o/3/u)*Math.PI:r=-(-f*Math.cos(c+Math.PI/3)-o/3/u)*Math.PI,Math.abs(n)<W?e=this.long0:e=H(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(n*n-i*i)+a*a))/2/n),t.x=e,t.y=r,t}var tg=["Van_der_Grinten_I","VanDerGrinten","vandg"],eg={init:Jm,forward:Xm,inverse:Km,names:tg};function rg(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function ng(t){var e=t.x,r=t.y,n=Math.sin(t.y),i=Math.cos(t.y),a=H(e-this.long0),s,o,u,h,f,l,c,v,g,d,m,y,M,p,E,_,D,C,b,A,S,B,$;return this.sphere?Math.abs(this.sin_p12-1)<=W?(t.x=this.x0+this.a*(R-r)*Math.sin(a),t.y=this.y0-this.a*(R-r)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=W?(t.x=this.x0+this.a*(R+r)*Math.sin(a),t.y=this.y0+this.a*(R+r)*Math.cos(a),t):(C=this.sin_p12*n+this.cos_p12*i*Math.cos(a),_=Math.acos(C),D=_?_/Math.sin(_):1,t.x=this.x0+this.a*D*i*Math.sin(a),t.y=this.y0+this.a*D*(this.cos_p12*n-this.sin_p12*i*Math.cos(a)),t):(s=Di(this.es),o=Mi(this.es),u=wi(this.es),h=Ai(this.es),Math.abs(this.sin_p12-1)<=W?(f=this.a*_e(s,o,u,h,R),l=this.a*_e(s,o,u,h,r),t.x=this.x0+(f-l)*Math.sin(a),t.y=this.y0-(f-l)*Math.cos(a),t):Math.abs(this.sin_p12+1)<=W?(f=this.a*_e(s,o,u,h,R),l=this.a*_e(s,o,u,h,r),t.x=this.x0+(f+l)*Math.sin(a),t.y=this.y0+(f+l)*Math.cos(a),t):(c=n/i,v=An(this.a,this.e,this.sin_p12),g=An(this.a,this.e,n),d=Math.atan((1-this.es)*c+this.es*v*this.sin_p12/(g*i)),m=Math.atan2(Math.sin(a),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(a)),m===0?b=Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.abs(Math.abs(m)-Math.PI)<=W?b=-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):b=Math.asin(Math.sin(a)*Math.cos(d)/Math.sin(m)),y=this.e*this.sin_p12/Math.sqrt(1-this.es),M=this.e*this.cos_p12*Math.cos(m)/Math.sqrt(1-this.es),p=y*M,E=M*M,A=b*b,S=A*b,B=S*b,$=B*b,_=v*b*(1-A*E*(1-E)/6+S/8*p*(1-2*E)+B/120*(E*(4-7*E)-3*y*y*(1-7*E))-$/48*p),t.x=this.x0+_*Math.sin(m),t.y=this.y0+_*Math.cos(m),t))}function ig(t){t.x-=this.x0,t.y-=this.y0;var e,r,n,i,a,s,o,u,h,f,l,c,v,g,d,m,y,M,p,E,_,D,C,b;return this.sphere?(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*R*this.a?void 0:(r=e/this.a,n=Math.sin(r),i=Math.cos(r),a=this.long0,Math.abs(e)<=W?s=this.lat0:(s=Nr(i*this.sin_p12+t.y*n*this.cos_p12/e),o=Math.abs(this.lat0)-R,Math.abs(o)<=W?this.lat0>=0?a=H(this.long0+Math.atan2(t.x,-t.y)):a=H(this.long0-Math.atan2(-t.x,t.y)):a=H(this.long0+Math.atan2(t.x*n,e*this.cos_p12*i-t.y*this.sin_p12*n))),t.x=a,t.y=s,t)):(u=Di(this.es),h=Mi(this.es),f=wi(this.es),l=Ai(this.es),Math.abs(this.sin_p12-1)<=W?(c=this.a*_e(u,h,f,l,R),e=Math.sqrt(t.x*t.x+t.y*t.y),v=c-e,s=oa(v/this.a,u,h,f,l),a=H(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=W?(c=this.a*_e(u,h,f,l,R),e=Math.sqrt(t.x*t.x+t.y*t.y),v=e-c,s=oa(v/this.a,u,h,f,l),a=H(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),g=An(this.a,this.e,this.sin_p12),y=Math.cos(m),M=this.e*this.cos_p12*y,p=-M*M/(1-this.es),E=3*this.es*(1-p)*this.sin_p12*this.cos_p12*y/(1-this.es),_=e/g,D=_-p*(1+p)*Math.pow(_,3)/6-E*(1+3*p)*Math.pow(_,4)/24,C=1-p*D*D/2-_*D*D*D/6,d=Math.asin(this.sin_p12*Math.cos(D)+this.cos_p12*Math.sin(D)*y),a=H(this.long0+Math.asin(Math.sin(m)*Math.sin(D)/Math.cos(d))),b=Math.sin(d),s=Math.atan2((b-this.es*C*this.sin_p12)*Math.tan(d),b*(1-this.es)),t.x=a,t.y=s,t))}var ag=["Azimuthal_Equidistant","aeqd"],sg={init:rg,forward:ng,inverse:ig,names:ag};function og(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function ug(t){var e,r,n,i,a,s,o,u,h=t.x,f=t.y;return n=H(h-this.long0),e=Math.sin(f),r=Math.cos(f),i=Math.cos(n),s=this.sin_p14*e+this.cos_p14*r*i,a=1,(s>0||Math.abs(s)<=W)&&(o=this.a*a*r*Math.sin(n),u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*r*i)),t.x=o,t.y=u,t}function hg(t){var e,r,n,i,a,s,o;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),r=Nr(e/this.a),n=Math.sin(r),i=Math.cos(r),s=this.long0,Math.abs(e)<=W?(o=this.lat0,t.x=s,t.y=o,t):(o=Nr(i*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.abs(this.lat0)-R,Math.abs(a)<=W?(this.lat0>=0?s=H(this.long0+Math.atan2(t.x,-t.y)):s=H(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=o,t):(s=H(this.long0+Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n)),t.x=s,t.y=o,t))}var fg=["ortho"],lg={init:og,forward:ug,inverse:hg,names:fg},Yt={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},pt={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function cg(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=R-yt/2?this.face=Yt.TOP:this.lat0<=-(R-yt/2)?this.face=Yt.BOTTOM:Math.abs(this.long0)<=yt?this.face=Yt.FRONT:Math.abs(this.long0)<=R+yt?this.face=this.long0>0?Yt.RIGHT:Yt.LEFT:this.face=Yt.BACK,this.es!==0&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function dg(t){var e={x:0,y:0},r,n,i,a,s,o,u={value:0};if(t.x-=this.long0,this.es!==0?r=Math.atan(this.one_minus_f_squared*Math.tan(t.y)):r=t.y,n=t.x,this.face===Yt.TOP)a=R-r,n>=yt&&n<=R+yt?(u.value=pt.AREA_0,i=n-R):n>R+yt||n<=-(R+yt)?(u.value=pt.AREA_1,i=n>0?n-ue:n+ue):n>-(R+yt)&&n<=-yt?(u.value=pt.AREA_2,i=n+R):(u.value=pt.AREA_3,i=n);else if(this.face===Yt.BOTTOM)a=R+r,n>=yt&&n<=R+yt?(u.value=pt.AREA_0,i=-n+R):n<yt&&n>=-yt?(u.value=pt.AREA_1,i=-n):n<-yt&&n>=-(R+yt)?(u.value=pt.AREA_2,i=-n-R):(u.value=pt.AREA_3,i=n>0?-n+ue:-n-ue);else{var h,f,l,c,v,g,d;this.face===Yt.RIGHT?n=vn(n,+R):this.face===Yt.BACK?n=vn(n,3.14159265359):this.face===Yt.LEFT&&(n=vn(n,-R)),c=Math.sin(r),v=Math.cos(r),g=Math.sin(n),d=Math.cos(n),h=v*d,f=v*g,l=c,this.face===Yt.FRONT?(a=Math.acos(h),i=ki(a,l,f,u)):this.face===Yt.RIGHT?(a=Math.acos(f),i=ki(a,l,-h,u)):this.face===Yt.BACK?(a=Math.acos(-h),i=ki(a,l,-f,u)):this.face===Yt.LEFT?(a=Math.acos(-f),i=ki(a,l,h,u)):(a=i=0,u.value=pt.AREA_0)}return o=Math.atan(12/ue*(i+Math.acos(Math.sin(i)*Math.cos(yt))-R)),s=Math.sqrt((1-Math.cos(a))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(i))))),u.value===pt.AREA_1?o+=R:u.value===pt.AREA_2?o+=ue:u.value===pt.AREA_3&&(o+=1.5*ue),e.x=s*Math.cos(o),e.y=s*Math.sin(o),e.x=e.x*this.a+this.x0,e.y=e.y*this.a+this.y0,t.x=e.x,t.y=e.y,t}function vg(t){var e={lam:0,phi:0},r,n,i,a,s,o,u,h,f,l={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?l.value=pt.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(l.value=pt.AREA_1,r-=R):t.x<0&&-t.x>=Math.abs(t.y)?(l.value=pt.AREA_2,r=r<0?r+ue:r-ue):(l.value=pt.AREA_3,r+=R),f=ue/12*Math.tan(r),s=Math.sin(f)/(Math.cos(f)-1/Math.sqrt(2)),o=Math.atan(s),i=Math.cos(r),a=Math.tan(n),u=1-i*i*a*a*(1-Math.cos(Math.atan(1/Math.cos(o)))),u<-1?u=-1:u>1&&(u=1),this.face===Yt.TOP)h=Math.acos(u),e.phi=R-h,l.value===pt.AREA_0?e.lam=o+R:l.value===pt.AREA_1?e.lam=o<0?o+ue:o-ue:l.value===pt.AREA_2?e.lam=o-R:e.lam=o;else if(this.face===Yt.BOTTOM)h=Math.acos(u),e.phi=h-R,l.value===pt.AREA_0?e.lam=-o+R:l.value===pt.AREA_1?e.lam=-o:l.value===pt.AREA_2?e.lam=-o-R:e.lam=o<0?-o-ue:-o+ue;else{var c,v,g;c=u,f=c*c,f>=1?g=0:g=Math.sqrt(1-f)*Math.sin(o),f+=g*g,f>=1?v=0:v=Math.sqrt(1-f),l.value===pt.AREA_1?(f=v,v=-g,g=f):l.value===pt.AREA_2?(v=-v,g=-g):l.value===pt.AREA_3&&(f=v,v=g,g=-f),this.face===Yt.RIGHT?(f=c,c=-v,v=f):this.face===Yt.BACK?(c=-c,v=-v):this.face===Yt.LEFT&&(f=c,c=v,v=-f),e.phi=Math.acos(-g)-R,e.lam=Math.atan2(v,c),this.face===Yt.RIGHT?e.lam=vn(e.lam,-R):this.face===Yt.BACK?e.lam=vn(e.lam,-3.14159265359):this.face===Yt.LEFT&&(e.lam=vn(e.lam,+R))}if(this.es!==0){var d,m,y;d=e.phi<0?1:0,m=Math.tan(e.phi),y=this.b/Math.sqrt(m*m+this.one_minus_f_squared),e.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),d&&(e.phi=-e.phi)}return e.lam+=this.long0,t.x=e.lam,t.y=e.phi,t}function ki(t,e,r,n){var i;return t<W?(n.value=pt.AREA_0,i=0):(i=Math.atan2(e,r),Math.abs(i)<=yt?n.value=pt.AREA_0:i>yt&&i<=R+yt?(n.value=pt.AREA_1,i-=R):i>R+yt||i<=-(R+yt)?(n.value=pt.AREA_2,i=i>=0?i-ue:i+ue):(n.value=pt.AREA_3,i+=R)),i}function vn(t,e){var r=t+e;return r<-3.14159265359?r+=Gn:r>3.14159265359&&(r-=Gn),r}var mg=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],gg={init:cg,forward:dg,inverse:vg,names:mg},Ns=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-986701e-12],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,18736e-12],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,934959e-12],[.7986,-.00755338,-500009e-10,935324e-12],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Yn=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-126793e-14,422642e-15],[.124,.0124,507171e-14,-160604e-14],[.186,.0123999,-190189e-13,600152e-14],[.248,.0124002,710039e-13,-224e-10],[.31,.0123992,-264997e-12,835986e-13],[.372,.0124029,988983e-12,-311994e-12],[.434,.0123893,-369093e-11,-435621e-12],[.4958,.0123198,-102252e-10,-345523e-12],[.5571,.0121916,-154081e-10,-582288e-12],[.6176,.0119938,-241424e-10,-525327e-12],[.6769,.011713,-320223e-10,-516405e-12],[.7346,.0113541,-397684e-10,-609052e-12],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-140374e-14],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],gf=.8487,yf=1.3523,pf=Ke/5,yg=1/pf,fn=18,ua=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},pg=function(t,e){return t[1]+e*(2*t[2]+e*3*t[3])};function _g(t,e,r,n){for(var i=e;n;--n){var a=t(i);if(i-=a,Math.abs(a)<r)break}return i}function Dg(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Mg(t){var e=H(t.x-this.long0),r=Math.abs(t.y),n=Math.floor(r*pf);n<0?n=0:n>=fn&&(n=fn-1),r=Ke*(r-yg*n);var i={x:ua(Ns[n],r)*e,y:ua(Yn[n],r)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*gf+this.x0,i.y=i.y*this.a*yf+this.y0,i}function wg(t){var e={x:(t.x-this.x0)/(this.a*gf),y:Math.abs(t.y-this.y0)/(this.a*yf)};if(e.y>=1)e.x/=Ns[fn][0],e.y=t.y<0?-R:R;else{var r=Math.floor(e.y*fn);for(r<0?r=0:r>=fn&&(r=fn-1);;)if(Yn[r][0]>e.y)--r;else if(Yn[r+1][0]<=e.y)++r;else break;var n=Yn[r],i=5*(e.y-n[0])/(Yn[r+1][0]-n[0]);i=_g(function(a){return(ua(n,a)-e.y)/pg(n,a)},i,W,100),e.x/=ua(Ns[r],i),e.y=(5*r+i)*oe,t.y<0&&(e.y=-e.y)}return e.x=H(e.x+this.long0),e}var Ag=["Robinson","robin"],Eg={init:Dg,forward:Mg,inverse:wg,names:Ag};function bg(){this.name="geocent"}function Cg(t){var e=af(t,this.es,this.a);return e}function Fg(t){var e=sf(t,this.es,this.a,this.b);return e}var xg=["Geocentric","geocentric","geocent","Geocent"],Sg={init:bg,forward:Cg,inverse:Fg,names:xg},de={N_POLE:0,S_POLE:1,EQUIT:2,OBLIQ:3},Bn={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};function Ng(){if(Object.keys(Bn).forEach((function(r){if(typeof this[r]>"u")this[r]=Bn[r].def;else{if(Bn[r].num&&isNaN(this[r]))throw new Error("Invalid parameter value, must be numeric "+r+" = "+this[r]);Bn[r].num&&(this[r]=parseFloat(this[r]))}Bn[r].degrees&&(this[r]=this[r]*oe)}).bind(this)),Math.abs(Math.abs(this.lat0)-R)<W?this.mode=this.lat0<0?de.S_POLE:de.N_POLE:Math.abs(this.lat0)<W?this.mode=de.EQUIT:(this.mode=de.OBLIQ,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,e=this.azi;this.cg=Math.cos(e),this.sg=Math.sin(e),this.cw=Math.cos(t),this.sw=Math.sin(t)}function Tg(t){t.x-=this.long0;var e=Math.sin(t.y),r=Math.cos(t.y),n=Math.cos(t.x),i,a;switch(this.mode){case de.OBLIQ:a=this.sinph0*e+this.cosph0*r*n;break;case de.EQUIT:a=r*n;break;case de.S_POLE:a=-e;break;case de.N_POLE:a=e;break}switch(a=this.pn1/(this.p-a),i=a*r*Math.sin(t.x),this.mode){case de.OBLIQ:a*=this.cosph0*e-this.sinph0*r*n;break;case de.EQUIT:a*=e;break;case de.N_POLE:a*=-(r*n);break;case de.S_POLE:a*=r*n;break}var s,o;return s=a*this.cg+i*this.sg,o=1/(s*this.sw*this.h1+this.cw),i=(i*this.cg-a*this.sg)*this.cw*o,a=s*o,t.x=i*this.a,t.y=a*this.a,t}function Bg(t){t.x/=this.a,t.y/=this.a;var e={x:t.x,y:t.y},r,n,i;i=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*i,n=this.pn1*t.y*this.cw*i,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var a=be(t.x,t.y);if(Math.abs(a)<W)e.x=0,e.y=t.y;else{var s,o;switch(o=1-a*a*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-o*o),this.mode){case de.OBLIQ:e.y=Math.asin(s*this.sinph0+t.y*o*this.cosph0/a),t.y=(s-this.sinph0*Math.sin(e.y))*a,t.x*=o*this.cosph0;break;case de.EQUIT:e.y=Math.asin(t.y*o/a),t.y=s*a,t.x*=o;break;case de.N_POLE:e.y=Math.asin(s),t.y=-t.y;break;case de.S_POLE:e.y=-Math.asin(s);break}e.x=Math.atan2(t.x,t.y)}return t.x=e.x+this.long0,t.y=e.y,t}var Og=["Tilted_Perspective","tpers"],kg={init:Ng,forward:Tg,inverse:Bg,names:Og};function Ig(){if(this.flip_axis=this.sweep==="x"?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,this.es!==0){var t=1-this.es,e=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=e,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")}function Pg(t){var e=t.x,r=t.y,n,i,a,s;if(e=e-this.long0,this.shape==="ellipse"){r=Math.atan(this.radius_p2*Math.tan(r));var o=this.radius_p/be(this.radius_p*Math.cos(r),Math.sin(r));if(i=o*Math.cos(e)*Math.cos(r),a=o*Math.sin(e)*Math.cos(r),s=o*Math.sin(r),(this.radius_g-i)*i-a*a-s*s*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/be(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/be(a,n)))}else this.shape==="sphere"&&(n=Math.cos(r),i=Math.cos(e)*n,a=Math.sin(e)*n,s=Math.sin(r),n=this.radius_g-i,this.flip_axis?(t.x=this.radius_g_1*Math.atan(a/be(s,n)),t.y=this.radius_g_1*Math.atan(s/n)):(t.x=this.radius_g_1*Math.atan(a/n),t.y=this.radius_g_1*Math.atan(s/be(a,n))));return t.x=t.x*this.a,t.y=t.y*this.a,t}function Rg(t){var e=-1,r=0,n=0,i,a,s,o;if(t.x=t.x/this.a,t.y=t.y/this.a,this.shape==="ellipse"){this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*be(1,n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*be(1,r));var u=n/this.radius_p;if(i=r*r+u*u+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+o*e,r*=o,n*=o,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if(this.shape==="sphere"){if(this.flip_axis?(n=Math.tan(t.y/this.radius_g_1),r=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+n*n)):(r=Math.tan(t.x/this.radius_g_1),n=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+r*r)),i=r*r+n*n+e*e,a=2*this.radius_g*e,s=a*a-4*i*this.C,s<0)return t.x=Number.NaN,t.y=Number.NaN,t;o=(-a-Math.sqrt(s))/(2*i),e=this.radius_g+o*e,r*=o,n*=o,t.x=Math.atan2(r,e),t.y=Math.atan(n*Math.cos(t.x)/e)}return t.x=t.x+this.long0,t}var Lg=["Geostationary Satellite View","Geostationary_Satellite","geos"],Yg={init:Ig,forward:Pg,inverse:Rg,names:Lg},zn=1.340264,qn=-.081106,Un=893e-6,Wn=.003796,ha=Math.sqrt(3)/2;function $g(){this.es=0,this.long0=this.long0!==void 0?this.long0:0}function zg(t){var e=H(t.x-this.long0),r=t.y,n=Math.asin(ha*Math.sin(r)),i=n*n,a=i*i*i;return t.x=e*Math.cos(n)/(ha*(zn+3*qn*i+a*(7*Un+9*Wn*i))),t.y=n*(zn+qn*i+a*(Un+Wn*i)),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function qg(t){t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a;var e=1e-9,r=12,n=t.y,i,a,s,o,u,h;for(h=0;h<r&&(i=n*n,a=i*i*i,s=n*(zn+qn*i+a*(Un+Wn*i))-t.y,o=zn+3*qn*i+a*(7*Un+9*Wn*i),n-=u=s/o,!(Math.abs(u)<e));++h);return i=n*n,a=i*i*i,t.x=ha*t.x*(zn+3*qn*i+a*(7*Un+9*Wn*i))/Math.cos(n),t.y=Math.asin(Math.sin(n)/ha),t.x=H(t.x+this.long0),t}var Ug=["eqearth","Equal Earth","Equal_Earth"],Wg={init:$g,forward:zg,inverse:qg,names:Ug},Qn=1e-10;function Vg(){var t;if(this.phi1=this.lat1,Math.abs(this.phi1)<Qn)throw new Error;this.es?(this.en=ho(this.es),this.m1=Cn(this.phi1,this.am1=Math.sin(this.phi1),t=Math.cos(this.phi1),this.en),this.am1=t/(Math.sqrt(1-this.es*this.am1*this.am1)*this.am1),this.inverse=Gg,this.forward=jg):(Math.abs(this.phi1)+Qn>=R?this.cphi1=0:this.cphi1=1/Math.tan(this.phi1),this.inverse=Zg,this.forward=Hg)}function jg(t){var e=H(t.x-(this.long0||0)),r=t.y,n,i,a;return n=this.am1+this.m1-Cn(r,i=Math.sin(r),a=Math.cos(r),this.en),i=a*e/(n*Math.sqrt(1-this.es*i*i)),t.x=n*Math.sin(i),t.y=this.am1-n*Math.cos(i),t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Gg(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n,i;if(r=be(t.x,t.y=this.am1-t.y),i=fo(this.am1+this.m1-r,this.es,this.en),(e=Math.abs(i))<R)e=Math.sin(i),n=r*Math.atan2(t.x,t.y)*Math.sqrt(1-this.es*e*e)/Math.cos(i);else if(Math.abs(e-R)<=Qn)n=0;else throw new Error;return t.x=H(n+(this.long0||0)),t.y=Or(i),t}function Hg(t){var e=H(t.x-(this.long0||0)),r=t.y,n,i;return i=this.cphi1+this.phi1-r,Math.abs(i)>Qn?(t.x=i*Math.sin(n=e*Math.cos(r)/i),t.y=this.cphi1-i*Math.cos(n)):t.x=t.y=0,t.x=this.a*t.x+(this.x0||0),t.y=this.a*t.y+(this.y0||0),t}function Zg(t){t.x=(t.x-(this.x0||0))/this.a,t.y=(t.y-(this.y0||0))/this.a;var e,r,n=be(t.x,t.y=this.cphi1-t.y);if(r=this.cphi1+this.phi1-n,Math.abs(r)>R)throw new Error;return Math.abs(Math.abs(r)-R)<=Qn?e=0:e=n*Math.atan2(t.x,t.y)/Math.cos(r),t.x=H(e+(this.long0||0)),t.y=Or(r),t}var Qg=["bonne","Bonne (Werner lat_1=90)"],Jg={init:Vg,names:Qg};function Xg(t){t.Proj.projections.add(Vi),t.Proj.projections.add(ji),t.Proj.projections.add(G1),t.Proj.projections.add(rv),t.Proj.projections.add(uv),t.Proj.projections.add(dv),t.Proj.projections.add(_v),t.Proj.projections.add(Ev),t.Proj.projections.add(Sv),t.Proj.projections.add(kv),t.Proj.projections.add(Jv),t.Proj.projections.add(nm),t.Proj.projections.add(um),t.Proj.projections.add(vm),t.Proj.projections.add(_m),t.Proj.projections.add(Em),t.Proj.projections.add(Sm),t.Proj.projections.add(km),t.Proj.projections.add($m),t.Proj.projections.add(Vm),t.Proj.projections.add(Qm),t.Proj.projections.add(eg),t.Proj.projections.add(sg),t.Proj.projections.add(lg),t.Proj.projections.add(gg),t.Proj.projections.add(Eg),t.Proj.projections.add(Sg),t.Proj.projections.add(kg),t.Proj.projections.add(Yg),t.Proj.projections.add(Wg),t.Proj.projections.add(Jg)}Fe.defaultDatum="WGS84";Fe.Proj=er;Fe.WGS84=new Fe.Proj("WGS84");Fe.Point=wn;Fe.toPoint=of;Fe.defs=pe;Fe.nadgrid=Zd;Fe.transform=sa;Fe.mgrs=l1;Fe.version="__VERSION__";Xg(Fe);function fa(){return fa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fa.apply(null,arguments)}var _f={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Kg(t,e){if(la(t,e))return t[e];throw typeof t[e]=="function"&&ey(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function ty(t,e,r){if(la(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function la(t,e){return!ry(t)&&!Array.isArray(t)?!1:Jn(ny,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ey(t,e){return t==null||typeof t[e]!="function"||Jn(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Jn(iy,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ry(t){return typeof t=="object"&&t&&t.constructor===Object}var ny={length:!0,name:!0},iy={toString:!0,valueOf:!0,toLocaleString:!0};class ay{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Kg(this.wrappedObject,e)}set(e,r){return ty(this.wrappedObject,e,r),this}has(e){return la(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return sy(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){la(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function sy(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function Tt(t){return typeof t=="number"}function zt(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function oy(t){return typeof t=="bigint"}function Df(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Mf(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function wf(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Je(t){return typeof t=="string"}var Jt=Array.isArray;function ie(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function ca(t){return Array.isArray(t)||ie(t)}function uy(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function hy(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function fy(t){return t&&t.constructor.prototype.isRange===!0||!1}function mo(t){return t&&t.constructor.prototype.isIndex===!0||!1}function ly(t){return typeof t=="boolean"}function cy(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function dy(t){return t&&t.constructor.prototype.isHelp===!0||!1}function vy(t){return typeof t=="function"}function my(t){return t instanceof Date}function gy(t){return t instanceof RegExp}function go(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Df(t)&&!Mf(t))}function yy(t){return t?t instanceof Map||t instanceof ay||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function py(t){return t===null}function _y(t){return t===void 0}function Dy(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function My(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function wy(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ay(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ey(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function by(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function Cy(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Fy(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function xy(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Sy(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ny(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ty(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function By(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Oy(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function ky(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Iy(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function Py(t){return t&&t.constructor.prototype.isChain===!0||!1}function zr(t){var e=typeof t;return e==="object"?t===null?"null":zt(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function jt(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return jt(r)});if(t instanceof Date)return new Date(t.valueOf());if(zt(t))return t;if(go(t))return Ry(t,jt);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function Ry(t,e){var r={};for(var n in t)Jn(t,n)&&(r[n]=e(t[n]));return r}function Ly(t,e){for(var r in e)Jn(e,r)&&(t[r]=e[r]);return t}function Tr(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Tr(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Tr(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function Jn(t,e){return t&&Object.hasOwnProperty.call(t,e)}function Yy(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],a=t[i];a!==void 0&&(r[i]=a)}return r}var $y=["Matrix","Array"],zy=["number","BigNumber","Fraction"],Gr=function(e){if(e)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(_f)};fa(Gr,_f,{MATRIX_OPTIONS:$y,NUMBER_OPTIONS:zy});function Wu(){return!0}function ke(){return!1}function Kr(){}const Vu="Argument is not a typed-function.";function Af(){function t(w){return typeof w=="object"&&w!==null&&w.constructor===Object}const e=[{name:"number",test:function(w){return typeof w=="number"}},{name:"string",test:function(w){return typeof w=="string"}},{name:"boolean",test:function(w){return typeof w=="boolean"}},{name:"Function",test:function(w){return typeof w=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(w){return w instanceof Date}},{name:"RegExp",test:function(w){return w instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(w){return w===null}},{name:"undefined",test:function(w){return w===void 0}}],r={name:"any",test:Wu,isAny:!0};let n,i,a=0,s={createCount:0};function o(w){const F=n.get(w);if(F)return F;let x='Unknown type "'+w+'"';const O=w.toLowerCase();let P;for(P of i)if(P.toLowerCase()===O){x+='. Did you mean "'+P+'" ?';break}throw new TypeError(x)}function u(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const x=F?o(F).index:i.length,O=[];for(let k=0;k<w.length;++k){if(!w[k]||typeof w[k].name!="string"||typeof w[k].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const j=w[k].name;if(n.has(j))throw new TypeError('Duplicate type name "'+j+'"');O.push(j),n.set(j,{name:j,test:w[k].test,isAny:w[k].isAny,index:x+k,conversionsTo:[]})}const P=i.slice(x);i=i.slice(0,x).concat(O).concat(P);for(let k=x+O.length;k<i.length;++k)n.get(i[k]).index=k}function h(){n=new Map,i=[],a=0,u([r],!1)}h(),u(e);function f(){let w;for(w of i)n.get(w).conversionsTo=[];a=0}function l(w){const F=i.filter(x=>{const O=n.get(x);return!O.isAny&&O.test(w)});return F.length?F:["any"]}function c(w){return w&&typeof w=="function"&&"_typedFunctionData"in w}function v(w,F,x){if(!c(w))throw new TypeError(Vu);const O=x&&x.exact,P=Array.isArray(F)?F.join(","):F,k=E(P),j=m(k);if(!O||j in w.signatures){const At=w._typedFunctionData.signatureMap.get(j);if(At)return At}const z=k.length;let G;if(O){G=[];let At;for(At in w.signatures)G.push(w._typedFunctionData.signatureMap.get(At))}else G=w._typedFunctionData.signatures;for(let At=0;At<z;++At){const Nt=k[At],Zt=[];let De;for(De of G){const ye=b(De.params,At);if(!(!ye||Nt.restParam&&!ye.restParam)){if(!ye.hasAny){const ze=p(ye);if(Nt.types.some(qe=>!ze.has(qe.name)))continue}Zt.push(De)}}if(G=Zt,G.length===0)break}let Y;for(Y of G)if(Y.params.length<=z)return Y;throw new TypeError("Signature not found (signature: "+(w.name||"unnamed")+"("+m(k,", ")+"))")}function g(w,F,x){return v(w,F,x).implementation}function d(w,F){const x=o(F);if(x.test(w))return w;const O=x.conversionsTo;if(O.length===0)throw new Error("There are no conversions to "+F+" defined.");for(let P=0;P<O.length;P++)if(o(O[P].from).test(w))return O[P].convert(w);throw new Error("Cannot convert "+w+" to "+F)}function m(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return w.map(x=>x.name).join(F)}function y(w){const F=w.indexOf("...")===0,O=(F?w.length>3?w.slice(3):"any":w).split("|").map(z=>o(z.trim()));let P=!1,k=F?"...":"";return{types:O.map(function(z){return P=z.isAny||P,k+=z.name+"|",{name:z.name,typeIndex:z.index,test:z.test,isAny:z.isAny,conversion:null,conversionIndex:-1}}),name:k.slice(0,-1),hasAny:P,hasConversion:!1,restParam:F}}function M(w){const F=w.types.map(j=>j.name),x=Q(F);let O=w.hasAny,P=w.name;const k=x.map(function(j){const z=o(j.from);return O=z.isAny||O,P+="|"+j.from,{name:j.from,typeIndex:z.index,test:z.test,isAny:z.isAny,conversion:j,conversionIndex:j.index}});return{types:w.types.concat(k),name:P,hasAny:O,hasConversion:k.length>0,restParam:w.restParam}}function p(w){return w.typeSet||(w.typeSet=new Set,w.types.forEach(F=>w.typeSet.add(F.name))),w.typeSet}function E(w){const F=[];if(typeof w!="string")throw new TypeError("Signatures must be strings");const x=w.trim();if(x==="")return F;const O=x.split(",");for(let P=0;P<O.length;++P){const k=y(O[P].trim());if(k.restParam&&P!==O.length-1)throw new SyntaxError('Unexpected rest parameter "'+O[P]+'": only allowed for the last parameter');if(k.types.length===0)return null;F.push(k)}return F}function _(w){const F=Ft(w);return F?F.restParam:!1}function D(w){if(!w||w.types.length===0)return Wu;if(w.types.length===1)return o(w.types[0].name).test;if(w.types.length===2){const F=o(w.types[0].name).test,x=o(w.types[1].name).test;return function(P){return F(P)||x(P)}}else{const F=w.types.map(function(x){return o(x.name).test});return function(O){for(let P=0;P<F.length;P++)if(F[P](O))return!0;return!1}}}function C(w){let F,x,O;if(_(w)){F=ge(w).map(D);const P=F.length,k=D(Ft(w)),j=function(z){for(let G=P;G<z.length;G++)if(!k(z[G]))return!1;return!0};return function(G){for(let Y=0;Y<F.length;Y++)if(!F[Y](G[Y]))return!1;return j(G)&&G.length>=P+1}}else return w.length===0?function(k){return k.length===0}:w.length===1?(x=D(w[0]),function(k){return x(k[0])&&k.length===1}):w.length===2?(x=D(w[0]),O=D(w[1]),function(k){return x(k[0])&&O(k[1])&&k.length===2}):(F=w.map(D),function(k){for(let j=0;j<F.length;j++)if(!F[j](k[j]))return!1;return k.length===F.length})}function b(w,F){return F<w.length?w[F]:_(w)?Ft(w):null}function A(w,F){const x=b(w,F);return x?p(x):new Set}function S(w){return w.conversion===null||w.conversion===void 0}function B(w,F){const x=new Set;return w.forEach(O=>{const P=A(O.params,F);let k;for(k of P)x.add(k)}),x.has("any")?["any"]:Array.from(x)}function $(w,F,x){let O,P;const k=w||"unnamed";let j=x,z;for(z=0;z<F.length;z++){const Nt=[];if(j.forEach(Zt=>{const De=b(Zt.params,z),ye=D(De);(z<Zt.params.length||_(Zt.params))&&ye(F[z])&&Nt.push(Zt)}),Nt.length===0){if(P=B(j,z),P.length>0){const Zt=l(F[z]);return O=new TypeError("Unexpected type of argument in function "+k+" (expected: "+P.join(" or ")+", actual: "+Zt.join(" | ")+", index: "+z+")"),O.data={category:"wrongType",fn:k,index:z,actual:Zt,expected:P},O}}else j=Nt}const G=j.map(function(Nt){return _(Nt.params)?1/0:Nt.params.length});if(F.length<Math.min.apply(null,G))return P=B(j,z),O=new TypeError("Too few arguments in function "+k+" (expected: "+P.join(" or ")+", index: "+F.length+")"),O.data={category:"tooFewArgs",fn:k,index:F.length,expected:P},O;const Y=Math.max.apply(null,G);if(F.length>Y)return O=new TypeError("Too many arguments in function "+k+" (expected: "+Y+", actual: "+F.length+")"),O.data={category:"tooManyArgs",fn:k,index:F.length,expectedLength:Y},O;const At=[];for(let Nt=0;Nt<F.length;++Nt)At.push(l(F[Nt]).join("|"));return O=new TypeError('Arguments of type "'+At.join(", ")+'" do not match any of the defined signatures of function '+k+"."),O.data={category:"mismatch",actual:At},O}function J(w){let F=i.length+1;for(let x=0;x<w.types.length;x++)S(w.types[x])&&(F=Math.min(F,w.types[x].typeIndex));return F}function U(w){let F=a+1;for(let x=0;x<w.types.length;x++)S(w.types[x])||(F=Math.min(F,w.types[x].conversionIndex));return F}function V(w,F){if(w.hasAny){if(!F.hasAny)return 1}else if(F.hasAny)return-1;if(w.restParam){if(!F.restParam)return 1}else if(F.restParam)return-1;if(w.hasConversion){if(!F.hasConversion)return 1}else if(F.hasConversion)return-1;const x=J(w)-J(F);if(x<0)return-1;if(x>0)return 1;const O=U(w)-U(F);return O<0?-1:O>0?1:0}function T(w,F){const x=w.params,O=F.params,P=Ft(x),k=Ft(O),j=_(x),z=_(O);if(j&&P.hasAny){if(!z||!k.hasAny)return 1}else if(z&&k.hasAny)return-1;let G=0,Y=0,At;for(At of x)At.hasAny&&++G,At.hasConversion&&++Y;let Nt=0,Zt=0;for(At of O)At.hasAny&&++Nt,At.hasConversion&&++Zt;if(G!==Nt)return G-Nt;if(j&&P.hasConversion){if(!z||!k.hasConversion)return 1}else if(z&&k.hasConversion)return-1;if(Y!==Zt)return Y-Zt;if(j){if(!z)return 1}else if(z)return-1;const De=(x.length-O.length)*(j?-1:1);if(De!==0)return De;const ye=[];let ze=0;for(let Xr=0;Xr<x.length;++Xr){const Ni=V(x[Xr],O[Xr]);ye.push(Ni),ze+=Ni}if(ze!==0)return ze;let qe;for(qe of ye)if(qe!==0)return qe;return 0}function Q(w){if(w.length===0)return[];const F=w.map(o);w.length>1&&F.sort((P,k)=>P.index-k.index);let x=F[0].conversionsTo;if(w.length===1)return x;x=x.concat([]);const O=new Set(w);for(let P=1;P<F.length;++P){let k;for(k of F[P].conversionsTo)O.has(k.from)||(x.push(k),O.add(k.from))}return x}function tt(w,F){let x=F;if(w.some(P=>P.hasConversion)){const P=_(w),k=w.map(K);x=function(){const z=[],G=P?arguments.length-1:arguments.length;for(let Y=0;Y<G;Y++)z[Y]=k[Y](arguments[Y]);return P&&(z[G]=arguments[G].map(k[G])),F.apply(this,z)}}let O=x;if(_(w)){const P=w.length-1;O=function(){return x.apply(this,wt(arguments,0,P).concat([wt(arguments,P)]))}}return O}function K(w){let F,x,O,P;const k=[],j=[];switch(w.types.forEach(function(z){z.conversion&&(k.push(o(z.conversion.from).test),j.push(z.conversion.convert))}),j.length){case 0:return function(G){return G};case 1:return F=k[0],O=j[0],function(G){return F(G)?O(G):G};case 2:return F=k[0],x=k[1],O=j[0],P=j[1],function(G){return F(G)?O(G):x(G)?P(G):G};default:return function(G){for(let Y=0;Y<j.length;Y++)if(k[Y](G))return j[Y](G);return G}}}function ot(w){function F(x,O,P){if(O<x.length){const k=x[O];let j=[];if(k.restParam){const z=k.types.filter(S);z.length<k.types.length&&j.push({types:z,name:"..."+z.map(G=>G.name).join("|"),hasAny:z.some(G=>G.isAny),hasConversion:!1,restParam:!0}),j.push(k)}else j=k.types.map(function(z){return{types:[z],name:z.name,hasAny:z.isAny,hasConversion:z.conversion,restParam:!1}});return se(j,function(z){return F(x,O+1,P.concat([z]))})}else return[P]}return F(w,0,[])}function Mt(w,F){const x=Math.max(w.length,F.length);for(let z=0;z<x;z++){const G=A(w,z),Y=A(F,z);let At=!1,Nt;for(Nt of Y)if(G.has(Nt)){At=!0;break}if(!At)return!1}const O=w.length,P=F.length,k=_(w),j=_(F);return k?j?O===P:P>=O:j?O>=P:O===P}function _t(w){return w.map(F=>ur(F)?Oe(F.referToSelf.callback):or(F)?ee(F.referTo.references,F.referTo.callback):F)}function Ct(w,F,x){const O=[];let P;for(P of w){let k=x[P];if(typeof k!="number")throw new TypeError('No definition for referenced signature "'+P+'"');if(k=F[k],typeof k!="function")return!1;O.push(k)}return O}function Ht(w,F,x){const O=_t(w),P=new Array(O.length).fill(!1);let k=!0;for(;k;){k=!1;let j=!0;for(let z=0;z<O.length;++z){if(P[z])continue;const G=O[z];if(ur(G))O[z]=G.referToSelf.callback(x),O[z].referToSelf=G.referToSelf,P[z]=!0,j=!1;else if(or(G)){const Y=Ct(G.referTo.references,O,F);Y?(O[z]=G.referTo.callback.apply(this,Y),O[z].referTo=G.referTo,P[z]=!0,j=!1):k=!0}}if(j&&k)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return O}function Wt(w){const F=/\bthis(\(|\.signatures\b)/;Object.keys(w).forEach(x=>{const O=w[x];if(F.test(O.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function qt(w,F){if(s.createCount++,Object.keys(F).length===0)throw new SyntaxError("No signatures provided");s.warnAgainstDeprecatedThis&&Wt(F);const x=[],O=[],P={},k=[];let j;for(j in F){if(!Object.prototype.hasOwnProperty.call(F,j))continue;const Dt=E(j);if(!Dt)continue;x.forEach(function(Tn){if(Mt(Tn,Dt))throw new TypeError('Conflicting signatures "'+m(Tn)+'" and "'+m(Dt)+'".')}),x.push(Dt);const Me=O.length;O.push(F[j]);const Dc=Dt.map(M);let Ti;for(Ti of ot(Dc)){const Tn=m(Ti);k.push({params:Ti,name:Tn,fn:Me}),Ti.every(Mc=>!Mc.hasConversion)&&(P[Tn]=Me)}}k.sort(T);const z=Ht(O,P,Nn);let G;for(G in P)Object.prototype.hasOwnProperty.call(P,G)&&(P[G]=z[P[G]]);const Y=[],At=new Map;for(G of k)At.has(G.name)||(G.fn=z[G.fn],Y.push(G),At.set(G.name,G));const Nt=Y[0]&&Y[0].params.length<=2&&!_(Y[0].params),Zt=Y[1]&&Y[1].params.length<=2&&!_(Y[1].params),De=Y[2]&&Y[2].params.length<=2&&!_(Y[2].params),ye=Y[3]&&Y[3].params.length<=2&&!_(Y[3].params),ze=Y[4]&&Y[4].params.length<=2&&!_(Y[4].params),qe=Y[5]&&Y[5].params.length<=2&&!_(Y[5].params),Xr=Nt&&Zt&&De&&ye&&ze&&qe;for(let Dt=0;Dt<Y.length;++Dt)Y[Dt].test=C(Y[Dt].params);const Ni=Nt?D(Y[0].params[0]):ke,jl=Zt?D(Y[1].params[0]):ke,Gl=De?D(Y[2].params[0]):ke,Hl=ye?D(Y[3].params[0]):ke,Zl=ze?D(Y[4].params[0]):ke,Ql=qe?D(Y[5].params[0]):ke,Jl=Nt?D(Y[0].params[1]):ke,Xl=Zt?D(Y[1].params[1]):ke,Kl=De?D(Y[2].params[1]):ke,tc=ye?D(Y[3].params[1]):ke,ec=ze?D(Y[4].params[1]):ke,rc=qe?D(Y[5].params[1]):ke;for(let Dt=0;Dt<Y.length;++Dt)Y[Dt].implementation=tt(Y[Dt].params,Y[Dt].fn);const nc=Nt?Y[0].implementation:Kr,ic=Zt?Y[1].implementation:Kr,ac=De?Y[2].implementation:Kr,sc=ye?Y[3].implementation:Kr,oc=ze?Y[4].implementation:Kr,uc=qe?Y[5].implementation:Kr,hc=Nt?Y[0].params.length:-1,fc=Zt?Y[1].params.length:-1,lc=De?Y[2].params.length:-1,cc=ye?Y[3].params.length:-1,dc=ze?Y[4].params.length:-1,vc=qe?Y[5].params.length:-1,mc=Xr?6:0,gc=Y.length,yc=Y.map(Dt=>Dt.test),pc=Y.map(Dt=>Dt.implementation),_c=function(){for(let Me=mc;Me<gc;Me++)if(yc[Me](arguments))return pc[Me].apply(this,arguments);return s.onMismatch(w,arguments,Y)};function Nn(Dt,Me){return arguments.length===hc&&Ni(Dt)&&Jl(Me)?nc.apply(this,arguments):arguments.length===fc&&jl(Dt)&&Xl(Me)?ic.apply(this,arguments):arguments.length===lc&&Gl(Dt)&&Kl(Me)?ac.apply(this,arguments):arguments.length===cc&&Hl(Dt)&&tc(Me)?sc.apply(this,arguments):arguments.length===dc&&Zl(Dt)&&ec(Me)?oc.apply(this,arguments):arguments.length===vc&&Ql(Dt)&&rc(Me)?uc.apply(this,arguments):_c.apply(this,arguments)}try{Object.defineProperty(Nn,"name",{value:w})}catch(Dt){}return Nn.signatures=P,Nn._typedFunctionData={signatures:Y,signatureMap:At},Nn}function Bt(w,F,x){throw $(w,F,x)}function ge(w){return wt(w,0,w.length-1)}function Ft(w){return w[w.length-1]}function wt(w,F,x){return Array.prototype.slice.call(w,F,x)}function Be(w,F){for(let x=0;x<w.length;x++)if(F(w[x]))return w[x]}function se(w,F){return Array.prototype.concat.apply([],w.map(F))}function xt(){const w=ge(arguments).map(x=>m(E(x))),F=Ft(arguments);if(typeof F!="function")throw new TypeError("Callback function expected as last argument");return ee(w,F)}function ee(w,F){return{referTo:{references:w,callback:F}}}function Oe(w){if(typeof w!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:w}}}function or(w){return w&&typeof w.referTo=="object"&&Array.isArray(w.referTo.references)&&typeof w.referTo.callback=="function"}function ur(w){return w&&typeof w.referToSelf=="object"&&typeof w.referToSelf.callback=="function"}function Qr(w,F){if(!w)return F;if(F&&F!==w){const x=new Error("Function names do not match (expected: "+w+", actual: "+F+")");throw x.data={actual:F,expected:w},x}return w}function Jr(w){let F;for(const x in w)Object.prototype.hasOwnProperty.call(w,x)&&(c(w[x])||typeof w[x].signature=="string")&&(F=Qr(F,w[x].name));return F}function Ha(w,F){let x;for(x in F)if(Object.prototype.hasOwnProperty.call(F,x)){if(x in w&&F[x]!==w[x]){const O=new Error('Signature "'+x+'" is defined twice');throw O.data={signature:x,sourceFunction:F[x],destFunction:w[x]},O}w[x]=F[x]}}const Vl=s;s=function(w){const F=typeof w=="string",x=F?1:0;let O=F?w:"";const P={};for(let k=x;k<arguments.length;++k){const j=arguments[k];let z={},G;if(typeof j=="function"?(G=j.name,typeof j.signature=="string"?z[j.signature]=j:c(j)&&(z=j.signatures)):t(j)&&(z=j,F||(G=Jr(j))),Object.keys(z).length===0){const Y=new TypeError("Argument to 'typed' at index "+k+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Y.data={index:k,argument:j},Y}F||(O=Qr(O,G)),Ha(P,z)}return qt(O||"",P)},s.create=Af,s.createCount=Vl.createCount,s.onMismatch=Bt,s.throwMismatchError=Bt,s.createError=$,s.clear=h,s.clearConversions=f,s.addTypes=u,s._findType=o,s.referTo=xt,s.referToSelf=Oe,s.convert=d,s.findSignature=v,s.find=g,s.isTypedFunction=c,s.warnAgainstDeprecatedThis=!0,s.addType=function(w,F){let x="any";F!==!1&&n.has("Object")&&(x="Object"),s.addTypes([w],x)};function Ko(w){if(!w||typeof w.from!="string"||typeof w.to!="string"||typeof w.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(w.to===w.from)throw new SyntaxError('Illegal to define conversion from "'+w.from+'" to itself.')}return s.addConversion=function(w){let F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Ko(w);const x=o(w.to),O=x.conversionsTo.find(P=>P.from===w.from);if(O)if(F&&F.override)s.removeConversion({from:O.from,to:w.to,convert:O.convert});else throw new Error('There is already a conversion from "'+w.from+'" to "'+x.name+'"');x.conversionsTo.push({from:w.from,convert:w.convert,index:a++})},s.addConversions=function(w,F){w.forEach(x=>s.addConversion(x,F))},s.removeConversion=function(w){Ko(w);const F=o(w.to),x=Be(F.conversionsTo,P=>P.from===w.from);if(!x)throw new Error("Attempt to remove nonexistent conversion from "+w.from+" to "+w.to);if(x.convert!==w.convert)throw new Error("Conversion to remove does not match existing conversion");const O=F.conversionsTo.indexOf(x);F.conversionsTo.splice(O,1)},s.resolve=function(w,F){if(!c(w))throw new TypeError(Vu);const x=w._typedFunctionData.signatures;for(let O=0;O<x.length;++O)if(x[O].test(F))return x[O];return null},s}var da=Af();function ct(t,e,r,n){function i(a){var s=Yy(a,e.map(Wy));return qy(t,e,a),r(s)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function qy(t,e,r){var n=e.filter(a=>!Uy(a)).every(a=>r[a]!==void 0);if(!n){var i=e.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Uy(t){return t&&t[0]==="?"}function Wy(t){return t&&t[0]==="?"?t.slice(1):t}function $t(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function ls(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!$t(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!$t(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),a="i".concat(r)}var s="";return t<0&&(t=-t,s="-"),"".concat(s).concat(i).concat(t.toString(e)).concat(a)}function Ts(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:i}=Ef(e);switch(r){case"fixed":return jy(t,n);case"exponential":return bf(t,n);case"engineering":return Vy(t,n);case"bin":return ls(t,2,i);case"oct":return ls(t,8,i);case"hex":return ls(t,16,i);case"auto":return Gy(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ef(t){var e="auto",r,n;if(t!==void 0)if(Tt(t))r=t;else if(zt(t))r=t.toNumber();else if(go(t))t.precision!==void 0&&(r=ju(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=ju(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function Na(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(o){return i-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return s.length===0&&(s.push(0),i++),{sign:r,coefficients:s,exponent:i}}function Vy(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Na(t),n=Ta(r,e),i=n.exponent,a=n.coefficients,s=i%3===0?i:i<0?i-3-i%3:i-i%3;if(Tt(e))for(;e>a.length||i-s+1>a.length;)a.push(0);else for(var o=Math.abs(i-s)-(a.length-1),u=0;u<o;u++)a.push(0);for(var h=Math.abs(i-s),f=1;h>0;)f++,h--;var l=a.slice(f).join(""),c=Tt(e)&&l.length||l.match(/[1-9]/)?"."+l:"",v=a.slice(0,f).join("")+c+"e"+(i>=0?"+":"")+s.toString();return n.sign+v}function jy(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Na(t),n=typeof e=="number"?Ta(r,r.exponent+1+e):r,i=n.coefficients,a=n.exponent+1,s=a+(e||0);return i.length<s&&(i=i.concat(mn(s-i.length))),a<0&&(i=mn(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function bf(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Na(t),n=e?Ta(r,e):r,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(mn(e-i.length)));var s=i.shift();return n.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function Gy(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=Gu(r==null?void 0:r.lowerExp,-3),i=Gu(r==null?void 0:r.upperExp,5),a=Na(t),s=e?Ta(a,e):a;if(s.exponent<n||s.exponent>=i)return bf(t,e);var o=s.coefficients,u=s.exponent;o.length<e&&(o=o.concat(mn(e-o.length))),o=o.concat(mn(u-o.length+1+(o.length<e?e-o.length:0))),o=mn(-u).concat(o);var h=u>0?u:0;return h<o.length-1&&o.splice(h+1,0,"."),s.sign+o.join("")}function Ta(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function mn(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function Hy(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function va(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(r*Math.max(Math.abs(t),Math.abs(e)),n)}function ju(t,e){if(Tt(t))return t;if(zt(t))return t.toNumber();e()}function Gu(t,e){return Tt(t)?t:zt(t)?t.toNumber():e}var Cf=function(){return Cf=da.create,da},Zy=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Qy=ct("typed",Zy,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=e,s=Cf();return s.clear(),s.addTypes([{name:"number",test:Tt},{name:"Complex",test:Df},{name:"BigNumber",test:zt},{name:"bigint",test:oy},{name:"Fraction",test:Mf},{name:"Unit",test:wf},{name:"identifier",test:o=>Je&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:Je},{name:"Chain",test:Py},{name:"Array",test:Jt},{name:"Matrix",test:ie},{name:"DenseMatrix",test:uy},{name:"SparseMatrix",test:hy},{name:"Range",test:fy},{name:"Index",test:mo},{name:"boolean",test:ly},{name:"ResultSet",test:cy},{name:"Help",test:dy},{name:"function",test:vy},{name:"Date",test:my},{name:"RegExp",test:gy},{name:"null",test:py},{name:"undefined",test:_y},{name:"AccessorNode",test:Dy},{name:"ArrayNode",test:My},{name:"AssignmentNode",test:wy},{name:"BlockNode",test:Ay},{name:"ConditionalNode",test:Ey},{name:"ConstantNode",test:by},{name:"FunctionNode",test:Fy},{name:"FunctionAssignmentNode",test:Cy},{name:"IndexNode",test:xy},{name:"Node",test:Sy},{name:"ObjectNode",test:Ny},{name:"OperatorNode",test:Ty},{name:"ParenthesisNode",test:By},{name:"RangeNode",test:Oy},{name:"RelationalNode",test:ky},{name:"SymbolNode",test:Iy},{name:"Map",test:yy},{name:"Object",test:go}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(r||Ii(u),Hy(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new r(u)}},{from:"number",to:"Complex",convert:function(u){return n||Pi(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||Pi(u),new n(u.toNumber(),0)}},{from:"bigint",to:"number",convert:function(u){if(u>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+u+")");return Number(u)}},{from:"bigint",to:"BigNumber",convert:function(u){return r||Ii(u),new r(u.toString())}},{from:"bigint",to:"Fraction",convert:function(u){return a||Ri(u),new a(u)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||Pi(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||Ri(u);var h=new a(u);if(h.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(u){var h=Number(u);if(isNaN(h))throw new Error('Cannot convert "'+u+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(u){r||Ii(u);try{return new r(u)}catch(h){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(u){try{return BigInt(u)}catch(h){throw new Error('Cannot convert "'+u+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(u){a||Ri(u);try{return new a(u)}catch(h){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||Pi(u);try{return new n(u)}catch(h){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return r||Ii(u),new r(+u)}},{from:"boolean",to:"bigint",convert:function(u){return BigInt(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||Ri(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||Jy(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),s.onMismatch=(o,u,h)=>{var f=s.createError(o,u,h);if(["wrongType","mismatch"].includes(f.data.category)&&u.length===1&&ca(u[0])&&h.some(c=>!c.params.includes(","))){var l=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw l.data=f.data,l}throw f},s.onMismatch=(o,u,h)=>{var f=s.createError(o,u,h);if(["wrongType","mismatch"].includes(f.data.category)&&u.length===1&&ca(u[0])&&h.some(c=>!c.params.includes(","))){var l=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw l.data=f.data,l}throw f},s});function Ii(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function Pi(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function Jy(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ri(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Bs=9e15,kr=1e9,Os="0123456789abcdef",ma="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ga="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",ks={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:Bs,crypto:!1},Ff,cr,st=!0,Ba="[DecimalError] ",Br=Ba+"Invalid argument: ",xf=Ba+"Precision limit exceeded",Sf=Ba+"crypto unavailable",Nf="[object Decimal]",me=Math.floor,Xt=Math.pow,Xy=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Ky=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,tp=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Tf=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,je=1e7,it=7,ep=9007199254740991,rp=ma.length-1,Is=ga.length-1,I={toStringTag:Nf};I.absoluteValue=I.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),rt(t)};I.ceil=function(){return rt(new this.constructor(this),this.e+1,2)};I.clampedTo=I.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Br+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};I.comparedTo=I.cmp=function(t){var e,r,n,i,a=this,s=a.d,o=(t=new a.constructor(t)).d,u=a.s,h=t.s;if(!s||!o)return!u||!h?NaN:u!==h?u:s===o?0:!s^u<0?1:-1;if(!s[0]||!o[0])return s[0]?u:o[0]?-h:0;if(u!==h)return u;if(a.e!==t.e)return a.e>t.e^u<0?1:-1;for(n=s.length,i=o.length,e=0,r=n<i?n:i;e<r;++e)if(s[e]!==o[e])return s[e]>o[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};I.cosine=I.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+it,n.rounding=1,r=np(n,Pf(n,r)),n.precision=t,n.rounding=e,rt(cr==2||cr==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};I.cubeRoot=I.cbrt=function(){var t,e,r,n,i,a,s,o,u,h,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(st=!1,a=f.s*Xt(f.s*f,1/3),!a||Math.abs(a)==1/0?(r=he(f.d),t=f.e,(a=(t-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Xt(r,1/3),t=me((t+1)/3)-(t%3==(t<0?-1:2)),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new l(r),n.s=f.s):n=new l(a.toString()),s=(t=l.precision)+3;;)if(o=n,u=o.times(o).times(o),h=u.plus(f),n=St(h.plus(f).times(o),h.plus(u),s+2,1),he(o.d).slice(0,s)===(r=he(n.d)).slice(0,s))if(r=r.slice(s-3,s+1),r=="9999"||!i&&r=="4999"){if(!i&&(rt(o,t+1,0),o.times(o).times(o).eq(f))){n=o;break}s+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(rt(n,t+1,1),e=!n.times(n).times(n).eq(f));break}return st=!0,rt(n,t,l.rounding,e)};I.decimalPlaces=I.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-me(this.e/it))*it,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};I.dividedBy=I.div=function(t){return St(this,new this.constructor(t))};I.dividedToIntegerBy=I.divToInt=function(t){var e=this,r=e.constructor;return rt(St(e,new r(t),0,1,1),r.precision,r.rounding)};I.equals=I.eq=function(t){return this.cmp(t)===0};I.floor=function(){return rt(new this.constructor(this),this.e+1,3)};I.greaterThan=I.gt=function(t){return this.cmp(t)>0};I.greaterThanOrEqualTo=I.gte=function(t){var e=this.cmp(t);return e==1||e===0};I.hyperbolicCosine=I.cosh=function(){var t,e,r,n,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;r=s.precision,n=s.rounding,s.precision=r+Math.max(a.e,a.sd())+4,s.rounding=1,i=a.d.length,i<32?(t=Math.ceil(i/3),e=(1/ka(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),a=En(s,1,a.times(e),new s(1),!0);for(var u,h=t,f=new s(8);h--;)u=a.times(a),a=o.minus(u.times(f.minus(u.times(f))));return rt(a,s.precision=r,s.rounding=n,!0)};I.hyperbolicSine=I.sinh=function(){var t,e,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,r=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=En(a,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/ka(5,t)),i=En(a,2,i,i,!0);for(var s,o=new a(5),u=new a(16),h=new a(20);t--;)s=i.times(i),i=i.times(o.plus(s.times(u.times(s).plus(h))))}return a.precision=e,a.rounding=r,rt(i,e,r,!0)};I.hyperbolicTangent=I.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,St(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};I.inverseCosine=I.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?tr(e,n,i):new e(0):new e(NaN):t.isZero()?tr(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};I.inverseHyperbolicCosine=I.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,st=!1,r=r.times(r).minus(1).sqrt().plus(r),st=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};I.inverseHyperbolicSine=I.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,st=!1,r=r.times(r).plus(1).sqrt().plus(r),st=!0,n.precision=t,n.rounding=e,r.ln())};I.inverseHyperbolicTangent=I.atanh=function(){var t,e,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,e=a.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?rt(new a(i),t,e,!0):(a.precision=r=n-i.e,i=St(i.plus(1),new a(1).minus(i),r+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=e,i.times(.5))):new a(NaN)};I.inverseSine=I.asin=function(){var t,e,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),r=a.precision,n=a.rounding,e!==-1?e===0?(t=tr(a,r+4,n).times(.5),t.s=i.s,t):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};I.inverseTangent=I.atan=function(){var t,e,r,n,i,a,s,o,u,h=this,f=h.constructor,l=f.precision,c=f.rounding;if(h.isFinite()){if(h.isZero())return new f(h);if(h.abs().eq(1)&&l+4<=Is)return s=tr(f,l+4,c).times(.25),s.s=h.s,s}else{if(!h.s)return new f(NaN);if(l+4<=Is)return s=tr(f,l+4,c).times(.5),s.s=h.s,s}for(f.precision=o=l+10,f.rounding=1,r=Math.min(28,o/it+2|0),t=r;t;--t)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(st=!1,e=Math.ceil(o/it),n=1,u=h.times(h),s=new f(h),i=h;t!==-1;)if(i=i.times(u),a=s.minus(i.div(n+=2)),i=i.times(u),s=a.plus(i.div(n+=2)),s.d[e]!==void 0)for(t=e;s.d[t]===a.d[t]&&t--;);return r&&(s=s.times(2<<r-1)),st=!0,rt(s,f.precision=l,f.rounding=c,!0)};I.isFinite=function(){return!!this.d};I.isInteger=I.isInt=function(){return!!this.d&&me(this.e/it)>this.d.length-2};I.isNaN=function(){return!this.s};I.isNegative=I.isNeg=function(){return this.s<0};I.isPositive=I.isPos=function(){return this.s>0};I.isZero=function(){return!!this.d&&this.d[0]===0};I.lessThan=I.lt=function(t){return this.cmp(t)<0};I.lessThanOrEqualTo=I.lte=function(t){return this.cmp(t)<1};I.logarithm=I.log=function(t){var e,r,n,i,a,s,o,u,h=this,f=h.constructor,l=f.precision,c=f.rounding,v=5;if(t==null)t=new f(10),e=!0;else{if(t=new f(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new f(NaN);e=t.eq(10)}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new f(r&&!r[0]?-1/0:h.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(st=!1,o=l+v,s=Er(h,o),n=e?ya(f,o+10):Er(t,o),u=St(s,n,o,1),Xn(u.d,i=l,c))do if(o+=10,s=Er(h,o),n=e?ya(f,o+10):Er(t,o),u=St(s,n,o,1),!a){+he(u.d).slice(i+1,i+15)+1==1e14&&(u=rt(u,l+1,0));break}while(Xn(u.d,i+=10,c));return st=!0,rt(u,l,c)};I.minus=I.sub=function(t){var e,r,n,i,a,s,o,u,h,f,l,c,v=this,g=v.constructor;if(t=new g(t),!v.d||!t.d)return!v.s||!t.s?t=new g(NaN):v.d?t.s=-t.s:t=new g(t.d||v.s!==t.s?v:NaN),t;if(v.s!=t.s)return t.s=-t.s,v.plus(t);if(h=v.d,c=t.d,o=g.precision,u=g.rounding,!h[0]||!c[0]){if(c[0])t.s=-t.s;else if(h[0])t=new g(v);else return new g(u===3?-0:0);return st?rt(t,o,u):t}if(r=me(t.e/it),f=me(v.e/it),h=h.slice(),a=f-r,a){for(l=a<0,l?(e=h,a=-a,s=c.length):(e=c,r=f,s=h.length),n=Math.max(Math.ceil(o/it),s)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=h.length,s=c.length,l=n<s,l&&(s=n),n=0;n<s;n++)if(h[n]!=c[n]){l=h[n]<c[n];break}a=0}for(l&&(e=h,h=c,c=e,t.s=-t.s),s=h.length,n=c.length-s;n>0;--n)h[s++]=0;for(n=c.length;n>a;){if(h[--n]<c[n]){for(i=n;i&&h[--i]===0;)h[i]=je-1;--h[i],h[n]+=je}h[n]-=c[n]}for(;h[--s]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=Oa(h,r),st?rt(t,o,u):t):new g(u===3?-0:0)};I.modulo=I.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?rt(new n(r),n.precision,n.rounding):(st=!1,n.modulo==9?(e=St(r,t.abs(),0,3,1),e.s*=t.s):e=St(r,t,0,n.modulo,1),e=e.times(t),st=!0,r.minus(e))};I.naturalExponential=I.exp=function(){return Ps(this)};I.naturalLogarithm=I.ln=function(){return Er(this)};I.negated=I.neg=function(){var t=new this.constructor(this);return t.s=-t.s,rt(t)};I.plus=I.add=function(t){var e,r,n,i,a,s,o,u,h,f,l=this,c=l.constructor;if(t=new c(t),!l.d||!t.d)return!l.s||!t.s?t=new c(NaN):l.d||(t=new c(t.d||l.s===t.s?l:NaN)),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(h=l.d,f=t.d,o=c.precision,u=c.rounding,!h[0]||!f[0])return f[0]||(t=new c(l)),st?rt(t,o,u):t;if(a=me(l.e/it),n=me(t.e/it),h=h.slice(),i=a-n,i){for(i<0?(r=h,i=-i,s=f.length):(r=f,n=a,s=h.length),a=Math.ceil(o/it),s=a>s?a+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=h.length,i=f.length,s-i<0&&(i=s,r=f,f=h,h=r),e=0;i;)e=(h[--i]=h[i]+f[i]+e)/je|0,h[i]%=je;for(e&&(h.unshift(e),++n),s=h.length;h[--s]==0;)h.pop();return t.d=h,t.e=Oa(h,n),st?rt(t,o,u):t};I.precision=I.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Br+t);return r.d?(e=Bf(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};I.round=function(){var t=this,e=t.constructor;return rt(new e(t),t.e+1,e.rounding)};I.sine=I.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+it,n.rounding=1,r=ap(n,Pf(n,r)),n.precision=t,n.rounding=e,rt(cr>2?r.neg():r,t,e,!0)):new n(NaN)};I.squareRoot=I.sqrt=function(){var t,e,r,n,i,a,s=this,o=s.d,u=s.e,h=s.s,f=s.constructor;if(h!==1||!o||!o[0])return new f(!h||h<0&&(!o||o[0])?NaN:o?s:1/0);for(st=!1,h=Math.sqrt(+s),h==0||h==1/0?(e=he(o),(e.length+u)%2==0&&(e+="0"),h=Math.sqrt(e),u=me((u+1)/2)-(u<0||u%2),h==1/0?e="5e"+u:(e=h.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new f(e)):n=new f(h.toString()),r=(u=f.precision)+3;;)if(a=n,n=a.plus(St(s,a,r+2,1)).times(.5),he(a.d).slice(0,r)===(e=he(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(rt(a,u+1,0),a.times(a).eq(s))){n=a;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(rt(n,u+1,1),t=!n.times(n).eq(s));break}return st=!0,rt(n,u,f.rounding,t)};I.tangent=I.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=St(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,rt(cr==2||cr==4?r.neg():r,t,e,!0)):new n(NaN)};I.times=I.mul=function(t){var e,r,n,i,a,s,o,u,h,f=this,l=f.constructor,c=f.d,v=(t=new l(t)).d;if(t.s*=f.s,!c||!c[0]||!v||!v[0])return new l(!t.s||c&&!c[0]&&!v||v&&!v[0]&&!c?NaN:!c||!v?t.s/0:t.s*0);for(r=me(f.e/it)+me(t.e/it),u=c.length,h=v.length,u<h&&(a=c,c=v,v=a,s=u,u=h,h=s),a=[],s=u+h,n=s;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=u+n;i>n;)o=a[i]+v[n]*c[i-n-1]+e,a[i--]=o%je|0,e=o/je|0;a[i]=(a[i]+e)%je|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=Oa(a,r),st?rt(t,l.precision,l.rounding):t};I.toBinary=function(t,e){return yo(this,2,t,e)};I.toDecimalPlaces=I.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(xe(t,0,kr),e===void 0?e=n.rounding:xe(e,0,8),rt(r,t+r.e+1,e))};I.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=nr(n,!0):(xe(t,0,kr),e===void 0?e=i.rounding:xe(e,0,8),n=rt(new i(n),t+1,e),r=nr(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?r=nr(i):(xe(t,0,kr),e===void 0?e=a.rounding:xe(e,0,8),n=rt(new a(i),t+i.e+1,e),r=nr(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};I.toFraction=function(t){var e,r,n,i,a,s,o,u,h,f,l,c,v=this,g=v.d,d=v.constructor;if(!g)return new d(v);if(h=r=new d(1),n=u=new d(0),e=new d(n),a=e.e=Bf(g)-v.e-1,s=a%it,e.d[0]=Xt(10,s<0?it+s:s),t==null)t=a>0?e:h;else{if(o=new d(t),!o.isInt()||o.lt(h))throw Error(Br+o);t=o.gt(e)?a>0?e:h:o}for(st=!1,o=new d(he(g)),f=d.precision,d.precision=a=g.length*it*2;l=St(o,e,0,1,1),i=r.plus(l.times(n)),i.cmp(t)!=1;)r=n,n=i,i=h,h=u.plus(l.times(i)),u=i,i=e,e=o.minus(l.times(i)),o=i;return i=St(t.minus(r),n,0,1,1),u=u.plus(i.times(h)),r=r.plus(i.times(n)),u.s=h.s=v.s,c=St(h,n,a,1).minus(v).abs().cmp(St(u,r,a,1).minus(v).abs())<1?[h,n]:[u,r],d.precision=f,st=!0,c};I.toHexadecimal=I.toHex=function(t,e){return yo(this,16,t,e)};I.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:xe(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(st=!1,r=St(r,t,0,e,1).times(t),st=!0,rt(r)):(t.s=r.s,r=t),r};I.toNumber=function(){return+this};I.toOctal=function(t,e){return yo(this,8,t,e)};I.toPower=I.pow=function(t){var e,r,n,i,a,s,o=this,u=o.constructor,h=+(t=new u(t));if(!o.d||!t.d||!o.d[0]||!t.d[0])return new u(Xt(+o,h));if(o=new u(o),o.eq(1))return o;if(n=u.precision,a=u.rounding,t.eq(1))return rt(o,n,a);if(e=me(t.e/it),e>=t.d.length-1&&(r=h<0?-h:h)<=ep)return i=Of(u,o,r,n),t.s<0?new u(1).div(i):rt(i,n,a);if(s=o.s,s<0){if(e<t.d.length-1)return new u(NaN);if((t.d[e]&1)==0&&(s=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=s,o}return r=Xt(+o,h),e=r==0||!isFinite(r)?me(h*(Math.log("0."+he(o.d))/Math.LN10+o.e+1)):new u(r+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?s/0:0):(st=!1,u.rounding=o.s=1,r=Math.min(12,(e+"").length),i=Ps(t.times(Er(o,n+r)),n),i.d&&(i=rt(i,n+5,1),Xn(i.d,n,a)&&(e=n+10,i=rt(Ps(t.times(Er(o,e+r)),e),e+5,1),+he(i.d).slice(n+1,n+15)+1==1e14&&(i=rt(i,n+1,0)))),i.s=s,st=!0,u.rounding=a,rt(i,n,a))};I.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=nr(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(xe(t,1,kr),e===void 0?e=i.rounding:xe(e,0,8),n=rt(new i(n),t,e),r=nr(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};I.toSignificantDigits=I.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(xe(t,1,kr),e===void 0?e=n.rounding:xe(e,0,8)),rt(new n(r),t,e)};I.toString=function(){var t=this,e=t.constructor,r=nr(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};I.truncated=I.trunc=function(){return rt(new this.constructor(this),this.e+1,1)};I.valueOf=I.toJSON=function(){var t=this,e=t.constructor,r=nr(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function he(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=it-n.length,r&&(a+=wr(r)),a+=n;s=t[e],n=s+"",r=it-n.length,r&&(a+=wr(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}function xe(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Br+t)}function Xn(t,e,r,n){var i,a,s,o;for(a=t[0];a>=10;a/=10)--e;return--e<0?(e+=it,i=0):(i=Math.ceil((e+1)/it),e%=it),a=Xt(10,it-e),o=t[i]%a|0,n==null?e<3?(e==0?o=o/100|0:e==1&&(o=o/10|0),s=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):s=(r<4&&o+1==a||r>3&&o+1==a/2)&&(t[i+1]/a/100|0)==Xt(10,e-2)-1||(o==a/2||o==0)&&(t[i+1]/a/100|0)==0:e<4?(e==0?o=o/1e3|0:e==1?o=o/100|0:e==2&&(o=o/10|0),s=(n||r<4)&&o==9999||!n&&r>3&&o==4999):s=((n||r<4)&&o+1==a||!n&&r>3&&o+1==a/2)&&(t[i+1]/a/1e3|0)==Xt(10,e-3)-1,s}function Gi(t,e,r){for(var n,i=[0],a,s=0,o=t.length;s<o;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Os.indexOf(t.charAt(s++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function np(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/ka(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=En(t,1,e.times(i),new t(1));for(var a=r;a--;){var s=e.times(e);e=s.times(s).minus(s).times(8).plus(1)}return t.precision-=r,e}var St=function(){function t(n,i,a){var s,o=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+o,n[u]=s%a|0,o=s/a|0;return o&&n.unshift(o),n}function e(n,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(n[o]!=i[o]){u=n[o]>i[o]?1:-1;break}return u}function r(n,i,a,s){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*s+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s,o,u){var h,f,l,c,v,g,d,m,y,M,p,E,_,D,C,b,A,S,B,$,J=n.constructor,U=n.s==i.s?1:-1,V=n.d,T=i.d;if(!V||!V[0]||!T||!T[0])return new J(!n.s||!i.s||(V?T&&V[0]==T[0]:!T)?NaN:V&&V[0]==0||!T?U*0:U/0);for(u?(v=1,f=n.e-i.e):(u=je,v=it,f=me(n.e/v)-me(i.e/v)),B=T.length,A=V.length,y=new J(U),M=y.d=[],l=0;T[l]==(V[l]||0);l++);if(T[l]>(V[l]||0)&&f--,a==null?(D=a=J.precision,s=J.rounding):o?D=a+(n.e-i.e)+1:D=a,D<0)M.push(1),g=!0;else{if(D=D/v+2|0,l=0,B==1){for(c=0,T=T[0],D++;(l<A||c)&&D--;l++)C=c*u+(V[l]||0),M[l]=C/T|0,c=C%T|0;g=c||l<A}else{for(c=u/(T[0]+1)|0,c>1&&(T=t(T,c,u),V=t(V,c,u),B=T.length,A=V.length),b=B,p=V.slice(0,B),E=p.length;E<B;)p[E++]=0;$=T.slice(),$.unshift(0),S=T[0],T[1]>=u/2&&++S;do c=0,h=e(T,p,B,E),h<0?(_=p[0],B!=E&&(_=_*u+(p[1]||0)),c=_/S|0,c>1?(c>=u&&(c=u-1),d=t(T,c,u),m=d.length,E=p.length,h=e(d,p,m,E),h==1&&(c--,r(d,B<m?$:T,m,u))):(c==0&&(h=c=1),d=T.slice()),m=d.length,m<E&&d.unshift(0),r(p,d,E,u),h==-1&&(E=p.length,h=e(T,p,B,E),h<1&&(c++,r(p,B<E?$:T,E,u))),E=p.length):h===0&&(c++,p=[0]),M[l++]=c,h&&p[0]?p[E++]=V[b]||0:(p=[V[b]],E=1);while((b++<A||p[0]!==void 0)&&D--);g=p[0]!==void 0}M[0]||M.shift()}if(v==1)y.e=f,Ff=g;else{for(l=1,c=M[0];c>=10;c/=10)l++;y.e=l+f*v-1,rt(y,o?a+y.e+1:a,s,g)}return y}}();function rt(t,e,r,n){var i,a,s,o,u,h,f,l,c,v=t.constructor;t:if(e!=null){if(l=t.d,!l)return t;for(i=1,o=l[0];o>=10;o/=10)i++;if(a=e-i,a<0)a+=it,s=e,f=l[c=0],u=f/Xt(10,i-s-1)%10|0;else if(c=Math.ceil((a+1)/it),o=l.length,c>=o)if(n){for(;o++<=c;)l.push(0);f=u=0,i=1,a%=it,s=a-it+1}else break t;else{for(f=o=l[c],i=1;o>=10;o/=10)i++;a%=it,s=a-it+i,u=s<0?0:f/Xt(10,i-s-1)%10|0}if(n=n||e<0||l[c+1]!==void 0||(s<0?f:f%Xt(10,i-s-1)),h=r<4?(u||n)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||n||r==6&&(a>0?s>0?f/Xt(10,i-s):0:l[c-1])%10&1||r==(t.s<0?8:7)),e<1||!l[0])return l.length=0,h?(e-=t.e+1,l[0]=Xt(10,(it-e%it)%it),t.e=-e||0):l[0]=t.e=0,t;if(a==0?(l.length=c,o=1,c--):(l.length=c+1,o=Xt(10,it-a),l[c]=s>0?(f/Xt(10,i-s)%Xt(10,s)|0)*o:0),h)for(;;)if(c==0){for(a=1,s=l[0];s>=10;s/=10)a++;for(s=l[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(t.e++,l[0]==je&&(l[0]=1));break}else{if(l[c]+=o,l[c]!=je)break;l[c--]=0,o=1}for(a=l.length;l[--a]===0;)l.pop()}return st&&(t.e>v.maxE?(t.d=null,t.e=NaN):t.e<v.minE&&(t.e=0,t.d=[0])),t}function nr(t,e,r){if(!t.isFinite())return If(t);var n,i=t.e,a=he(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+wr(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+wr(-i-1)+a,r&&(n=r-s)>0&&(a+=wr(n))):i>=s?(a+=wr(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+wr(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=wr(n))),a}function Oa(t,e){var r=t[0];for(e*=it;r>=10;r/=10)e++;return e}function ya(t,e,r){if(e>rp)throw st=!0,r&&(t.precision=r),Error(xf);return rt(new t(ma),e,1,!0)}function tr(t,e,r){if(e>Is)throw Error(xf);return rt(new t(ga),e,r,!0)}function Bf(t){var e=t.length-1,r=e*it+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function wr(t){for(var e="";t--;)e+="0";return e}function Of(t,e,r,n){var i,a=new t(1),s=Math.ceil(n/it+4);for(st=!1;;){if(r%2&&(a=a.times(e),Zu(a.d,s)&&(i=!0)),r=me(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}e=e.times(e),Zu(e.d,s)}return st=!0,a}function Hu(t){return t.d[t.d.length-1]&1}function kf(t,e,r){for(var n,i,a=new t(e[0]),s=0;++s<e.length;){if(i=new t(e[s]),!i.s){a=i;break}n=a.cmp(i),(n===r||n===0&&a.s===r)&&(a=i)}return a}function Ps(t,e){var r,n,i,a,s,o,u,h=0,f=0,l=0,c=t.constructor,v=c.rounding,g=c.precision;if(!t.d||!t.d[0]||t.e>17)return new c(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(st=!1,u=g):u=e,o=new c(.03125);t.e>-2;)t=t.times(o),l+=5;for(n=Math.log(Xt(2,l))/Math.LN10*2+5|0,u+=n,r=a=s=new c(1),c.precision=u;;){if(a=rt(a.times(t),u,1),r=r.times(++f),o=s.plus(St(a,r,u,1)),he(o.d).slice(0,u)===he(s.d).slice(0,u)){for(i=l;i--;)s=rt(s.times(s),u,1);if(e==null)if(h<3&&Xn(s.d,u-n,v,h))c.precision=u+=10,r=a=o=new c(1),f=0,h++;else return rt(s,c.precision=g,v,st=!0);else return c.precision=g,s}s=o}}function Er(t,e){var r,n,i,a,s,o,u,h,f,l,c,v=1,g=10,d=t,m=d.d,y=d.constructor,M=y.rounding,p=y.precision;if(d.s<0||!m||!m[0]||!d.e&&m[0]==1&&m.length==1)return new y(m&&!m[0]?-1/0:d.s!=1?NaN:m?0:d);if(e==null?(st=!1,f=p):f=e,y.precision=f+=g,r=he(m),n=r.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(t),r=he(d.d),n=r.charAt(0),v++;a=d.e,n>1?(d=new y("0."+r),a++):d=new y(n+"."+r.slice(1))}else return h=ya(y,f+2,p).times(a+""),d=Er(new y(n+"."+r.slice(1)),f-g).plus(h),y.precision=p,e==null?rt(d,p,M,st=!0):d;for(l=d,u=s=d=St(d.minus(1),d.plus(1),f,1),c=rt(d.times(d),f,1),i=3;;){if(s=rt(s.times(c),f,1),h=u.plus(St(s,new y(i),f,1)),he(h.d).slice(0,f)===he(u.d).slice(0,f))if(u=u.times(2),a!==0&&(u=u.plus(ya(y,f+2,p).times(a+""))),u=St(u,new y(v),f,1),e==null)if(Xn(u.d,f-g,M,o))y.precision=f+=g,h=s=d=St(l.minus(1),l.plus(1),f,1),c=rt(d.times(d),f,1),i=o=1;else return rt(u,y.precision=p,M,st=!0);else return y.precision=p,u;u=h,i+=2}}function If(t){return String(t.s*t.s/0)}function Hi(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%it,r<0&&(n+=it),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=it;n<i;)t.d.push(+e.slice(n,n+=it));e=e.slice(n),n=it-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),st&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function ip(t,e){var r,n,i,a,s,o,u,h,f;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Tf.test(e))return Hi(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Ky.test(e))r=16,e=e.toLowerCase();else if(Xy.test(e))r=2;else if(tp.test(e))r=8;else throw Error(Br+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),s=a>=0,n=t.constructor,s&&(e=e.replace(".",""),o=e.length,a=o-a,i=Of(n,new n(r),a,a*2)),h=Gi(e,r,je),f=h.length-1,a=f;h[a]===0;--a)h.pop();return a<0?new n(t.s*0):(t.e=Oa(h,f),t.d=h,st=!1,s&&(t=St(t,i,o*4)),u&&(t=t.times(Math.abs(u)<54?Xt(2,u):bn.pow(2,u))),st=!0,t)}function ap(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:En(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/ka(5,r)),e=En(t,2,e,e);for(var i,a=new t(5),s=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(a.plus(i.times(s.times(i).minus(o))));return e}function En(t,e,r,n,i){var a,s,o,u,h=t.precision,f=Math.ceil(h/it);for(st=!1,u=r.times(r),o=new t(n);;){if(s=St(o.times(u),new t(e++*e++),h,1),o=i?n.plus(s):n.minus(s),n=St(s.times(u),new t(e++*e++),h,1),s=o.plus(n),s.d[f]!==void 0){for(a=f;s.d[a]===o.d[a]&&a--;);if(a==-1)break}a=o,o=n,n=s,s=a}return st=!0,s.d.length=f+1,s}function ka(t,e){for(var r=t;--e;)r*=t;return r}function Pf(t,e){var r,n=e.s<0,i=tr(t,t.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return cr=n?4:1,e;if(r=e.divToInt(i),r.isZero())cr=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(a))return cr=Hu(r)?n?2:3:n?4:1,e;cr=Hu(r)?n?1:4:n?3:2}return e.minus(i).abs()}function yo(t,e,r,n){var i,a,s,o,u,h,f,l,c,v=t.constructor,g=r!==void 0;if(g?(xe(r,1,kr),n===void 0?n=v.rounding:xe(n,0,8)):(r=v.precision,n=v.rounding),!t.isFinite())f=If(t);else{for(f=nr(t),s=f.indexOf("."),g?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,s>=0&&(f=f.replace(".",""),c=new v(1),c.e=f.length-s,c.d=Gi(nr(c),10,i),c.e=c.d.length),l=Gi(f,10,i),a=u=l.length;l[--u]==0;)l.pop();if(!l[0])f=g?"0p+0":"0";else{if(s<0?a--:(t=new v(t),t.d=l,t.e=a,t=St(t,c,r,n,0,i),l=t.d,a=t.e,h=Ff),s=l[r],o=i/2,h=h||l[r+1]!==void 0,h=n<4?(s!==void 0||h)&&(n===0||n===(t.s<0?3:2)):s>o||s===o&&(n===4||h||n===6&&l[r-1]&1||n===(t.s<0?8:7)),l.length=r,h)for(;++l[--r]>i-1;)l[r]=0,r||(++a,l.unshift(1));for(u=l.length;!l[u-1];--u);for(s=0,f="";s<u;s++)f+=Os.charAt(l[s]);if(g){if(u>1)if(e==16||e==8){for(s=e==16?4:3,--u;u%s;u++)f+="0";for(l=Gi(f,i,e),u=l.length;!l[u-1];--u);for(s=1,f="1.";s<u;s++)f+=Os.charAt(l[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)f="0"+f;f="0."+f}else if(++a>u)for(a-=u;a--;)f+="0";else a<u&&(f=f.slice(0,a)+"."+f.slice(a))}f=(e==16?"0x":e==2?"0b":e==8?"0o":"")+f}return t.s<0?"-"+f:f}function Zu(t,e){if(t.length>e)return t.length=e,!0}function sp(t){return new this(t).abs()}function op(t){return new this(t).acos()}function up(t){return new this(t).acosh()}function hp(t,e){return new this(t).plus(e)}function fp(t){return new this(t).asin()}function lp(t){return new this(t).asinh()}function cp(t){return new this(t).atan()}function dp(t){return new this(t).atanh()}function vp(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,a=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=tr(this,a,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?tr(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=tr(this,a,1).times(.5),r.s=t.s):e.s<0?(this.precision=a,this.rounding=1,r=this.atan(St(t,e,a,1)),e=tr(this,a,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(St(t,e,a,1)),r}function mp(t){return new this(t).cbrt()}function gp(t){return rt(t=new this(t),t.e+1,2)}function yp(t,e,r){return new this(t).clamp(e,r)}function pp(t){if(!t||typeof t!="object")throw Error(Ba+"Object expected");var e,r,n,i=t.defaults===!0,a=["precision",1,kr,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,Bs,"maxE",0,Bs,"minE",-9e15,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(r=a[e],i&&(this[r]=ks[r]),(n=t[r])!==void 0)if(me(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Br+r+": "+n);if(r="crypto",i&&(this[r]=ks[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Sf);else this[r]=!1;else throw Error(Br+r+": "+n);return this}function _p(t){return new this(t).cos()}function Dp(t){return new this(t).cosh()}function Rf(t){var e,r,n;function i(a){var s,o,u,h=this;if(!(h instanceof i))return new i(a);if(h.constructor=i,Qu(a)){h.s=a.s,st?!a.d||a.e>i.maxE?(h.e=NaN,h.d=null):a.e<i.minE?(h.e=0,h.d=[0]):(h.e=a.e,h.d=a.d.slice()):(h.e=a.e,h.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){h.s=1/a<0?-1:1,h.e=0,h.d=[0];return}if(a<0?(a=-a,h.s=-1):h.s=1,a===~~a&&a<1e7){for(s=0,o=a;o>=10;o/=10)s++;st?s>i.maxE?(h.e=NaN,h.d=null):s<i.minE?(h.e=0,h.d=[0]):(h.e=s,h.d=[a]):(h.e=s,h.d=[a]);return}if(a*0!==0){a||(h.s=NaN),h.e=NaN,h.d=null;return}return Hi(h,a.toString())}if(u==="string")return(o=a.charCodeAt(0))===45?(a=a.slice(1),h.s=-1):(o===43&&(a=a.slice(1)),h.s=1),Tf.test(a)?Hi(h,a):ip(h,a);if(u==="bigint")return a<0?(a=-a,h.s=-1):h.s=1,Hi(h,a.toString());throw Error(Br+a)}if(i.prototype=I,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=pp,i.clone=Rf,i.isDecimal=Qu,i.abs=sp,i.acos=op,i.acosh=up,i.add=hp,i.asin=fp,i.asinh=lp,i.atan=cp,i.atanh=dp,i.atan2=vp,i.cbrt=mp,i.ceil=gp,i.clamp=yp,i.cos=_p,i.cosh=Dp,i.div=Mp,i.exp=wp,i.floor=Ap,i.hypot=Ep,i.ln=bp,i.log=Cp,i.log10=xp,i.log2=Fp,i.max=Sp,i.min=Np,i.mod=Tp,i.mul=Bp,i.pow=Op,i.random=kp,i.round=Ip,i.sign=Pp,i.sin=Rp,i.sinh=Lp,i.sqrt=Yp,i.sub=$p,i.sum=zp,i.tan=qp,i.tanh=Up,i.trunc=Wp,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Mp(t,e){return new this(t).div(e)}function wp(t){return new this(t).exp()}function Ap(t){return rt(t=new this(t),t.e+1,3)}function Ep(){var t,e,r=new this(0);for(st=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return st=!0,new this(1/0);r=e}return st=!0,r.sqrt()}function Qu(t){return t instanceof bn||t&&t.toStringTag===Nf||!1}function bp(t){return new this(t).ln()}function Cp(t,e){return new this(t).log(e)}function Fp(t){return new this(t).log(2)}function xp(t){return new this(t).log(10)}function Sp(){return kf(this,arguments,-1)}function Np(){return kf(this,arguments,1)}function Tp(t,e){return new this(t).mod(e)}function Bp(t,e){return new this(t).mul(e)}function Op(t,e){return new this(t).pow(e)}function kp(t){var e,r,n,i,a=0,s=new this(1),o=[];if(t===void 0?t=this.precision:xe(t,1,kr),n=Math.ceil(t/it),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(o.push(i%1e7),a+=4);a=n/4}else throw Error(Sf);else for(;a<n;)o[a++]=Math.random()*1e7|0;for(n=o[--a],t%=it,n&&t&&(i=Xt(10,it-t),o[a]=(n/i|0)*i);o[a]===0;a--)o.pop();if(a<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=it)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<it&&(r-=it-n)}return s.e=r,s.d=o,s}function Ip(t){return rt(t=new this(t),t.e+1,this.rounding)}function Pp(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function Rp(t){return new this(t).sin()}function Lp(t){return new this(t).sinh()}function Yp(t){return new this(t).sqrt()}function $p(t,e){return new this(t).sub(e)}function zp(){var t=0,e=arguments,r=new this(e[t]);for(st=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return st=!0,rt(r,this.precision,this.rounding)}function qp(t){return new this(t).tan()}function Up(t){return new this(t).tanh()}function Wp(t){return rt(t=new this(t),t.e+1,1)}I[Symbol.for("nodejs.util.inspect.custom")]=I.toString;I[Symbol.toStringTag]="Decimal";var bn=I.constructor=Rf(ks);ma=new bn(ma);ga=new bn(ga);var Vp="BigNumber",jp=["?on","config"],Gp=ct(Vp,jp,t=>{var{on:e,config:r}=t,n=bn.clone({precision:r.precision,modulo:bn.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const fe=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Ie=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},Hp=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},cs=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},tn=function(){throw SyntaxError("Invalid Param")};function ds(t,e){const r=Math.abs(t),n=Math.abs(e);return t===0?Math.log(n):e===0?Math.log(r):r<3e3&&n<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const Zp={re:0,im:0},Pr=function(t,e){const r=Zp;if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return N.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return N.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):tn();break;case"string":r.im=r.re=0;const n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;n===null&&tn();for(let s=0;s<n.length;s++){const o=n[s];o===" "||o==="	"||o==="\n"||(o==="+"?i++:o==="-"?a++:o==="i"||o==="I"?(i+a===0&&tn(),n[s+1]!==" "&&!isNaN(n[s+1])?(r.im+=parseFloat((a%2?"-":"")+n[s+1]),s++):r.im+=parseFloat((a%2?"-":"")+"1"),i=a=0):((i+a===0||isNaN(o))&&tn(),n[s+1]==="i"||n[s+1]==="I"?(r.im+=parseFloat((a%2?"-":"")+o),s++):r.re+=parseFloat((a%2?"-":"")+o),i=a=0))}i+a>0&&tn();break;case"number":r.im=0,r.re=t;break;default:tn()}return isNaN(r.re)||isNaN(r.im),r};function N(t,e){if(!(this instanceof N))return new N(t,e);const r=Pr(t,e);this.re=r.re,this.im=r.im}N.prototype={re:0,im:0,sign:function(){const t=cs(this.re,this.im);return new N(this.re/t,this.im/t)},add:function(t,e){const r=Pr(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?N.NAN:N.INFINITY:new N(this.re+r.re,this.im+r.im)},sub:function(t,e){const r=Pr(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?N.NAN:N.INFINITY:new N(this.re-r.re,this.im-r.im)},mul:function(t,e){const r=Pr(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;return n&&s||i&&a?N.NAN:n||i?N.INFINITY:r.im===0&&this.im===0?new N(this.re*r.re,0):new N(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){const r=Pr(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),a=this.re===0&&this.im===0,s=r.re===0&&r.im===0;if(a&&s||n&&i)return N.NAN;if(s||n)return N.INFINITY;if(a||i)return N.ZERO;if(r.im===0)return new N(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const o=r.re/r.im,u=r.re*o+r.im;return new N((this.re*o+this.im)/u,(this.im*o-this.re)/u)}else{const o=r.im/r.re,u=r.im*o+r.re;return new N((this.re+this.im*o)/u,(this.im-this.re*o)/u)}},pow:function(t,e){const r=Pr(t,e),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return N.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new N(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new N(Math.pow(this.im,r.re),0);case 1:return new N(0,Math.pow(this.im,r.re));case 2:return new N(-Math.pow(this.im,r.re),0);case 3:return new N(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return N.ZERO;const a=Math.atan2(this.im,this.re),s=ds(this.re,this.im);let o=Math.exp(r.re*s-r.im*a),u=r.im*s+r.re*a;return new N(o*Math.cos(u),o*Math.sin(u))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new N(Math.sqrt(t),0):new N(0,Math.sqrt(-t));const r=cs(t,e);let n=Math.sqrt(.5*(r+Math.abs(t))),i=Math.abs(e)/(2*n);return t>=0?new N(n,e<0?-i:i):new N(i,e<0?-n:n)},exp:function(){const t=Math.exp(this.re);return this.im===0?new N(t,0):new N(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new N(Math.expm1(t)*Math.cos(e)+Hp(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new N(Math.log(t),0):new N(ds(t,e),Math.atan2(e,t))},abs:function(){return cs(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new N(Math.sin(t)*fe(e),Math.cos(t)*Ie(e))},cos:function(){const t=this.re,e=this.im;return new N(Math.cos(t)*fe(e),-Math.sin(t)*Ie(e))},tan:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)+fe(e);return new N(Math.sin(t)/r,Ie(e)/r)},cot:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)-fe(e);return new N(-Math.sin(t)/r,Ie(e)/r)},sec:function(){const t=this.re,e=this.im,r=.5*fe(2*e)+.5*Math.cos(2*t);return new N(Math.cos(t)*fe(e)/r,Math.sin(t)*Ie(e)/r)},csc:function(){const t=this.re,e=this.im,r=.5*fe(2*e)-.5*Math.cos(2*t);return new N(Math.sin(t)*fe(e)/r,-Math.cos(t)*Ie(e)/r)},asin:function(){const t=this.re,e=this.im,r=new N(e*e-t*t+1,-2*t*e).sqrt(),n=new N(r.re-e,r.im+t).log();return new N(n.im,-n.re)},acos:function(){const t=this.re,e=this.im,r=new N(e*e-t*t+1,-2*t*e).sqrt(),n=new N(r.re-e,r.im+t).log();return new N(Math.PI/2-n.im,n.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new N(0,1/0);if(e===-1)return new N(0,-1/0)}const r=t*t+(1-e)*(1-e),n=new N((1-e*e-t*t)/r,-2*t/r).log();return new N(-.5*n.im,.5*n.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new N(Math.atan2(1,t),0);const r=t*t+e*e;return r!==0?new N(t/r,-e/r).atan():new N(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new N(0,1/0);const r=t*t+e*e;return r!==0?new N(t/r,-e/r).acos():new N(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new N(Math.PI/2,1/0);const r=t*t+e*e;return r!==0?new N(t/r,-e/r).asin():new N(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new N(Ie(t)*Math.cos(e),fe(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new N(fe(t)*Math.cos(e),Ie(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,r=fe(t)+Math.cos(e);return new N(Ie(t)/r,Math.sin(e)/r)},coth:function(){const t=2*this.re,e=2*this.im,r=fe(t)-Math.cos(e);return new N(Ie(t)/r,-Math.sin(e)/r)},csch:function(){const t=this.re,e=this.im,r=Math.cos(2*e)-fe(2*t);return new N(-2*Ie(t)*Math.cos(e)/r,2*fe(t)*Math.sin(e)/r)},sech:function(){const t=this.re,e=this.im,r=Math.cos(2*e)+fe(2*t);return new N(2*fe(t)*Math.cos(e)/r,-2*Ie(t)*Math.sin(e)/r)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,r=t>1&&e===0,n=1-t,i=1+t,a=n*n+e*e,s=a!==0?new N((i*n-e*e)/a,(e*n+i*e)/a):new N(t!==-1?t/0:0,e!==0?e/0:0),o=s.re;return s.re=ds(s.re,s.im)/2,s.im=Math.atan2(s.im,o)/2,r&&(s.im=-s.im),s},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new N(0,Math.PI/2);const r=t*t+e*e;return r!==0?new N(t/r,-e/r).atanh():new N(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new N(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const r=t*t+e*e;return r!==0?new N(t/r,-e/r).asinh():new N(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return N.INFINITY;const r=t*t+e*e;return r!==0?new N(t/r,-e/r).acosh():new N(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return N.INFINITY;if(this.isInfinite())return N.ZERO;const t=this.re,e=this.im,r=t*t+e*e;return new N(t/r,-e/r)},conjugate:function(){return new N(this.re,-this.im)},neg:function(){return new N(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new N(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new N(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new N(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const r=Pr(t,e);return Math.abs(r.re-this.re)<=N.EPSILON&&Math.abs(r.im-this.im)<=N.EPSILON},clone:function(){return new N(this.re,this.im)},toString:function(){let t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<N.EPSILON&&(t=0),Math.abs(e)<N.EPSILON&&(e=0),e===0?r+t:(t!==0?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),e!==1&&(r+=e),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};N.ZERO=new N(0,0);N.ONE=new N(1,0);N.I=new N(0,1);N.PI=new N(Math.PI,0);N.E=new N(Math.E,0);N.INFINITY=new N(1/0,1/0);N.NAN=new N(NaN,NaN);N.EPSILON=1e-15;var Qp="Complex",Jp=[],Xp=ct(Qp,Jp,()=>(Object.defineProperty(N,"name",{value:"Complex"}),N.prototype.constructor=N,N.prototype.type="Complex",N.prototype.isComplex=!0,N.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},N.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},N.prototype.format=function(t){var e="",r=this.im,n=this.re,i=Ts(this.re,t),a=Ts(this.im,t),s=Tt(t)?t:t?t.precision:null;if(s!==null){var o=Math.pow(10,-s);Math.abs(n/r)<o&&(n=0),Math.abs(r/n)<o&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=a+"i":r<0?r===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+a+"i",e},N.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return N(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(Tt(r)){if(wf(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),Tt(n))return new N({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},N.prototype.valueOf=N.prototype.toString,N.fromJSON=function(t){return new N(t)},N.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},N),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const et=BigInt(0),ht=BigInt(1),Kn=BigInt(2),Rs=BigInt(5),Ee=BigInt(10),Kp=2e3,q={s:ht,n:et,d:ht};function hr(t,e){try{t=BigInt(t)}catch(r){throw Mr()}return t*e}function Ue(t){return typeof t=="bigint"?t:Math.floor(t)}function It(t,e){if(e===et)throw po();const r=Object.create(Re.prototype);r.s=t<et?-ht:ht,t=t<et?-t:t;const n=Lr(t,e);return r.n=t/n,r.d=e/n,r}function en(t){const e={};let r=t,n=Kn,i=Rs-ht;for(;i<=r;){for(;r%n===et;)r/=n,e[n]=(e[n]||et)+ht;i+=ht+Kn*n++}return r!==t?r>1&&(e[r]=(e[r]||et)+ht):e[t]=(e[t]||et)+ht,e}const ne=function(t,e){let r=et,n=ht,i=ht;if(t!=null)if(e!==void 0){if(typeof t=="bigint")r=t;else{if(isNaN(t))throw Mr();if(t%1!==0)throw Ju();r=BigInt(t)}if(typeof e=="bigint")n=e;else{if(isNaN(e))throw Mr();if(e%1!==0)throw Ju();n=BigInt(e)}i=r*n}else if(typeof t=="object"){if("d"in t&&"n"in t)r=BigInt(t.n),n=BigInt(t.d),"s"in t&&(r*=BigInt(t.s));else if(0 in t)r=BigInt(t[0]),1 in t&&(n=BigInt(t[1]));else if(typeof t=="bigint")r=t;else throw Mr();i=r*n}else if(typeof t=="number"){if(isNaN(t))throw Mr();if(t<0&&(i=-ht,t=-t),t%1===0)r=BigInt(t);else{let a=1,s=0,o=1,u=1,h=1,f=1e7;for(t>=1&&(a=10**Math.floor(1+Math.log10(t)),t/=a);o<=f&&h<=f;){let l=(s+u)/(o+h);if(t===l){o+h<=f?(r=s+u,n=o+h):h>o?(r=u,n=h):(r=s,n=o);break}else t>l?(s+=u,o+=h):(u+=s,h+=o),o>f?(r=u,n=h):(r=s,n=o)}r=BigInt(r)*BigInt(a),n=BigInt(n)}}else if(typeof t=="string"){let a=0,s=et,o=et,u=et,h=ht,f=ht,l=t.replace(/_/g,"").match(/\d+|./g);if(l===null)throw Mr();if(l[a]==="-"?(i=-ht,a++):l[a]==="+"&&a++,l.length===a+1?o=hr(l[a++],i):l[a+1]==="."||l[a]==="."?(l[a]!=="."&&(s=hr(l[a++],i)),a++,(a+1===l.length||l[a+1]==="("&&l[a+3]===")"||l[a+1]==="'"&&l[a+3]==="'")&&(o=hr(l[a],i),h=Ee**BigInt(l[a].length),a++),(l[a]==="("&&l[a+2]===")"||l[a]==="'"&&l[a+2]==="'")&&(u=hr(l[a+1],i),f=Ee**BigInt(l[a+1].length)-ht,a+=3)):l[a+1]==="/"||l[a+1]===":"?(o=hr(l[a],i),h=hr(l[a+2],ht),a+=3):l[a+3]==="/"&&l[a+1]===" "&&(s=hr(l[a],i),o=hr(l[a+2],i),h=hr(l[a+4],ht),a+=5),l.length<=a)n=h*f,i=r=u+n*s+f*o;else throw Mr()}else if(typeof t=="bigint")r=t,i=t,n=ht;else throw Mr();if(n===et)throw po();q.s=i<et?-ht:ht,q.n=r<et?-r:r,q.d=n<et?-n:n};function t_(t,e,r){let n=ht;for(;e>et;t=t*t%r,e>>=ht)e&ht&&(n=n*t%r);return n}function e_(t,e){for(;e%Kn===et;e/=Kn);for(;e%Rs===et;e/=Rs);if(e===ht)return et;let r=Ee%e,n=1;for(;r!==ht;n++)if(r=r*Ee%e,n>Kp)return et;return BigInt(n)}function r_(t,e,r){let n=ht,i=t_(Ee,r,e);for(let a=0;a<300;a++){if(n===i)return BigInt(a);n=n*Ee%e,i=i*Ee%e}return 0}function Lr(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function Re(t,e){if(ne(t,e),this instanceof Re)t=Lr(q.d,q.n),this.s=q.s,this.n=q.n/t,this.d=q.d/t;else return It(q.s*q.n,q.d)}var po=function(){return new Error("Division by Zero")},Mr=function(){return new Error("Invalid argument")},Ju=function(){return new Error("Parameters must be integer")};Re.prototype={s:ht,n:et,d:ht,abs:function(){return It(this.n,this.d)},neg:function(){return It(-this.s*this.n,this.d)},add:function(t,e){return ne(t,e),It(this.s*this.n*q.d+q.s*this.d*q.n,this.d*q.d)},sub:function(t,e){return ne(t,e),It(this.s*this.n*q.d-q.s*this.d*q.n,this.d*q.d)},mul:function(t,e){return ne(t,e),It(this.s*q.s*this.n*q.n,this.d*q.d)},div:function(t,e){return ne(t,e),It(this.s*q.s*this.n*q.d,this.d*q.n)},clone:function(){return It(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return It(this.s*this.n%this.d,ht);if(ne(t,e),et===q.n*this.d)throw po();return It(this.s*(q.d*this.n)%(q.n*this.d),q.d*this.d)},gcd:function(t,e){return ne(t,e),It(Lr(q.n,this.n)*Lr(q.d,this.d),q.d*this.d)},lcm:function(t,e){return ne(t,e),q.n===et&&this.n===et?It(et,ht):It(q.n*this.n,Lr(q.n,this.n)*Lr(q.d,this.d))},inverse:function(){return It(this.s*this.d,this.n)},pow:function(t,e){if(ne(t,e),q.d===ht)return q.s<et?It((this.s*this.d)**q.n,this.n**q.n):It((this.s*this.n)**q.n,this.d**q.n);if(this.s<et)return null;let r=en(this.n),n=en(this.d),i=ht,a=ht;for(let s in r)if(s!=="1"){if(s==="0"){i=et;break}if(r[s]*=q.n,r[s]%q.d===et)r[s]/=q.d;else return null;i*=BigInt(s)**r[s]}for(let s in n)if(s!=="1"){if(n[s]*=q.n,n[s]%q.d===et)n[s]/=q.d;else return null;a*=BigInt(s)**n[s]}return q.s<et?It(a,i):It(i,a)},log:function(t,e){if(ne(t,e),this.s<=et||q.s<=et)return null;const r={},n=en(q.n),i=en(q.d),a=en(this.n),s=en(this.d);for(const h in i)n[h]=(n[h]||et)-i[h];for(const h in s)a[h]=(a[h]||et)-s[h];for(const h in n)h!=="1"&&(r[h]=!0);for(const h in a)h!=="1"&&(r[h]=!0);let o=null,u=null;for(const h in r){const f=n[h]||et,l=a[h]||et;if(f===et){if(l!==et)return null;continue}let c=l,v=f;const g=Lr(c,v);if(c/=g,v/=g,o===null&&u===null)o=c,u=v;else if(c*u!==o*v)return null}return o!==null&&u!==null?It(o,u):null},equals:function(t,e){return ne(t,e),this.s*this.n*q.d===q.s*q.n*this.d},lt:function(t,e){return ne(t,e),this.s*this.n*q.d<q.s*q.n*this.d},lte:function(t,e){return ne(t,e),this.s*this.n*q.d<=q.s*q.n*this.d},gt:function(t,e){return ne(t,e),this.s*this.n*q.d>q.s*q.n*this.d},gte:function(t,e){return ne(t,e),this.s*this.n*q.d>=q.s*q.n*this.d},compare:function(t,e){ne(t,e);let r=this.s*this.n*q.d-q.s*q.n*this.d;return(et<r)-(r<et)},ceil:function(t){return t=Ee**BigInt(t||0),It(Ue(this.s*t*this.n/this.d)+(t*this.n%this.d>et&&this.s>=et?ht:et),t)},floor:function(t){return t=Ee**BigInt(t||0),It(Ue(this.s*t*this.n/this.d)-(t*this.n%this.d>et&&this.s<et?ht:et),t)},round:function(t){return t=Ee**BigInt(t||0),It(Ue(this.s*t*this.n/this.d)+this.s*((this.s>=et?ht:et)+Kn*(t*this.n%this.d)>this.d?ht:et),t)},roundTo:function(t,e){ne(t,e);const r=this.n*q.d,n=this.d*q.n,i=r%n;let a=Ue(r/n);return i+i>=n&&a++,It(this.s*a*q.n,q.d)},divisible:function(t,e){return ne(t,e),!(!(q.n*this.d)||this.n*q.d%(q.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t){let e=this.n,r=this.d;t=t||15;let n=e_(e,r),i=r_(e,r,n),a=this.s<et?"-":"";if(a+=Ue(e/r),e%=r,e*=Ee,e&&(a+="."),n){for(let s=i;s--;)a+=Ue(e/r),e%=r,e*=Ee;a+="(";for(let s=n;s--;)a+=Ue(e/r),e%=r,e*=Ee;a+=")"}else for(let s=t;e&&s--;)a+=Ue(e/r),e%=r,e*=Ee;return a},toFraction:function(t){let e=this.n,r=this.d,n=this.s<et?"-":"";if(r===ht)n+=e;else{let i=Ue(e/r);t&&i>et&&(n+=i,n+=" ",e%=r),n+=e,n+="/",n+=r}return n},toLatex:function(t){let e=this.n,r=this.d,n=this.s<et?"-":"";if(r===ht)n+=e;else{let i=Ue(e/r);t&&i>et&&(n+=i,e%=r),n+="\\frac{",n+=e,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let t=this.n,e=this.d,r=[];do{r.push(Ue(t/e));let n=t%e;t=e,e=n}while(t!==ht);return r},simplify:function(t){const e=BigInt(1/(t||.001)|0),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let a=It(n[i-1],ht);for(let o=i-2;o>=0;o--)a=a.inverse().add(n[o]);let s=a.sub(r);if(s.n*e<s.d)return a.mul(this.s)}return this}};var n_="Fraction",i_=[],a_=ct(n_,i_,()=>(Object.defineProperty(Re,"name",{value:"Fraction"}),Re.prototype.constructor=Re,Re.prototype.type="Fraction",Re.prototype.isFraction=!0,Re.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Re.fromJSON=function(t){return new Re(t)},Re),{isClass:!0}),s_="Matrix",o_=[],u_=ct(s_,o_,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function vs(t,e,r){var n=t.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!$t(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),a="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(a);case 8:return"".concat(t.toOctal()).concat(a);case 16:return"".concat(t.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function h_(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=Ef(e);switch(r){case"fixed":return l_(t,n);case"exponential":return Xu(t,n);case"engineering":return f_(t,n);case"bin":return vs(t,2,i);case"oct":return vs(t,8,i);case"hex":return vs(t,16,i);case"auto":{var a=Ku(e==null?void 0:e.lowerExp,-3),s=Ku(e==null?void 0:e.upperExp,5);if(t.isZero())return"0";var o,u=t.toSignificantDigits(n),h=u.e;return h>=a&&h<s?o=u.toFixed():o=Xu(t,n),o.replace(/((\.\d*?)(0+))($|e)/,function(){var f=arguments[2],l=arguments[4];return f!=="."?f+l:l})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function f_(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.includes("e")){var s=t.constructor;a=new s(a).toFixed()}return a+"e"+(r>=0?"+":"")+n.toString()}function Xu(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function l_(t,e){return t.toFixed(e)}function Ku(t,e){return Tt(t)?t:zt(t)?t.toNumber():e}function ce(t,e){var r=c_(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function c_(t,e){if(typeof t=="number")return Ts(t,e);if(zt(t))return h_(t,e);if(d_(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return Lf(t,e);if(Je(t))return th(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>th(n)+": "+ce(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function th(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in eh?eh[i]:i,n++}return'"'+r+'"'}var eh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Lf(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=Lf(t[i],e);return r+="]",r}else return ce(t,e)}function d_(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function Et(t,e,r){if(!(this instanceof Et))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}Et.prototype=new RangeError;Et.prototype.constructor=RangeError;Et.prototype.name="DimensionError";Et.prototype.isDimensionError=!0;function Hr(t,e,r){if(!(this instanceof Hr))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Hr.prototype=new RangeError;Hr.prototype.constructor=RangeError;Hr.prototype.name="IndexError";Hr.prototype.isIndexError=!0;function Rt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function Yf(t,e,r){var n,i=t.length;if(i!==e[r])throw new Et(i,e[r]);if(r<e.length-1){var a=r+1;for(n=0;n<i;n++){var s=t[n];if(!Array.isArray(s))throw new Et(e.length-1,e.length,"<");Yf(t[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new Et(e.length+1,e.length,">")}function rh(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new Et(t.length,0)}else Yf(t,e,0)}function Ut(t,e){if(t!==void 0){if(!Tt(t)||!$t(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Hr(t,e)}}function ti(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!Tt(i)||!$t(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ce(e)+")")}),(Tt(t)||zt(t))&&(t=[t]);var n=r!==void 0?r:0;return Ls(t,e,0,n),t}function Ls(t,e,r,n){var i,a,s=t.length,o=e[r],u=Math.min(s,o);if(t.length=o,r<e.length-1){var h=r+1;for(i=0;i<u;i++)a=t[i],Array.isArray(a)||(a=[a],t[i]=a),Ls(a,e,h,n);for(i=u;i<o;i++)a=[],t[i]=a,Ls(a,e,h,n)}else{for(i=0;i<u;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=u;i<o;i++)t[i]=n}}function _o(t,e){var r=Ys(t,!0),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Et(0,n,"!=");e=Do(e,n);var i=$f(e);if(n!==i)throw new Et(i,n,"!=");try{return v_(r,e)}catch(a){throw a instanceof Et?new Et(i,n,"!="):a}}function Do(t,e){var r=$f(t),n=t.slice(),i=-1,a=t.indexOf(i),s=t.indexOf(i,a+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var o=a>=0,u=e%r===0;if(o)if(u)n[a]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function $f(t){return t.reduce((e,r)=>e*r,1)}function v_(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var s=r.length/a,o=0;o<s;o++)n.push(r.slice(o*a,(o+1)*a));r=n}return r}function zf(t,e,r,n){var i=n||Rt(t);if(r)for(var a=0;a<r;a++)t=[t],i.unshift(1);for(t=qf(t,e,0);i.length<e;)i.push(1);return t}function qf(t,e,r){var n,i;if(Array.isArray(t)){var a=r+1;for(n=0,i=t.length;n<i;n++)t[n]=qf(t[n],e,a)}else for(var s=r;s<e;s++)t=[t];return t}function Ys(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return e?i(t):n(t),r;function n(a){for(var s=0;s<a.length;s++){var o=a[s];Array.isArray(o)?n(o):r.push(o)}}function i(a){if(Array.isArray(a[0]))for(var s=0;s<a.length;s++)i(a[s]);else for(var o=0;o<a.length;o++)r.push(a[o])}}function Mo(t,e){for(var r,n=0,i=0;i<t.length;i++){var a=t[i],s=Array.isArray(a);if(i===0&&s&&(n=a.length),s&&a.length!==n)return;var o=s?Mo(a,e):e(a);if(r===void 0)r=o;else if(r!==o)return"mixed"}return r}function Uf(t,e,r,n){if(n<r){if(t.length!==e.length)throw new Et(t.length,e.length);for(var i=[],a=0;a<t.length;a++)i[a]=Uf(t[a],e[a],r,n+1);return i}else return t.concat(e)}function Wf(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return Uf(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function Vf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(c=>c.length),i=Math.max(...n),a=new Array(i).fill(null),s=0;s<e.length;s++)for(var o=e[s],u=n[s],h=0;h<u;h++){var f=i-u+h;o[h]>a[f]&&(a[f]=o[h])}for(var l=0;l<e.length;l++)jf(e[l],a);return a}function jf(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var a=r-n+i;if(t[i]<e[a]&&t[i]>1||t[i]>e[a])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[a]))}}function $s(t,e){var r=Rt(t);if(Tr(r,e))return t;jf(r,e);var n=Vf(r,e),i=n.length,a=[...Array(i-r.length).fill(1),...r],s=y_(t);r.length<i&&(s=_o(s,a),r=Rt(s));for(var o=0;o<i;o++)r[o]<n[o]&&(s=m_(s,n[o],o),r=Rt(s));return s}function m_(t,e,r){return Wf(...Array(e).fill(t),r)}function Gf(t,e){if(!Array.isArray(t))throw new Error("Array expected");var r=Rt(t);if(e.length!==r.length)throw new Et(e.length,r.length);for(var n=0;n<e.length;n++)Ut(e[n],r[n]);return e.reduce((i,a)=>i[a],t)}function g_(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(r)return a(t);var n=[];return i(t,0);function i(s,o){if(Array.isArray(s)){for(var u=s.length,h=Array(u),f=0;f<u;f++)n[o]=f,h[f]=i(s[f],o+1);return h}else return e(s,n.slice(0,o),t)}function a(s){if(Array.isArray(s)){for(var o=s.length,u=Array(o),h=0;h<o;h++)u[h]=a(s[h]);return u}else return e(s)}}function y_(t){return fa([],t)}function pa(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(da.isTypedFunction(t)){var i;if(n)i=1;else{var a=(e.isMatrix?e.size():Rt(e)).map(()=>0),s=e.isMatrix?e.get(a):Gf(e,a);i=D_(t,s,a,e)}var o;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var u=p_(t,i);o=u!==void 0?u:t}else o=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var f=arguments.length,l=new Array(f),c=0;c<f;c++)l[c]=arguments[c];return nh(o,l.slice(0,i),r,t.name)}}:{isUnary:!1,fn:function(){for(var f=arguments.length,l=new Array(f),c=0;c<f;c++)l[c]=arguments[c];return nh(o,l,r,t.name)}}}return n===void 0?{isUnary:__(t),fn:t}:{isUnary:n,fn:t}}function p_(t,e){var r=[];if(Object.entries(t.signatures).forEach(n=>{var[i,a]=n;i.split(",").length===e&&r.push(a)}),r.length===1)return r[0]}function __(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var r=e.match(/\(.*?\)/);return!/\.\.\./.test(r)}function D_(t,e,r,n){for(var i=[e,r,n],a=3;a>0;a--){var s=i.slice(0,a);if(da.resolve(t,s)!==null)return a}}function nh(t,e,r,n){try{return t(...e)}catch(i){M_(i,e,r,n)}}function M_(t,e,r,n){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var a=[];throw a.push("value: ".concat(zr(e[0]))),e.length>=2&&a.push("index: ".concat(zr(e[1]))),e.length>=3&&a.push("array: ".concat(zr(e[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(a.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(t.message))}var w_="DenseMatrix",A_=["Matrix"],E_=ct(w_,A_,t=>{var{Matrix:e}=t;function r(f,l){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(l&&!Je(l))throw new Error("Invalid datatype: "+l);if(ie(f))f.type==="DenseMatrix"?(this._data=jt(f._data),this._size=jt(f._size),this._datatype=l||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=l||f._datatype);else if(f&&Jt(f.data)&&Jt(f.size))this._data=f.data,this._size=f.size,rh(this._data,this._size),this._datatype=l||f.datatype;else if(Jt(f))this._data=h(f),this._size=Rt(this._data),rh(this._data,this._size),this._datatype=l;else{if(f)throw new TypeError("Unsupported type of data ("+zr(f)+")");this._data=[],this._size=[0],this._datatype=l}}r.prototype=new e,r.prototype.createDenseMatrix=function(f,l){return new r(f,l)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return Mo(this._data,zr)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(f,l){return new r(f,l)},r.prototype.subset=function(f,l,c){switch(arguments.length){case 1:return n(this,f);case 2:case 3:return a(this,f,l,c);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(f){return Gf(this._data,f)},r.prototype.set=function(f,l,c){if(!Jt(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new Et(f.length,this._size.length,"<");var v,g,d,m=f.map(function(M){return M+1});u(this,m,c);var y=this._data;for(v=0,g=f.length-1;v<g;v++)d=f[v],Ut(d,y.length),y=y[d];return d=f[f.length-1],Ut(d,y.length),y[d]=l,this};function n(f,l){if(!mo(l))throw new TypeError("Invalid index");var c=l.isScalar();if(c)return f.get(l.min());var v=l.size();if(v.length!==f._size.length)throw new Et(v.length,f._size.length);for(var g=l.min(),d=l.max(),m=0,y=f._size.length;m<y;m++)Ut(g[m],f._size[m]),Ut(d[m],f._size[m]);return new r(i(f._data,l,v.length,0),f._datatype)}function i(f,l,c,v){var g=v===c-1,d=l.dimension(v);return g?d.map(function(m){return Ut(m,f.length),f[m]}).valueOf():d.map(function(m){Ut(m,f.length);var y=f[m];return i(y,l,c,v+1)}).valueOf()}function a(f,l,c,v){if(!l||l.isIndex!==!0)throw new TypeError("Invalid index");var g=l.size(),d=l.isScalar(),m;if(ie(c)?(m=c.size(),c=c.valueOf()):m=Rt(c),d){if(m.length!==0)throw new TypeError("Scalar expected");f.set(l.min(),c,v)}else{if(!Tr(m,g))try{m.length===0?c=$s([c],g):c=$s(c,g),m=Rt(c)}catch(D){}if(g.length<f._size.length)throw new Et(g.length,f._size.length,"<");if(m.length<g.length){for(var y=0,M=0;g[y]===1&&m[y]===1;)y++;for(;g[y]===1;)M++,y++;c=zf(c,g.length,M,m)}if(!Tr(g,m))throw new Et(g,m,">");var p=l.max().map(function(D){return D+1});u(f,p,v);var E=g.length,_=0;s(f._data,l,c,E,_)}return f}function s(f,l,c,v,g){var d=g===v-1,m=l.dimension(g);d?m.forEach(function(y,M){Ut(y),f[y]=c[M[0]]}):m.forEach(function(y,M){Ut(y),s(f[y],l,c[M[0]],v,g+1)})}r.prototype.resize=function(f,l,c){if(!ca(f))throw new TypeError("Array or Matrix expected");var v=f.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),g=c?this.clone():this;return o(g,v,l)};function o(f,l,c){if(l.length===0){for(var v=f._data;Jt(v);)v=v[0];return v}return f._size=l.slice(0),f._data=ti(f._data,f._size,c),f}r.prototype.reshape=function(f,l){var c=l?this.clone():this;c._data=_o(c._data,f);var v=c._size.reduce((g,d)=>g*d);return c._size=Do(f,v),c};function u(f,l,c){for(var v=f._size.slice(0),g=!1;v.length<l.length;)v.push(0),g=!0;for(var d=0,m=l.length;d<m;d++)l[d]>v[d]&&(v[d]=l[d],g=!0);g&&o(f,v,c)}r.prototype.clone=function(){var f=new r({data:jt(this._data),size:jt(this._size),datatype:this._datatype});return f},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(f){var l=f.length===2,c=this._size.length-1;if(c<0)return;if(l){m(this._data);return}if(c===0){for(var v=0;v<this._data.length;v++)f(this._data,v,[v]);return}var g=new Array(c+1);d(this._data);function d(y){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M<c)for(var p=0;p<y.length;p++)g[M]=p,d(y[p],M+1);else for(var E=0;E<y.length;E++)g[M]=E,f(y,E,g.slice())}function m(y){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(M<c)for(var p=0;p<y.length;p++)m(y[p],M+1);else for(var E=0;E<y.length;E++)f(y,E)}},r.prototype.map=function(f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this,v=new r(c),g=pa(f,c._data,"map",l),d=l||g.isUnary?(m,y)=>{m[y]=g.fn(m[y])}:(m,y,M)=>{m[y]=g.fn(m[y],M,c)};return v._forEach(d),v},r.prototype.forEach=function(f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=this,v=pa(f,c._data,"map",l),g=l||v.isUnary?(d,m)=>{v.fn(d[m])}:(d,m,y)=>{v.fn(d[m],y,c)};c._forEach(g)},r.prototype[Symbol.iterator]=function*(){var f=this._size.length-1;if(!(f<0)){if(f===0){for(var l=0;l<this._data.length;l++)yield{value:this._data[l],index:[l]};return}var c=[],v=function*(d,m){if(m<f)for(var y=0;y<d.length;y++)c[m]=y,yield*v(d[y],m+1);else for(var M=0;M<d.length;M++)c[m]=M,yield{value:d[M],index:c.slice()}};yield*v(this._data,0)}},r.prototype.rows=function(){var f=[],l=this.size();if(l.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var c=this._data;for(var v of c)f.push(new r([v],this._datatype));return f},r.prototype.columns=function(){var f=this,l=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var v=this._data,g=function(y){var M=v.map(p=>[p[y]]);l.push(new r(M,f._datatype))},d=0;d<c[1];d++)g(d);return l},r.prototype.toArray=function(){return jt(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(f){return ce(this._data,f)},r.prototype.toString=function(){return ce(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(f){if(f){if(zt(f)&&(f=f.toNumber()),!Tt(f)||!$t(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var l=f>0?f:0,c=f<0?-f:0,v=this._size[0],g=this._size[1],d=Math.min(v-c,g-l),m=[],y=0;y<d;y++)m[y]=this._data[y+c][y+l];return new r({data:m,size:[d],datatype:this._datatype})},r.diagonal=function(f,l,c,v){if(!Jt(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(C){if(zt(C)&&(C=C.toNumber()),!Tt(C)||!$t(C)||C<1)throw new Error("Size values must be positive integers");return C}),c){if(zt(c)&&(c=c.toNumber()),!Tt(c)||!$t(c))throw new TypeError("The parameter k must be an integer number")}else c=0;var g=c>0?c:0,d=c<0?-c:0,m=f[0],y=f[1],M=Math.min(m-d,y-g),p;if(Jt(l)){if(l.length!==M)throw new Error("Invalid value array length");p=function(b){return l[b]}}else if(ie(l)){var E=l.size();if(E.length!==1||E[0]!==M)throw new Error("Invalid matrix length");p=function(b){return l.get([b])}}else p=function(){return l};v||(v=zt(p(0))?p(0).mul(0):0);var _=[];if(f.length>0){_=ti(_,f,v);for(var D=0;D<M;D++)_[D+d][D+g]=p(D)}return new r({data:_,size:[m,y]})},r.fromJSON=function(f){return new r(f)},r.prototype.swapRows=function(f,l){if(!Tt(f)||!$t(f)||!Tt(l)||!$t(l))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ut(f,this._size[0]),Ut(l,this._size[0]),r._swapRows(f,l,this._data),this},r._swapRows=function(f,l,c){var v=c[f];c[f]=c[l],c[l]=v};function h(f){return ie(f)?h(f.valueOf()):Jt(f)?f.map(h):f}return r},{isClass:!0});function Hf(t,e,r){return ie(t)?t.map(n=>e(n),!1,!0):g_(t,e,!0)}var ih="isInteger",b_=["typed"],C_=ct(ih,b_,t=>{var{typed:e}=t;return e(ih,{number:$t,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===BigInt(1)},"Array | Matrix":e.referToSelf(r=>n=>Hf(n,r))})}),Zf="number, number";function Qf(t,e){return t+e}Qf.signature=Zf;function Jf(t,e){return t*e}Jf.signature=Zf;function F_(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(r),n))}function x_(t,e,r,n){return va(t.re,e.re,r,n)&&va(t.im,e.im,r,n)}var S_=ct("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),_a="equalScalar",N_=["typed","config"],T_=ct(_a,N_,t=>{var{typed:e,config:r}=t,n=S_({typed:e});return e(_a,{"boolean, boolean":function(a,s){return a===s},"number, number":function(a,s){return va(a,s,r.relTol,r.absTol)},"BigNumber, BigNumber":function(a,s){return a.eq(s)||F_(a,s,r.relTol,r.absTol)},"bigint, bigint":function(a,s){return a===s},"Fraction, Fraction":function(a,s){return a.equals(s)},"Complex, Complex":function(a,s){return x_(a,s,r.relTol,r.absTol)}},n)});ct(_a,["typed","config"],t=>{var{typed:e,config:r}=t;return e(_a,{"number, number":function(i,a){return va(i,a,r.relTol,r.absTol)}})});var B_="SparseMatrix",O_=["typed","equalScalar","Matrix"],k_=ct(B_,O_,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(d,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Je(m))throw new Error("Invalid datatype: "+m);if(ie(d))a(this,d,m);else if(d&&Jt(d.index)&&Jt(d.ptr)&&Jt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=m||d.datatype;else if(Jt(d))s(this,d,m);else{if(d)throw new TypeError("Unsupported type of data ("+zr(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(d,m,y){m.type==="SparseMatrix"?(d._values=m._values?jt(m._values):void 0,d._index=jt(m._index),d._ptr=jt(m._ptr),d._size=jt(m._size),d._datatype=y||m._datatype):s(d,m.valueOf(),y||m._datatype)}function s(d,m,y){d._values=[],d._index=[],d._ptr=[],d._datatype=y;var M=m.length,p=0,E=r,_=0;if(Je(y)&&(E=e.find(r,[y,y])||r,_=e.convert(0,y)),M>0){var D=0;do{d._ptr.push(d._index.length);for(var C=0;C<M;C++){var b=m[C];if(Jt(b)){if(D===0&&p<b.length&&(p=b.length),D<b.length){var A=b[D];E(A,_)||(d._values.push(A),d._index.push(C))}}else D===0&&p<1&&(p=1),E(b,_)||(d._values.push(b),d._index.push(C))}D++}while(D<p)}d._ptr.push(d._index.length),d._size=[M,p]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,m){return new i(d,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Mo(this._values,zr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,m){return new i(d,m)},i.prototype.density=function(){var d=this._size[0],m=this._size[1];return d!==0&&m!==0?this._index.length/(d*m):0},i.prototype.subset=function(d,m,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,d);case 2:case 3:return u(this,d,m,y);default:throw new SyntaxError("Wrong number of arguments")}};function o(d,m){if(!mo(m))throw new TypeError("Invalid index");var y=m.isScalar();if(y)return d.get(m.min());var M=m.size();if(M.length!==d._size.length)throw new Et(M.length,d._size.length);var p,E,_,D,C=m.min(),b=m.max();for(p=0,E=d._size.length;p<E;p++)Ut(C[p],d._size[p]),Ut(b[p],d._size[p]);var A=d._values,S=d._index,B=d._ptr,$=m.dimension(0),J=m.dimension(1),U=[],V=[];$.forEach(function(K,ot){V[K]=ot[0],U[K]=!0});var T=A?[]:void 0,Q=[],tt=[];return J.forEach(function(K){for(tt.push(Q.length),_=B[K],D=B[K+1];_<D;_++)p=S[_],U[p]===!0&&(Q.push(V[p]),T&&T.push(A[_]))}),tt.push(Q.length),new i({values:T,index:Q,ptr:tt,size:M,datatype:d._datatype})}function u(d,m,y,M){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var p=m.size(),E=m.isScalar(),_;if(ie(y)?(_=y.size(),y=y.toArray()):_=Rt(y),E){if(_.length!==0)throw new TypeError("Scalar expected");d.set(m.min(),y,M)}else{if(p.length!==1&&p.length!==2)throw new Et(p.length,d._size.length,"<");if(_.length<p.length){for(var D=0,C=0;p[D]===1&&_[D]===1;)D++;for(;p[D]===1;)C++,D++;y=zf(y,p.length,C,_)}if(!Tr(p,_))throw new Et(p,_,">");if(p.length===1){var b=m.dimension(0);b.forEach(function(B,$){Ut(B),d.set([B,0],y[$[0]],M)})}else{var A=m.dimension(0),S=m.dimension(1);A.forEach(function(B,$){Ut(B),S.forEach(function(J,U){Ut(J),d.set([B,J],y[$[0]][U[0]],M)})})}}return d}i.prototype.get=function(d){if(!Jt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Et(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=d[0],y=d[1];Ut(m,this._size[0]),Ut(y,this._size[1]);var M=h(m,this._ptr[y],this._ptr[y+1],this._index);return M<this._ptr[y+1]&&this._index[M]===m?this._values[M]:0},i.prototype.set=function(d,m,y){if(!Jt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new Et(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var M=d[0],p=d[1],E=this._size[0],_=this._size[1],D=r,C=0;Je(this._datatype)&&(D=e.find(r,[this._datatype,this._datatype])||r,C=e.convert(0,this._datatype)),(M>E-1||p>_-1)&&(c(this,Math.max(M+1,E),Math.max(p+1,_),y),E=this._size[0],_=this._size[1]),Ut(M,E),Ut(p,_);var b=h(M,this._ptr[p],this._ptr[p+1],this._index);return b<this._ptr[p+1]&&this._index[b]===M?D(m,C)?f(b,p,this._values,this._index,this._ptr):this._values[b]=m:D(m,C)||l(b,M,p,m,this._values,this._index,this._ptr),this};function h(d,m,y,M){if(y-m===0)return y;for(var p=m;p<y;p++)if(M[p]===d)return p;return m}function f(d,m,y,M,p){y.splice(d,1),M.splice(d,1);for(var E=m+1;E<p.length;E++)p[E]--}function l(d,m,y,M,p,E,_){p.splice(d,0,M),E.splice(d,0,m);for(var D=y+1;D<_.length;D++)_[D]++}i.prototype.resize=function(d,m,y){if(!ca(d))throw new TypeError("Array or Matrix expected");var M=d.valueOf().map(E=>Array.isArray(E)&&E.length===1?E[0]:E);if(M.length!==2)throw new Error("Only two dimensions matrix are supported");M.forEach(function(E){if(!Tt(E)||!$t(E)||E<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ce(M)+")")});var p=y?this.clone():this;return c(p,M[0],M[1],m)};function c(d,m,y,M){var p=M||0,E=r,_=0;Je(d._datatype)&&(E=e.find(r,[d._datatype,d._datatype])||r,_=e.convert(0,d._datatype),p=e.convert(p,d._datatype));var D=!E(p,_),C=d._size[0],b=d._size[1],A,S,B;if(y>b){for(S=b;S<y;S++)if(d._ptr[S]=d._values.length,D)for(A=0;A<C;A++)d._values.push(p),d._index.push(A);d._ptr[y]=d._values.length}else y<b&&(d._ptr.splice(y+1,b-y),d._values.splice(d._ptr[y],d._values.length),d._index.splice(d._ptr[y],d._index.length));if(b=y,m>C){if(D){var $=0;for(S=0;S<b;S++){d._ptr[S]=d._ptr[S]+$,B=d._ptr[S+1]+$;var J=0;for(A=C;A<m;A++,J++)d._values.splice(B+J,0,p),d._index.splice(B+J,0,A),$++}d._ptr[b]=d._values.length}}else if(m<C){var U=0;for(S=0;S<b;S++){d._ptr[S]=d._ptr[S]-U;var V=d._ptr[S],T=d._ptr[S+1]-U;for(B=V;B<T;B++)A=d._index[B],A>m-1&&(d._values.splice(B,1),d._index.splice(B,1),U++)}d._ptr[S]=d._values.length}return d._size[0]=m,d._size[1]=y,d}i.prototype.reshape=function(d,m){if(!Jt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(K){if(!Tt(K)||!$t(K)||K<=-2||K===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ce(d)+")")});var y=this._size[0]*this._size[1];d=Do(d,y);var M=d[0]*d[1];if(y!==M)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var p=m?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return p;for(var E=[],_=0;_<p._ptr.length;_++)for(var D=0;D<p._ptr[_+1]-p._ptr[_];D++)E.push(_);for(var C=p._values.slice(),b=p._index.slice(),A=0;A<p._index.length;A++){var S=b[A],B=E[A],$=S*p._size[1]+B;E[A]=$%d[1],b[A]=Math.floor($/d[1])}p._values.length=0,p._index.length=0,p._ptr.length=d[1]+1,p._size=d.slice();for(var J=0;J<p._ptr.length;J++)p._ptr[J]=0;for(var U=0;U<C.length;U++){var V=b[U],T=E[U],Q=C[U],tt=h(V,p._ptr[T],p._ptr[T+1],p._index);l(tt,V,T,Q,p._values,p._index,p._ptr)}return p},i.prototype.clone=function(){var d=new i({values:this._values?jt(this._values):void 0,index:jt(this._index),ptr:jt(this._ptr),size:jt(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,M=this._size[0],p=this._size[1],E=pa(d,y,"map"),_=function(C,b,A){return E.fn(C,[b,A],y)};return v(this,0,M-1,0,p-1,_,m)};function v(d,m,y,M,p,E,_){var D=[],C=[],b=[],A=r,S=0;Je(d._datatype)&&(A=e.find(r,[d._datatype,d._datatype])||r,S=e.convert(0,d._datatype));for(var B=function(Ct,Ht,Wt){var qt=E(Ct,Ht,Wt);A(qt,S)||(D.push(qt),C.push(Ht))},$=M;$<=p;$++){b.push(D.length);var J=d._ptr[$],U=d._ptr[$+1];if(_)for(var V=J;V<U;V++){var T=d._index[V];T>=m&&T<=y&&B(d._values[V],T-m,$-M)}else{for(var Q={},tt=J;tt<U;tt++){var K=d._index[tt];Q[K]=d._values[tt]}for(var ot=m;ot<=y;ot++){var Mt=ot in Q?Q[ot]:0;B(Mt,ot-m,$-M)}}}return b.push(D.length),new i({values:D,index:C,ptr:b,size:[y-m+1,p-M+1]})}i.prototype.forEach=function(d,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,M=this._size[0],p=this._size[1],E=pa(d,y,"forEach"),_=0;_<p;_++){var D=this._ptr[_],C=this._ptr[_+1];if(m)for(var b=D;b<C;b++){var A=this._index[b];E.fn(this._values[b],[A,_],y)}else{for(var S={},B=D;B<C;B++){var $=this._index[B];S[$]=this._values[B]}for(var J=0;J<M;J++){var U=J in S?S[J]:0;E.fn(U,[J,_],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],m=0;m<d;m++)for(var y=this._ptr[m],M=this._ptr[m+1],p=y;p<M;p++){var E=this._index[p];yield{value:this._values[p],index:[E,m]}}},i.prototype.toArray=function(){return g(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return g(this._values,this._index,this._ptr,this._size,!1)};function g(d,m,y,M,p){var E=M[0],_=M[1],D=[],C,b;for(C=0;C<E;C++)for(D[C]=[],b=0;b<_;b++)D[C][b]=0;for(b=0;b<_;b++)for(var A=y[b],S=y[b+1],B=A;B<S;B++)C=m[B],D[C][b]=d?p?jt(d[B]):d[B]:1;return D}return i.prototype.format=function(d){for(var m=this._size[0],y=this._size[1],M=this.density(),p="Sparse Matrix ["+ce(m,d)+" x "+ce(y,d)+"] density: "+ce(M,d)+"\n",E=0;E<y;E++)for(var _=this._ptr[E],D=this._ptr[E+1],C=_;C<D;C++){var b=this._index[C];p+="\n    ("+ce(b,d)+", "+ce(E,d)+") ==> "+(this._values?ce(this._values[C],d):"X")}return p},i.prototype.toString=function(){return ce(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(zt(d)&&(d=d.toNumber()),!Tt(d)||!$t(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var m=d>0?d:0,y=d<0?-d:0,M=this._size[0],p=this._size[1],E=Math.min(M-y,p-m),_=[],D=[],C=[];C[0]=0;for(var b=m;b<p&&_.length<E;b++)for(var A=this._ptr[b],S=this._ptr[b+1],B=A;B<S;B++){var $=this._index[B];if($===b-m+y){_.push(this._values[B]),D[_.length-1]=$-y;break}}return C.push(_.length),new i({values:_,index:D,ptr:C,size:[E,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,m,y,M,p){if(!Jt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(K){if(zt(K)&&(K=K.toNumber()),!Tt(K)||!$t(K)||K<1)throw new Error("Size values must be positive integers");return K}),y){if(zt(y)&&(y=y.toNumber()),!Tt(y)||!$t(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var E=r,_=0;Je(p)&&(E=e.find(r,[p,p])||r,_=e.convert(0,p));var D=y>0?y:0,C=y<0?-y:0,b=d[0],A=d[1],S=Math.min(b-C,A-D),B;if(Jt(m)){if(m.length!==S)throw new Error("Invalid value array length");B=function(ot){return m[ot]}}else if(ie(m)){var $=m.size();if($.length!==1||$[0]!==S)throw new Error("Invalid matrix length");B=function(ot){return m.get([ot])}}else B=function(){return m};for(var J=[],U=[],V=[],T=0;T<A;T++){V.push(J.length);var Q=T-D;if(Q>=0&&Q<S){var tt=B(Q);E(tt,_)||(U.push(Q+C),J.push(tt))}}return V.push(J.length),new i({values:J,index:U,ptr:V,size:[b,A]})},i.prototype.swapRows=function(d,m){if(!Tt(d)||!$t(d)||!Tt(m)||!$t(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ut(d,this._size[0]),Ut(m,this._size[0]),i._swapRows(d,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,m,y,M,p){for(var E=M[d],_=M[d+1],D=E;D<_;D++)p(y[D],m[D])},i._swapRows=function(d,m,y,M,p,E){for(var _=0;_<y;_++){var D=E[_],C=E[_+1],b=h(d,D,C,p),A=h(m,D,C,p);if(b<C&&A<C&&p[b]===d&&p[A]===m){if(M){var S=M[b];M[b]=M[A],M[A]=S}continue}if(b<C&&p[b]===d&&(A>=C||p[A]!==m)){var B=M?M[b]:void 0;p.splice(A,0,m),M&&M.splice(A,0,B),p.splice(A<=b?b+1:b,1),M&&M.splice(A<=b?b+1:b,1);continue}if(A<C&&p[A]===m&&(b>=C||p[b]!==d)){var $=M?M[A]:void 0;p.splice(b,0,d),M&&M.splice(b,0,$),p.splice(b<=A?A+1:A,1),M&&M.splice(b<=A?A+1:A,1)}}},i},{isClass:!0}),ah="matrix",I_=["typed","Matrix","DenseMatrix","SparseMatrix"],P_=ct(ah,I_,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(ah,{"":function(){return a([])},string:function(o){return a([],o)},"string, string":function(o,u){return a([],o,u)},Array:function(o){return a(o)},Matrix:function(o){return a(o,o.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,o,u){if(o==="dense"||o==="default"||o===void 0)return new n(s,u);if(o==="sparse")return new i(s,u);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),sh="addScalar",R_=["typed"],L_=ct(sh,R_,t=>{var{typed:e}=t;return e(sh,{"number, number":Qf,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(r,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),Y_="matAlgo11xS0s",$_=["typed","equalScalar"],z_=ct(Y_,$_,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s,o){var u=i._values,h=i._index,f=i._ptr,l=i._size,c=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=l[0],g=l[1],d,m=r,y=0,M=s;typeof c=="string"&&(d=c,m=e.find(r,[d,d]),y=e.convert(0,d),a=e.convert(a,d),M=e.find(s,[d,d]));for(var p=[],E=[],_=[],D=0;D<g;D++){_[D]=E.length;for(var C=f[D],b=f[D+1],A=C;A<b;A++){var S=h[A],B=o?M(a,u[A]):M(u[A],a);m(B,y)||(E.push(S),p.push(B))}}return _[g]=E.length,i.createSparseMatrix({values:p,index:E,ptr:_,size:[v,g],datatype:d})}}),q_="matAlgo14xDs",U_=["typed"],Xf=ct(q_,U_,t=>{var{typed:e}=t;return function(i,a,s,o){var u=i._data,h=i._size,f=i._datatype,l,c=s;typeof f=="string"&&(l=f,a=e.convert(a,l),c=e.find(s,[l,l]));var v=h.length>0?r(c,0,h,h[0],u,a,o):[];return i.createDenseMatrix({data:v,size:jt(h),datatype:l})};function r(n,i,a,s,o,u,h){var f=[];if(i===a.length-1)for(var l=0;l<s;l++)f[l]=h?n(u,o[l]):n(o[l],u);else for(var c=0;c<s;c++)f[c]=r(n,i+1,a,a[i+1],o[c],u,h);return f}}),W_="matAlgo13xDD",V_=["typed"],j_=ct(W_,V_,t=>{var{typed:e}=t;return function(i,a,s){var o=i._data,u=i._size,h=i._datatype,f=a._data,l=a._size,c=a._datatype,v=[];if(u.length!==l.length)throw new Et(u.length,l.length);for(var g=0;g<u.length;g++){if(u[g]!==l[g])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");v[g]=u[g]}var d,m=s;typeof h=="string"&&h===c&&(d=h,m=e.find(s,[d,d]));var y=v.length>0?r(m,0,v,v[0],o,f):[];return i.createDenseMatrix({data:y,size:v,datatype:d})};function r(n,i,a,s,o,u){var h=[];if(i===a.length-1)for(var f=0;f<s;f++)h[f]=n(o[f],u[f]);else for(var l=0;l<s;l++)h[l]=r(n,i+1,a,a[i+1],o[l],u[l]);return h}});function re(t,e){if(Tr(t.size(),e.size()))return[t,e];var r=Vf(t.size(),e.size());return[t,e].map(n=>G_(n,r))}function G_(t,e){return Tr(t.size(),e)?t:t.create($s(t.valueOf(),e),t.datatype())}var H_="matrixAlgorithmSuite",Z_=["typed","matrix"],Q_=ct(H_,Z_,t=>{var{typed:e,matrix:r}=t,n=j_({typed:e}),i=Xf({typed:e});return function(s){var o=s.elop,u=s.SD||s.DS,h;o?(h={"DenseMatrix, DenseMatrix":(v,g)=>n(...re(v,g),o),"Array, Array":(v,g)=>n(...re(r(v),r(g)),o).valueOf(),"Array, DenseMatrix":(v,g)=>n(...re(r(v),g),o),"DenseMatrix, Array":(v,g)=>n(...re(v,r(g)),o)},s.SS&&(h["SparseMatrix, SparseMatrix"]=(v,g)=>s.SS(...re(v,g),o,!1)),s.DS&&(h["DenseMatrix, SparseMatrix"]=(v,g)=>s.DS(...re(v,g),o,!1),h["Array, SparseMatrix"]=(v,g)=>s.DS(...re(r(v),g),o,!1)),u&&(h["SparseMatrix, DenseMatrix"]=(v,g)=>u(...re(g,v),o,!0),h["SparseMatrix, Array"]=(v,g)=>u(...re(r(g),v),o,!0))):(h={"DenseMatrix, DenseMatrix":e.referToSelf(v=>(g,d)=>n(...re(g,d),v)),"Array, Array":e.referToSelf(v=>(g,d)=>n(...re(r(g),r(d)),v).valueOf()),"Array, DenseMatrix":e.referToSelf(v=>(g,d)=>n(...re(r(g),d),v)),"DenseMatrix, Array":e.referToSelf(v=>(g,d)=>n(...re(g,r(d)),v))},s.SS&&(h["SparseMatrix, SparseMatrix"]=e.referToSelf(v=>(g,d)=>s.SS(...re(g,d),v,!1))),s.DS&&(h["DenseMatrix, SparseMatrix"]=e.referToSelf(v=>(g,d)=>s.DS(...re(g,d),v,!1)),h["Array, SparseMatrix"]=e.referToSelf(v=>(g,d)=>s.DS(...re(r(g),d),v,!1))),u&&(h["SparseMatrix, DenseMatrix"]=e.referToSelf(v=>(g,d)=>u(...re(d,g),v,!0)),h["SparseMatrix, Array"]=e.referToSelf(v=>(g,d)=>u(...re(r(d),g),v,!0))));var f=s.scalar||"any",l=s.Ds||s.Ss;l&&(o?(h["DenseMatrix,"+f]=(v,g)=>i(v,g,o,!1),h[f+", DenseMatrix"]=(v,g)=>i(g,v,o,!0),h["Array,"+f]=(v,g)=>i(r(v),g,o,!1).valueOf(),h[f+", Array"]=(v,g)=>i(r(g),v,o,!0).valueOf()):(h["DenseMatrix,"+f]=e.referToSelf(v=>(g,d)=>i(g,d,v,!1)),h[f+", DenseMatrix"]=e.referToSelf(v=>(g,d)=>i(d,g,v,!0)),h["Array,"+f]=e.referToSelf(v=>(g,d)=>i(r(g),d,v,!1).valueOf()),h[f+", Array"]=e.referToSelf(v=>(g,d)=>i(r(d),g,v,!0).valueOf())));var c=s.sS!==void 0?s.sS:s.Ss;return o?(s.Ss&&(h["SparseMatrix,"+f]=(v,g)=>s.Ss(v,g,o,!1)),c&&(h[f+", SparseMatrix"]=(v,g)=>c(g,v,o,!0))):(s.Ss&&(h["SparseMatrix,"+f]=e.referToSelf(v=>(g,d)=>s.Ss(g,d,v,!1))),c&&(h[f+", SparseMatrix"]=e.referToSelf(v=>(g,d)=>c(d,g,v,!0)))),o&&o.signatures&&Ly(h,o.signatures),h}}),J_="matAlgo01xDSid",X_=["typed"],K_=ct(J_,X_,t=>{var{typed:e}=t;return function(n,i,a,s){var o=n._data,u=n._size,h=n._datatype||n.getDataType(),f=i._values,l=i._index,c=i._ptr,v=i._size,g=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(u.length!==v.length)throw new Et(u.length,v.length);if(u[0]!==v[0]||u[1]!==v[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+v+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],m=u[1],y=typeof h=="string"&&h!=="mixed"&&h===g?h:void 0,M=y?e.find(a,[y,y]):a,p,E,_=[];for(p=0;p<d;p++)_[p]=[];var D=[],C=[];for(E=0;E<m;E++){for(var b=E+1,A=c[E],S=c[E+1],B=A;B<S;B++)p=l[B],D[p]=s?M(f[B],o[p][E]):M(o[p][E],f[B]),C[p]=b;for(p=0;p<d;p++)C[p]===b?_[p][E]=D[p]:_[p][E]=o[p][E]}return n.createDenseMatrix({data:_,size:[d,m],datatype:h===n._datatype&&g===i._datatype?y:void 0})}}),tD="matAlgo04xSidSid",eD=["typed","equalScalar"],rD=ct(tD,eD,t=>{var{typed:e,equalScalar:r}=t;return function(i,a,s){var o=i._values,u=i._index,h=i._ptr,f=i._size,l=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=a._values,v=a._index,g=a._ptr,d=a._size,m=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(f.length!==d.length)throw new Et(f.length,d.length);if(f[0]!==d[0]||f[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+d+")");var y=f[0],M=f[1],p,E=r,_=0,D=s;typeof l=="string"&&l===m&&l!=="mixed"&&(p=l,E=e.find(r,[p,p]),_=e.convert(0,p),D=e.find(s,[p,p]));var C=o&&c?[]:void 0,b=[],A=[],S=o&&c?[]:void 0,B=o&&c?[]:void 0,$=[],J=[],U,V,T,Q,tt;for(V=0;V<M;V++){A[V]=b.length;var K=V+1;for(Q=h[V],tt=h[V+1],T=Q;T<tt;T++)U=u[T],b.push(U),$[U]=K,S&&(S[U]=o[T]);for(Q=g[V],tt=g[V+1],T=Q;T<tt;T++)if(U=v[T],$[U]===K){if(S){var ot=D(S[U],c[T]);E(ot,_)?$[U]=null:S[U]=ot}}else b.push(U),J[U]=K,B&&(B[U]=c[T]);if(S&&B)for(T=A[V];T<b.length;)U=b[T],$[U]===K?(C[T]=S[U],T++):J[U]===K?(C[T]=B[U],T++):b.splice(T,1)}return A[M]=b.length,i.createSparseMatrix({values:C,index:b,ptr:A,size:[y,M],datatype:l===i._datatype&&m===a._datatype?p:void 0})}}),nD="matAlgo10xSids",iD=["typed","DenseMatrix"],aD=ct(nD,iD,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,a,s,o){var u=i._values,h=i._index,f=i._ptr,l=i._size,c=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var v=l[0],g=l[1],d,m=s;typeof c=="string"&&(d=c,a=e.convert(a,d),m=e.find(s,[d,d]));for(var y=[],M=[],p=[],E=0;E<g;E++){for(var _=E+1,D=f[E],C=f[E+1],b=D;b<C;b++){var A=h[b];M[A]=u[b],p[A]=_}for(var S=0;S<v;S++)E===0&&(y[S]=[]),p[S]===_?y[S][E]=o?m(a,M[S]):m(M[S],a):y[S][E]=a}return new r({data:y,size:[v,g],datatype:d})}}),sD="multiplyScalar",oD=["typed"],uD=ct(sD,oD,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":Jf,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),oh="multiply",hD=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],fD=ct(oh,hD,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:s}=t,o=z_({typed:e,equalScalar:a}),u=Xf({typed:e});function h(_,D){switch(_.length){case 1:switch(D.length){case 1:if(_[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(_[0]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+_[0]+") must match Matrix rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;case 2:switch(D.length){case 1:if(_[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+_[1]+") must match Vector length ("+D[0]+")");break;case 2:if(_[1]!==D[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+_[1]+") must match Matrix B rows ("+D[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+D.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+_.length+" dimensions)")}}function f(_,D,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return s(_,D)}function l(_,D){if(D.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return c(_,D)}function c(_,D){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=D._data,B=D._size,$=D._datatype||D.getDataType(),J=b[0],U=B[1],V,T=n,Q=i;A&&$&&A===$&&typeof A=="string"&&A!=="mixed"&&(V=A,T=e.find(n,[V,V]),Q=e.find(i,[V,V]));for(var tt=[],K=0;K<U;K++){for(var ot=Q(C[0],S[0][K]),Mt=1;Mt<J;Mt++)ot=T(ot,Q(C[Mt],S[Mt][K]));tt[K]=ot}return _.createDenseMatrix({data:tt,size:[U],datatype:A===_._datatype&&$===D._datatype?V:void 0})}var v=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":M}),g=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":p,"SparseMatrix, SparseMatrix":E});function d(_,D){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=D._data,B=D._datatype||D.getDataType(),$=b[0],J=b[1],U,V=n,T=i;A&&B&&A===B&&typeof A=="string"&&A!=="mixed"&&(U=A,V=e.find(n,[U,U]),T=e.find(i,[U,U]));for(var Q=[],tt=0;tt<$;tt++){for(var K=C[tt],ot=T(K[0],S[0]),Mt=1;Mt<J;Mt++)ot=V(ot,T(K[Mt],S[Mt]));Q[tt]=ot}return _.createDenseMatrix({data:Q,size:[$],datatype:A===_._datatype&&B===D._datatype?U:void 0})}function m(_,D){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=D._data,B=D._size,$=D._datatype||D.getDataType(),J=b[0],U=b[1],V=B[1],T,Q=n,tt=i;A&&$&&A===$&&typeof A=="string"&&A!=="mixed"&&A!=="mixed"&&(T=A,Q=e.find(n,[T,T]),tt=e.find(i,[T,T]));for(var K=[],ot=0;ot<J;ot++){var Mt=C[ot];K[ot]=[];for(var _t=0;_t<V;_t++){for(var Ct=tt(Mt[0],S[0][_t]),Ht=1;Ht<U;Ht++)Ct=Q(Ct,tt(Mt[Ht],S[Ht][_t]));K[ot][_t]=Ct}}return _.createDenseMatrix({data:K,size:[J,V],datatype:A===_._datatype&&$===D._datatype?T:void 0})}function y(_,D){var C=_._data,b=_._size,A=_._datatype||_.getDataType(),S=D._values,B=D._index,$=D._ptr,J=D._size,U=D._datatype||D._data===void 0?D._datatype:D.getDataType();if(!S)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=b[0],T=J[1],Q,tt=n,K=i,ot=a,Mt=0;A&&U&&A===U&&typeof A=="string"&&A!=="mixed"&&(Q=A,tt=e.find(n,[Q,Q]),K=e.find(i,[Q,Q]),ot=e.find(a,[Q,Q]),Mt=e.convert(0,Q));for(var _t=[],Ct=[],Ht=[],Wt=D.createSparseMatrix({values:_t,index:Ct,ptr:Ht,size:[V,T],datatype:A===_._datatype&&U===D._datatype?Q:void 0}),qt=0;qt<T;qt++){Ht[qt]=Ct.length;var Bt=$[qt],ge=$[qt+1];if(ge>Bt)for(var Ft=0,wt=0;wt<V;wt++){for(var Be=wt+1,se=void 0,xt=Bt;xt<ge;xt++){var ee=B[xt];Ft!==Be?(se=K(C[wt][ee],S[xt]),Ft=Be):se=tt(se,K(C[wt][ee],S[xt]))}Ft===Be&&!ot(se,Mt)&&(Ct.push(wt),_t.push(se))}}return Ht[T]=Ct.length,Wt}function M(_,D){var C=_._values,b=_._index,A=_._ptr,S=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=D._data,$=D._datatype||D.getDataType(),J=_._size[0],U=D._size[0],V=[],T=[],Q=[],tt,K=n,ot=i,Mt=a,_t=0;S&&$&&S===$&&typeof S=="string"&&S!=="mixed"&&(tt=S,K=e.find(n,[tt,tt]),ot=e.find(i,[tt,tt]),Mt=e.find(a,[tt,tt]),_t=e.convert(0,tt));var Ct=[],Ht=[];Q[0]=0;for(var Wt=0;Wt<U;Wt++){var qt=B[Wt];if(!Mt(qt,_t))for(var Bt=A[Wt],ge=A[Wt+1],Ft=Bt;Ft<ge;Ft++){var wt=b[Ft];Ht[wt]?Ct[wt]=K(Ct[wt],ot(qt,C[Ft])):(Ht[wt]=!0,T.push(wt),Ct[wt]=ot(qt,C[Ft]))}}for(var Be=T.length,se=0;se<Be;se++){var xt=T[se];V[se]=Ct[xt]}return Q[1]=T.length,_.createSparseMatrix({values:V,index:T,ptr:Q,size:[J,1],datatype:S===_._datatype&&$===D._datatype?tt:void 0})}function p(_,D){var C=_._values,b=_._index,A=_._ptr,S=_._datatype||_._data===void 0?_._datatype:_.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var B=D._data,$=D._datatype||D.getDataType(),J=_._size[0],U=D._size[0],V=D._size[1],T,Q=n,tt=i,K=a,ot=0;S&&$&&S===$&&typeof S=="string"&&S!=="mixed"&&(T=S,Q=e.find(n,[T,T]),tt=e.find(i,[T,T]),K=e.find(a,[T,T]),ot=e.convert(0,T));for(var Mt=[],_t=[],Ct=[],Ht=_.createSparseMatrix({values:Mt,index:_t,ptr:Ct,size:[J,V],datatype:S===_._datatype&&$===D._datatype?T:void 0}),Wt=[],qt=[],Bt=0;Bt<V;Bt++){Ct[Bt]=_t.length;for(var ge=Bt+1,Ft=0;Ft<U;Ft++){var wt=B[Ft][Bt];if(!K(wt,ot))for(var Be=A[Ft],se=A[Ft+1],xt=Be;xt<se;xt++){var ee=b[xt];qt[ee]!==ge?(qt[ee]=ge,_t.push(ee),Wt[ee]=tt(wt,C[xt])):Wt[ee]=Q(Wt[ee],tt(wt,C[xt]))}}for(var Oe=Ct[Bt],or=_t.length,ur=Oe;ur<or;ur++){var Qr=_t[ur];Mt[ur]=Wt[Qr]}}return Ct[V]=_t.length,Ht}function E(_,D){var C=_._values,b=_._index,A=_._ptr,S=_._datatype||_._data===void 0?_._datatype:_.getDataType(),B=D._values,$=D._index,J=D._ptr,U=D._datatype||D._data===void 0?D._datatype:D.getDataType(),V=_._size[0],T=D._size[1],Q=C&&B,tt,K=n,ot=i;S&&U&&S===U&&typeof S=="string"&&S!=="mixed"&&(tt=S,K=e.find(n,[tt,tt]),ot=e.find(i,[tt,tt]));for(var Mt=Q?[]:void 0,_t=[],Ct=[],Ht=_.createSparseMatrix({values:Mt,index:_t,ptr:Ct,size:[V,T],datatype:S===_._datatype&&U===D._datatype?tt:void 0}),Wt=Q?[]:void 0,qt=[],Bt,ge,Ft,wt,Be,se,xt,ee,Oe=0;Oe<T;Oe++){Ct[Oe]=_t.length;var or=Oe+1;for(Be=J[Oe],se=J[Oe+1],wt=Be;wt<se;wt++)if(ee=$[wt],Q)for(ge=A[ee],Ft=A[ee+1],Bt=ge;Bt<Ft;Bt++)xt=b[Bt],qt[xt]!==or?(qt[xt]=or,_t.push(xt),Wt[xt]=ot(B[wt],C[Bt])):Wt[xt]=K(Wt[xt],ot(B[wt],C[Bt]));else for(ge=A[ee],Ft=A[ee+1],Bt=ge;Bt<Ft;Bt++)xt=b[Bt],qt[xt]!==or&&(qt[xt]=or,_t.push(xt));if(Q)for(var ur=Ct[Oe],Qr=_t.length,Jr=ur;Jr<Qr;Jr++){var Ha=_t[Jr];Mt[Jr]=Wt[Ha]}}return Ct[T]=_t.length,Ht}return e(oh,i,{"Array, Array":e.referTo("Matrix, Matrix",_=>(D,C)=>{h(Rt(D),Rt(C));var b=_(r(D),r(C));return ie(b)?b.valueOf():b}),"Matrix, Matrix":function(D,C){var b=D.size(),A=C.size();return h(b,A),b.length===1?A.length===1?f(D,C,b[0]):l(D,C):A.length===1?v(D,C):g(D,C)},"Matrix, Array":e.referTo("Matrix,Matrix",_=>(D,C)=>_(D,r(C))),"Array, Matrix":e.referToSelf(_=>(D,C)=>_(r(D,C.storage()),C)),"SparseMatrix, any":function(D,C){return o(D,C,i,!1)},"DenseMatrix, any":function(D,C){return u(D,C,i,!1)},"any, SparseMatrix":function(D,C){return o(C,D,i,!0)},"any, DenseMatrix":function(D,C){return u(C,D,i,!0)},"Array, any":function(D,C){return u(r(D),C,i,!1).valueOf()},"any, Array":function(D,C){return u(r(C),D,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(_=>(D,C,b)=>{for(var A=_(D,C),S=0;S<b.length;S++)A=_(A,b[S]);return A})})}),uh="conj",lD=["typed"],cD=ct(uh,lD,t=>{var{typed:e}=t;return e(uh,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":e.referToSelf(r=>n=>Hf(n,r))})}),hh="concat",dD=["typed","matrix","isInteger"],vD=ct(hh,dD,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(hh,{"...Array | Matrix | number | BigNumber":function(a){var s,o=a.length,u=-1,h,f=!1,l=[];for(s=0;s<o;s++){var c=a[s];if(ie(c)&&(f=!0),Tt(c)||zt(c)){if(s!==o-1)throw new Error("Dimension must be specified as last argument");if(h=u,u=c.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||s>0&&u>h)throw new Hr(u,h+1)}else{var v=jt(c).valueOf(),g=Rt(v);if(l[s]=v,h=u,u=g.length-1,s>0&&u!==h)throw new Et(h+1,u+1)}}if(l.length===0)throw new SyntaxError("At least one matrix expected");for(var d=l.shift();l.length;)d=Wf(d,l.shift(),u);return f?r(d):d},"...string":function(a){return a.join("")}})}),fh="diag",mD=["typed","matrix","DenseMatrix","SparseMatrix"],gD=ct(fh,mD,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(fh,{Array:function(h){return a(h,0,Rt(h),null)},"Array, number":function(h,f){return a(h,f,Rt(h),null)},"Array, BigNumber":function(h,f){return a(h,f.toNumber(),Rt(h),null)},"Array, string":function(h,f){return a(h,0,Rt(h),f)},"Array, number, string":function(h,f,l){return a(h,f,Rt(h),l)},"Array, BigNumber, string":function(h,f,l){return a(h,f.toNumber(),Rt(h),l)},Matrix:function(h){return a(h,0,h.size(),h.storage())},"Matrix, number":function(h,f){return a(h,f,h.size(),h.storage())},"Matrix, BigNumber":function(h,f){return a(h,f.toNumber(),h.size(),h.storage())},"Matrix, string":function(h,f){return a(h,0,h.size(),f)},"Matrix, number, string":function(h,f,l){return a(h,f,h.size(),l)},"Matrix, BigNumber, string":function(h,f,l){return a(h,f.toNumber(),h.size(),l)}});function a(u,h,f,l){if(!$t(h))throw new TypeError("Second parameter in function diag must be an integer");var c=h>0?h:0,v=h<0?-h:0;switch(f.length){case 1:return s(u,h,l,f[0],v,c);case 2:return o(u,h,l,f,v,c)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function s(u,h,f,l,c,v){var g=[l+c,l+v];if(f&&f!=="sparse"&&f!=="dense")throw new TypeError("Unknown matrix type ".concat(f,'"'));var d=f==="sparse"?i.diagonal(g,u,h):n.diagonal(g,u,h);return f!==null?d:d.valueOf()}function o(u,h,f,l,c,v){if(ie(u)){var g=u.diagonal(h);return f!==null?f!==g.storage()?r(g,f):g:g.valueOf()}for(var d=Math.min(l[0]-c,l[1]-v),m=[],y=0;y<d;y++)m[y]=u[y+c][y+v];return f!==null?r(m):m}}),lh="flatten",yD=["typed"],pD=ct(lh,yD,t=>{var{typed:e}=t;return e(lh,{Array:function(n){return Ys(n)},Matrix:function(n){return n.create(Ys(n.valueOf(),!0),n.datatype())}})}),ch="identity",_D=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],DD=ct(ch,_D,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:s}=t;return e(ch,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(f){return n(f)},"number | BigNumber":function(f){return u(f,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(f,l){return u(f,f,l)},"number | BigNumber, number | BigNumber":function(f,l){return u(f,l,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(f,l,c){return u(f,l,c)},Array:function(f){return o(f)},"Array, string":function(f,l){return o(f,l)},Matrix:function(f){return o(f.valueOf(),f.storage())},"Matrix, string":function(f,l){return o(f.valueOf(),l)}});function o(h,f){switch(h.length){case 0:return f?n(f):[];case 1:return u(h[0],h[0],f);case 2:return u(h[0],h[1],f);default:throw new Error("Vector containing two values expected")}}function u(h,f,l){var c=zt(h)||zt(f)?i:null;if(zt(h)&&(h=h.toNumber()),zt(f)&&(f=f.toNumber()),!$t(h)||h<1)throw new Error("Parameters in function identity must be positive integers");if(!$t(f)||f<1)throw new Error("Parameters in function identity must be positive integers");var v=c?new i(1):1,g=c?new c(0):0,d=[h,f];if(l){if(l==="sparse")return s.diagonal(d,v,0,g);if(l==="dense")return a.diagonal(d,v,0,g);throw new TypeError('Unknown matrix type "'.concat(l,'"'))}for(var m=ti([],d,g),y=h<f?h:f,M=0;M<y;M++)m[M][M]=v;return m}}),dh="kron",MD=["typed","matrix","multiplyScalar"],wD=ct(dh,MD,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(dh,{"Matrix, Matrix":function(s,o){return r(i(s.toArray(),o.toArray()))},"Matrix, Array":function(s,o){return r(i(s.toArray(),o))},"Array, Matrix":function(s,o){return r(i(s,o.toArray()))},"Array, Array":i});function i(a,s){if(Rt(a).length===1&&(a=[a]),Rt(s).length===1&&(s=[s]),Rt(a).length>2||Rt(s).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(s.length)+")");var o=[],u=[];return a.map(function(h){return s.map(function(f){return u=[],o.push(u),h.map(function(l){return f.map(function(c){return u.push(n(l,c))})})})})&&o}}),AD="ones",ED=["typed","config","matrix","BigNumber"],bD=ct(AD,ED,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(h){var f=h[h.length-1];if(typeof f=="string"){var l=h.pop();return a(h,l)}else return r.matrix==="Array"?a(h):a(h,"default")},Array:a,Matrix:function(h){var f=h.storage();return a(h.valueOf(),f)},"Array | Matrix, string":function(h,f){return a(h.valueOf(),f)}});function a(u,h){var f=s(u),l=f?new i(1):1;if(o(u),h){var c=n(h);return u.length>0?c.resize(u,l):c}else{var v=[];return u.length>0?ti(v,u,l):v}}function s(u){var h=!1;return u.forEach(function(f,l,c){zt(f)&&(h=!0,c[l]=f.toNumber())}),h}function o(u){u.forEach(function(h){if(typeof h!="number"||!$t(h)||h<0)throw new Error("Parameters in function ones must be positive integers")})}});function CD(){throw new Error('No "matrix" implementation available')}var vh="reshape",FD=["typed","isInteger","matrix"],xD=ct(vh,FD,t=>{var{typed:e,isInteger:r}=t;return e(vh,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(s){if(!r(s))throw new TypeError("Invalid size for dimension: "+s)}),_o(i,a)}})}),mh="size",SD=["typed","config","?matrix"],ND=ct(mh,SD,t=>{var{typed:e,config:r,matrix:n}=t;return e(mh,{Matrix:function(a){return a.create(a.size(),"number")},Array:Rt,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([],"dense","number"):CD()}})}),gh="transpose",TD=["typed","matrix"],BD=ct(gh,TD,t=>{var{typed:e,matrix:r}=t;return e(gh,{Array:s=>n(r(s)).valueOf(),Matrix:n,any:jt});function n(s){var o=s.size(),u;switch(o.length){case 1:u=s.clone();break;case 2:{var h=o[0],f=o[1];if(f===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ce(o)+")");switch(s.storage()){case"dense":u=i(s,h,f);break;case"sparse":u=a(s,h,f);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ce(o)+")")}return u}function i(s,o,u){for(var h=s._data,f=[],l,c=0;c<u;c++){l=f[c]=[];for(var v=0;v<o;v++)l[v]=jt(h[v][c])}return s.createDenseMatrix({data:f,size:[u,o],datatype:s._datatype})}function a(s,o,u){for(var h=s._values,f=s._index,l=s._ptr,c=h?[]:void 0,v=[],g=[],d=[],m=0;m<o;m++)d[m]=0;var y,M,p;for(y=0,M=f.length;y<M;y++)d[f[y]]++;for(var E=0,_=0;_<o;_++)g.push(E),E+=d[_],d[_]=g[_];for(g.push(E),p=0;p<u;p++)for(var D=l[p],C=l[p+1],b=D;b<C;b++){var A=d[f[b]]++;v[A]=p,h&&(c[A]=jt(h[b]))}return s.createSparseMatrix({values:c,index:v,ptr:g,size:[u,o],datatype:s._datatype})}}),yh="zeros",OD=["typed","config","matrix","BigNumber"],kD=ct(yh,OD,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(yh,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(h){var f=h[h.length-1];if(typeof f=="string"){var l=h.pop();return a(h,l)}else return r.matrix==="Array"?a(h):a(h,"default")},Array:a,Matrix:function(h){var f=h.storage();return a(h.valueOf(),f)},"Array | Matrix, string":function(h,f){return a(h.valueOf(),f)}});function a(u,h){var f=s(u),l=f?new i(0):0;if(o(u),h){var c=n(h);return u.length>0?c.resize(u,l):c}else{var v=[];return u.length>0?ti(v,u,l):v}}function s(u){var h=!1;return u.forEach(function(f,l,c){zt(f)&&(h=!0,c[l]=f.toNumber())}),h}function o(u){u.forEach(function(h){if(typeof h!="number"||!$t(h)||h<0)throw new Error("Parameters in function zeros must be positive integers")})}}),ph="sparse",ID=["typed","SparseMatrix"],PD=ct(ph,ID,t=>{var{typed:e,SparseMatrix:r}=t;return e(ph,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,a){return new r(i,a)}})}),_h="add",RD=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],LD=ct(_h,RD,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:o}=t,u=K_({typed:e}),h=rD({typed:e,equalScalar:i}),f=aD({typed:e,DenseMatrix:a}),l=Q_({typed:e,matrix:r,concat:o});return e(_h,{"any, any":n,"any, any, ...any":e.referToSelf(c=>(v,g,d)=>{for(var m=c(v,g),y=0;y<d.length;y++)m=c(m,d[y]);return m})},l({elop:n,DS:u,SS:h,Ss:f}))}),Dh="dot",YD=["typed","addScalar","multiplyScalar","conj","size"],$D=ct(Dh,YD,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:a}=t;return e(Dh,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":u});function s(f,l){var c=h(f),v=h(l),g,d;if(c.length===1)g=c[0];else if(c.length===2&&c[1]===1)g=c[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+c.join(", ")+")");if(v.length===1)d=v[0];else if(v.length===2&&v[1]===1)d=v[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+v.join(", ")+")");if(g!==d)throw new RangeError("Vectors must have equal length ("+g+" != "+d+")");if(g===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return g}function o(f,l){var c=s(f,l),v=ie(f)?f._data:f,g=ie(f)?f._datatype||f.getDataType():void 0,d=ie(l)?l._data:l,m=ie(l)?l._datatype||l.getDataType():void 0,y=h(f).length===2,M=h(l).length===2,p=r,E=n;if(g&&m&&g===m&&typeof g=="string"&&g!=="mixed"){var _=g;p=e.find(r,[_,_]),E=e.find(n,[_,_])}if(!y&&!M){for(var D=E(i(v[0]),d[0]),C=1;C<c;C++)D=p(D,E(i(v[C]),d[C]));return D}if(!y&&M){for(var b=E(i(v[0]),d[0][0]),A=1;A<c;A++)b=p(b,E(i(v[A]),d[A][0]));return b}if(y&&!M){for(var S=E(i(v[0][0]),d[0]),B=1;B<c;B++)S=p(S,E(i(v[B][0]),d[B]));return S}if(y&&M){for(var $=E(i(v[0][0]),d[0][0]),J=1;J<c;J++)$=p($,E(i(v[J][0]),d[J][0]));return $}}function u(f,l){s(f,l);for(var c=f._index,v=f._values,g=l._index,d=l._values,m=0,y=r,M=n,p=0,E=0;p<c.length&&E<g.length;){var _=c[p],D=g[E];if(_<D){p++;continue}if(_>D){E++;continue}_===D&&(m=y(m,M(v[p],d[E])),p++,E++)}return m}function h(f){return ie(f)?f.size():a(f)}}),Ia=Gp({config:Gr}),zD=Xp({}),qD=a_({}),wo=u_({}),Ei=E_({Matrix:wo}),Gt=Qy({BigNumber:Ia,Complex:zD,DenseMatrix:Ei,Fraction:qD}),Ao=L_({typed:Gt}),UD=cD({typed:Gt}),Eo=T_({config:Gr,typed:Gt}),Mh=pD({typed:Gt}),Kf=C_({typed:Gt}),bo=uD({typed:Gt}),bi=k_({Matrix:wo,equalScalar:Eo,typed:Gt}),ae=P_({DenseMatrix:Ei,Matrix:wo,SparseMatrix:bi,typed:Gt}),Da=bD({BigNumber:Ia,config:Gr,matrix:ae,typed:Gt}),Ma=xD({isInteger:Kf,matrix:ae,typed:Gt}),Li=PD({SparseMatrix:bi,typed:Gt}),WD=BD({matrix:ae,typed:Gt}),ms=kD({BigNumber:Ia,config:Gr,matrix:ae,typed:Gt}),ln=vD({isInteger:Kf,matrix:ae,typed:Gt}),wh=gD({DenseMatrix:Ei,SparseMatrix:bi,matrix:ae,typed:Gt}),VD=DD({BigNumber:Ia,DenseMatrix:Ei,SparseMatrix:bi,config:Gr,matrix:ae,typed:Gt}),Ah=wD({matrix:ae,multiplyScalar:bo,typed:Gt}),jD=ND({matrix:ae,config:Gr,typed:Gt}),GD=LD({DenseMatrix:Ei,SparseMatrix:bi,addScalar:Ao,concat:ln,equalScalar:Eo,matrix:ae,typed:Gt}),HD=$D({addScalar:Ao,conj:UD,multiplyScalar:bo,size:jD,typed:Gt}),wa=fD({addScalar:Ao,dot:HD,equalScalar:Eo,matrix:ae,multiplyScalar:bo,typed:Gt});//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var tl;function Z(){return tl.apply(null,arguments)}function ZD(t){tl=t}function Ge(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function qr(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Co(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(mt(t,e))return!1;return!0}function Ae(t){return t===void 0}function yr(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Ci(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function el(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function br(t,e){for(var r in e)mt(e,r)&&(t[r]=e[r]);return mt(e,"toString")&&(t.toString=e.toString),mt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ar(t,e,r,n){return El(t,e,r,n,!0).utc()}function QD(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ft(t){return t._pf==null&&(t._pf=QD()),t._pf}var zs;Array.prototype.some?zs=Array.prototype.some:zs=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function Fo(t){var e=null,r=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ft(t),r=zs.call(e.parsedDateParts,function(i){return i!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function Pa(t){var e=ar(NaN);return t!=null?br(ft(e),t):ft(e).userInvalidated=!0,e}var Eh=Z.momentProperties=[],gs=!1;function xo(t,e){var r,n,i,a=Eh.length;if(Ae(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Ae(e._i)||(t._i=e._i),Ae(e._f)||(t._f=e._f),Ae(e._l)||(t._l=e._l),Ae(e._strict)||(t._strict=e._strict),Ae(e._tzm)||(t._tzm=e._tzm),Ae(e._isUTC)||(t._isUTC=e._isUTC),Ae(e._offset)||(t._offset=e._offset),Ae(e._pf)||(t._pf=ft(e)),Ae(e._locale)||(t._locale=e._locale),a>0)for(r=0;r<a;r++)n=Eh[r],i=e[n],Ae(i)||(t[n]=i);return t}function Fi(t){xo(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),gs===!1&&(gs=!0,Z.updateOffset(this),gs=!1)}function He(t){return t instanceof Fi||t!=null&&t._isAMomentObject!=null}function rl(t){Z.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Ye(t,e){var r=!0;return br(function(){if(Z.deprecationHandler!=null&&Z.deprecationHandler(null,t),r){var n=[],i,a,s,o=arguments.length;for(a=0;a<o;a++){if(i="",typeof arguments[a]=="object"){i+="\n["+a+"] ";for(s in arguments[0])mt(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}rl(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var bh={};function nl(t,e){Z.deprecationHandler!=null&&Z.deprecationHandler(t,e),bh[t]||(rl(e),bh[t]=!0)}Z.suppressDeprecationWarnings=!1;Z.deprecationHandler=null;function sr(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function JD(t){var e,r;for(r in t)mt(t,r)&&(e=t[r],sr(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function qs(t,e){var r=br({},t),n;for(n in e)mt(e,n)&&(qr(t[n])&&qr(e[n])?(r[n]={},br(r[n],t[n]),br(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)mt(t,n)&&!mt(e,n)&&qr(t[n])&&(r[n]=br({},r[n]));return r}function So(t){t!=null&&this.set(t)}var Us;Object.keys?Us=Object.keys:Us=function(t){var e,r=[];for(e in t)mt(t,e)&&r.push(e);return r};var XD={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function KD(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return sr(n)?n.call(e,r):n}function ir(t,e,r){var n=""+Math.abs(t),i=e-n.length,a=t>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var No=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Yi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ys={},gn={};function nt(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(gn[t]=i),e&&(gn[e[0]]=function(){return ir(i.apply(this,arguments),e[1],e[2])}),r&&(gn[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function t2(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function e2(t){var e=t.match(No),r,n;for(r=0,n=e.length;r<n;r++)gn[e[r]]?e[r]=gn[e[r]]:e[r]=t2(e[r]);return function(i){var a="",s;for(s=0;s<n;s++)a+=sr(e[s])?e[s].call(i,t):e[s];return a}}function Zi(t,e){return t.isValid()?(e=il(e,t.localeData()),ys[e]=ys[e]||e2(e),ys[e](t)):t.localeData().invalidDate()}function il(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(Yi.lastIndex=0;r>=0&&Yi.test(t);)t=t.replace(Yi,n),Yi.lastIndex=0,r-=1;return t}var r2={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function n2(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(No).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var i2="Invalid date";function a2(){return this._invalidDate}var s2="%d",o2=/\d{1,2}/;function u2(t){return this._ordinal.replace("%d",t)}var h2={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function f2(t,e,r,n){var i=this._relativeTime[r];return sr(i)?i(t,e,r,n):i.replace(/%d/i,t)}function l2(t,e){var r=this._relativeTime[t>0?"future":"past"];return sr(r)?r(e):r.replace(/%s/i,e)}var Ch={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function $e(t){return typeof t=="string"?Ch[t]||Ch[t.toLowerCase()]:void 0}function To(t){var e={},r,n;for(n in t)mt(t,n)&&(r=$e(n),r&&(e[r]=t[n]));return e}var c2={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function d2(t){var e=[],r;for(r in t)mt(t,r)&&e.push({unit:r,priority:c2[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}var al=/\d/,Te=/\d\d/,sl=/\d{3}/,Bo=/\d{4}/,Ra=/[+-]?\d{6}/,kt=/\d\d?/,ol=/\d\d\d\d?/,ul=/\d\d\d\d\d\d?/,La=/\d{1,3}/,Oo=/\d{1,4}/,Ya=/[+-]?\d{1,6}/,Fn=/\d+/,$a=/[+-]?\d+/,v2=/Z|[+-]\d\d:?\d\d/gi,za=/Z|[+-]\d\d(?::?\d\d)?/gi,m2=/[+-]?\d+(\.\d{1,3})?/,xi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,xn=/^[1-9]\d?/,ko=/^([1-9]\d|\d)/,Aa;Aa={};function X(t,e,r){Aa[t]=sr(e)?e:function(n,i){return n&&r?r:e}}function g2(t,e){return mt(Aa,t)?Aa[t](e._strict,e._locale):new RegExp(y2(t))}function y2(t){return mr(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,a){return r||n||i||a}))}function mr(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Le(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function lt(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=Le(e)),r}var Ws={};function bt(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),yr(e)&&(n=function(a,s){s[e]=lt(a)}),i=t.length,r=0;r<i;r++)Ws[t[r]]=n}function Si(t,e){bt(t,function(r,n,i,a){i._w=i._w||{},e(r,i._w,i,a)})}function p2(t,e,r){e!=null&&mt(Ws,t)&&Ws[t](e,r._a,r,t)}function qa(t){return t%4===0&&t%100!==0||t%400===0}var ve=0,dr=1,Xe=2,te=3,We=4,vr=5,Yr=6,_2=7,D2=8;nt("Y",0,0,function(){var t=this.year();return t<=9999?ir(t,4):"+"+t});nt(0,["YY",2],0,function(){return this.year()%100});nt(0,["YYYY",4],0,"year");nt(0,["YYYYY",5],0,"year");nt(0,["YYYYYY",6,!0],0,"year");X("Y",$a);X("YY",kt,Te);X("YYYY",Oo,Bo);X("YYYYY",Ya,Ra);X("YYYYYY",Ya,Ra);bt(["YYYYY","YYYYYY"],ve);bt("YYYY",function(t,e){e[ve]=t.length===2?Z.parseTwoDigitYear(t):lt(t)});bt("YY",function(t,e){e[ve]=Z.parseTwoDigitYear(t)});bt("Y",function(t,e){e[ve]=parseInt(t,10)});function Vn(t){return qa(t)?366:365}Z.parseTwoDigitYear=function(t){return lt(t)+(lt(t)>68?1900:2e3)};var hl=Sn("FullYear",!0);function M2(){return qa(this.year())}function Sn(t,e){return function(r){return r!=null?(fl(this,t,r),Z.updateOffset(this,e),this):ei(this,t)}}function ei(t,e){if(!t.isValid())return NaN;var r=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function fl(t,e,r){var n,i,a,s,o;if(!(!t.isValid()||isNaN(r))){switch(n=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,s=t.month(),o=t.date(),o=o===29&&s===1&&!qa(a)?28:o,i?n.setUTCFullYear(a,s,o):n.setFullYear(a,s,o)}}function w2(t){return t=$e(t),sr(this[t])?this[t]():this}function A2(t,e){if(typeof t=="object"){t=To(t);var r=d2(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=$e(t),sr(this[t]))return this[t](e);return this}function E2(t,e){return(t%e+e)%e}var Vt;Array.prototype.indexOf?Vt=Array.prototype.indexOf:Vt=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Io(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=E2(e,12);return t+=(e-r)/12,r===1?qa(t)?29:28:31-r%7%2}nt("M",["MM",2],"Mo",function(){return this.month()+1});nt("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});nt("MMMM",0,0,function(t){return this.localeData().months(this,t)});X("M",kt,xn);X("MM",kt,Te);X("MMM",function(t,e){return e.monthsShortRegex(t)});X("MMMM",function(t,e){return e.monthsRegex(t)});bt(["M","MM"],function(t,e){e[dr]=lt(t)-1});bt(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[dr]=i:ft(r).invalidMonth=t});var b2="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ll="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cl=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,C2=xi,F2=xi;function x2(t,e){return t?Ge(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||cl).test(e)?"format":"standalone"][t.month()]:Ge(this._months)?this._months:this._months.standalone}function S2(t,e){return t?Ge(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[cl.test(e)?"format":"standalone"][t.month()]:Ge(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function N2(t,e,r){var n,i,a,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=ar([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?e==="MMM"?(i=Vt.call(this._shortMonthsParse,s),i!==-1?i:null):(i=Vt.call(this._longMonthsParse,s),i!==-1?i:null):e==="MMM"?(i=Vt.call(this._shortMonthsParse,s),i!==-1?i:(i=Vt.call(this._longMonthsParse,s),i!==-1?i:null)):(i=Vt.call(this._longMonthsParse,s),i!==-1?i:(i=Vt.call(this._shortMonthsParse,s),i!==-1?i:null))}function T2(t,e,r){var n,i,a;if(this._monthsParseExact)return N2.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=ar([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function dl(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=lt(e);else if(e=t.localeData().monthsParse(e),!yr(e))return t}var r=e,n=t.date();return n=n<29?n:Math.min(n,Io(t.year(),r)),t._isUTC?t._d.setUTCMonth(r,n):t._d.setMonth(r,n),t}function vl(t){return t!=null?(dl(this,t),Z.updateOffset(this,!0),this):ei(this,"Month")}function B2(){return Io(this.year(),this.month())}function O2(t){return this._monthsParseExact?(mt(this,"_monthsRegex")||ml.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(mt(this,"_monthsShortRegex")||(this._monthsShortRegex=C2),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function k2(t){return this._monthsParseExact?(mt(this,"_monthsRegex")||ml.call(this),t?this._monthsStrictRegex:this._monthsRegex):(mt(this,"_monthsRegex")||(this._monthsRegex=F2),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function ml(){function t(u,h){return h.length-u.length}var e=[],r=[],n=[],i,a,s,o;for(i=0;i<12;i++)a=ar([2e3,i]),s=mr(this.monthsShort(a,"")),o=mr(this.months(a,"")),e.push(s),r.push(o),n.push(o),n.push(s);e.sort(t),r.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function I2(t,e,r,n,i,a,s){var o;return t<100&&t>=0?(o=new Date(t+400,e,r,n,i,a,s),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,r,n,i,a,s),o}function ri(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ea(t,e,r){var n=7+e-r,i=(7+ri(t,0,n).getUTCDay()-e)%7;return-i+n-1}function gl(t,e,r,n,i){var a=(7+r-n)%7,s=Ea(t,n,i),o=1+7*(e-1)+a+s,u,h;return o<=0?(u=t-1,h=Vn(u)+o):o>Vn(t)?(u=t+1,h=o-Vn(t)):(u=t,h=o),{year:u,dayOfYear:h}}function ni(t,e,r){var n=Ea(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,a,s;return i<1?(s=t.year()-1,a=i+gr(s,e,r)):i>gr(t.year(),e,r)?(a=i-gr(t.year(),e,r),s=t.year()+1):(s=t.year(),a=i),{week:a,year:s}}function gr(t,e,r){var n=Ea(t,e,r),i=Ea(t+1,e,r);return(Vn(t)-n+i)/7}nt("w",["ww",2],"wo","week");nt("W",["WW",2],"Wo","isoWeek");X("w",kt,xn);X("ww",kt,Te);X("W",kt,xn);X("WW",kt,Te);Si(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=lt(t)});function P2(t){return ni(t,this._week.dow,this._week.doy).week}var R2={dow:0,doy:6};function L2(){return this._week.dow}function Y2(){return this._week.doy}function $2(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function z2(t){var e=ni(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}nt("d",0,"do","day");nt("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});nt("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});nt("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});nt("e",0,0,"weekday");nt("E",0,0,"isoWeekday");X("d",kt);X("e",kt);X("E",kt);X("dd",function(t,e){return e.weekdaysMinRegex(t)});X("ddd",function(t,e){return e.weekdaysShortRegex(t)});X("dddd",function(t,e){return e.weekdaysRegex(t)});Si(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:ft(r).invalidWeekday=t});Si(["d","e","E"],function(t,e,r,n){e[n]=lt(t)});function q2(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function U2(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Po(t,e){return t.slice(e,7).concat(t.slice(0,e))}var W2="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yl="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),V2="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),j2=xi,G2=xi,H2=xi;function Z2(t,e){var r=Ge(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Po(r,this._week.dow):t?r[t.day()]:r}function Q2(t){return t===!0?Po(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function J2(t){return t===!0?Po(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function X2(t,e,r){var n,i,a,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=ar([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?e==="dddd"?(i=Vt.call(this._weekdaysParse,s),i!==-1?i:null):e==="ddd"?(i=Vt.call(this._shortWeekdaysParse,s),i!==-1?i:null):(i=Vt.call(this._minWeekdaysParse,s),i!==-1?i:null):e==="dddd"?(i=Vt.call(this._weekdaysParse,s),i!==-1||(i=Vt.call(this._shortWeekdaysParse,s),i!==-1)?i:(i=Vt.call(this._minWeekdaysParse,s),i!==-1?i:null)):e==="ddd"?(i=Vt.call(this._shortWeekdaysParse,s),i!==-1||(i=Vt.call(this._weekdaysParse,s),i!==-1)?i:(i=Vt.call(this._minWeekdaysParse,s),i!==-1?i:null)):(i=Vt.call(this._minWeekdaysParse,s),i!==-1||(i=Vt.call(this._weekdaysParse,s),i!==-1)?i:(i=Vt.call(this._shortWeekdaysParse,s),i!==-1?i:null))}function K2(t,e,r){var n,i,a;if(this._weekdaysParseExact)return X2.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=ar([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function tM(t){if(!this.isValid())return t!=null?this:NaN;var e=ei(this,"Day");return t!=null?(t=q2(t,this.localeData()),this.add(t-e,"d")):e}function eM(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function rM(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=U2(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function nM(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||Ro.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(mt(this,"_weekdaysRegex")||(this._weekdaysRegex=j2),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function iM(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||Ro.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(mt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=G2),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function aM(t){return this._weekdaysParseExact?(mt(this,"_weekdaysRegex")||Ro.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(mt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=H2),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ro(){function t(f,l){return l.length-f.length}var e=[],r=[],n=[],i=[],a,s,o,u,h;for(a=0;a<7;a++)s=ar([2e3,1]).day(a),o=mr(this.weekdaysMin(s,"")),u=mr(this.weekdaysShort(s,"")),h=mr(this.weekdays(s,"")),e.push(o),r.push(u),n.push(h),i.push(o),i.push(u),i.push(h);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Lo(){return this.hours()%12||12}function sM(){return this.hours()||24}nt("H",["HH",2],0,"hour");nt("h",["hh",2],0,Lo);nt("k",["kk",2],0,sM);nt("hmm",0,0,function(){return""+Lo.apply(this)+ir(this.minutes(),2)});nt("hmmss",0,0,function(){return""+Lo.apply(this)+ir(this.minutes(),2)+ir(this.seconds(),2)});nt("Hmm",0,0,function(){return""+this.hours()+ir(this.minutes(),2)});nt("Hmmss",0,0,function(){return""+this.hours()+ir(this.minutes(),2)+ir(this.seconds(),2)});function pl(t,e){nt(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}pl("a",!0);pl("A",!1);function _l(t,e){return e._meridiemParse}X("a",_l);X("A",_l);X("H",kt,ko);X("h",kt,xn);X("k",kt,xn);X("HH",kt,Te);X("hh",kt,Te);X("kk",kt,Te);X("hmm",ol);X("hmmss",ul);X("Hmm",ol);X("Hmmss",ul);bt(["H","HH"],te);bt(["k","kk"],function(t,e,r){var n=lt(t);e[te]=n===24?0:n});bt(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});bt(["h","hh"],function(t,e,r){e[te]=lt(t),ft(r).bigHour=!0});bt("hmm",function(t,e,r){var n=t.length-2;e[te]=lt(t.substr(0,n)),e[We]=lt(t.substr(n)),ft(r).bigHour=!0});bt("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[te]=lt(t.substr(0,n)),e[We]=lt(t.substr(n,2)),e[vr]=lt(t.substr(i)),ft(r).bigHour=!0});bt("Hmm",function(t,e,r){var n=t.length-2;e[te]=lt(t.substr(0,n)),e[We]=lt(t.substr(n))});bt("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[te]=lt(t.substr(0,n)),e[We]=lt(t.substr(n,2)),e[vr]=lt(t.substr(i))});function oM(t){return(t+"").toLowerCase().charAt(0)==="p"}var uM=/[ap]\.?m?\.?/i,hM=Sn("Hours",!0);function fM(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var Dl={calendar:XD,longDateFormat:r2,invalidDate:i2,ordinal:s2,dayOfMonthOrdinalParse:o2,relativeTime:h2,months:b2,monthsShort:ll,week:R2,weekdays:W2,weekdaysMin:V2,weekdaysShort:yl,meridiemParse:uM},Pt={},On={},ii;function lM(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function Fh(t){return t&&t.toLowerCase().replace("_","-")}function cM(t){for(var e=0,r,n,i,a;e<t.length;){for(a=Fh(t[e]).split("-"),r=a.length,n=Fh(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=Ua(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&lM(a,n)>=r-1)break;r--}e++}return ii}function dM(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Ua(t){var e=null,r;if(Pt[t]===void 0&&typeof Xi<"u"&&Xi&&Xi.exports&&dM(t))try{e=ii._abbr,r=require,r("./locale/"+t),xr(e)}catch(n){Pt[t]=null}return Pt[t]}function xr(t,e){var r;return t&&(Ae(e)?r=_r(t):r=Yo(t,e),r?ii=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ii._abbr}function Yo(t,e){if(e!==null){var r,n=Dl;if(e.abbr=t,Pt[t]!=null)nl("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Pt[t]._config;else if(e.parentLocale!=null)if(Pt[e.parentLocale]!=null)n=Pt[e.parentLocale]._config;else if(r=Ua(e.parentLocale),r!=null)n=r._config;else return On[e.parentLocale]||(On[e.parentLocale]=[]),On[e.parentLocale].push({name:t,config:e}),null;return Pt[t]=new So(qs(n,e)),On[t]&&On[t].forEach(function(i){Yo(i.name,i.config)}),xr(t),Pt[t]}else return delete Pt[t],null}function vM(t,e){if(e!=null){var r,n,i=Dl;Pt[t]!=null&&Pt[t].parentLocale!=null?Pt[t].set(qs(Pt[t]._config,e)):(n=Ua(t),n!=null&&(i=n._config),e=qs(i,e),n==null&&(e.abbr=t),r=new So(e),r.parentLocale=Pt[t],Pt[t]=r),xr(t)}else Pt[t]!=null&&(Pt[t].parentLocale!=null?(Pt[t]=Pt[t].parentLocale,t===xr()&&xr(t)):Pt[t]!=null&&delete Pt[t]);return Pt[t]}function _r(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ii;if(!Ge(t)){if(e=Ua(t),e)return e;t=[t]}return cM(t)}function mM(){return Us(Pt)}function $o(t){var e,r=t._a;return r&&ft(t).overflow===-2&&(e=r[dr]<0||r[dr]>11?dr:r[Xe]<1||r[Xe]>Io(r[ve],r[dr])?Xe:r[te]<0||r[te]>24||r[te]===24&&(r[We]!==0||r[vr]!==0||r[Yr]!==0)?te:r[We]<0||r[We]>59?We:r[vr]<0||r[vr]>59?vr:r[Yr]<0||r[Yr]>999?Yr:-1,ft(t)._overflowDayOfYear&&(e<ve||e>Xe)&&(e=Xe),ft(t)._overflowWeeks&&e===-1&&(e=_2),ft(t)._overflowWeekday&&e===-1&&(e=D2),ft(t).overflow=e),t}var gM=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yM=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pM=/Z|[+-]\d\d(?::?\d\d)?/,$i=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ps=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_M=/^\/?Date\((-?\d+)/i,DM=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,MM={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ml(t){var e,r,n=t._i,i=gM.exec(n)||yM.exec(n),a,s,o,u,h=$i.length,f=ps.length;if(i){for(ft(t).iso=!0,e=0,r=h;e<r;e++)if($i[e][1].exec(i[1])){s=$i[e][0],a=$i[e][2]!==!1;break}if(s==null){t._isValid=!1;return}if(i[3]){for(e=0,r=f;e<r;e++)if(ps[e][1].exec(i[3])){o=(i[2]||" ")+ps[e][0];break}if(o==null){t._isValid=!1;return}}if(!a&&o!=null){t._isValid=!1;return}if(i[4])if(pM.exec(i[4]))u="Z";else{t._isValid=!1;return}t._f=s+(o||"")+(u||""),qo(t)}else t._isValid=!1}function wM(t,e,r,n,i,a){var s=[AM(t),ll.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&s.push(parseInt(a,10)),s}function AM(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function EM(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function bM(t,e,r){if(t){var n=yl.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return ft(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function CM(t,e,r){if(t)return MM[t];if(e)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function wl(t){var e=DM.exec(EM(t._i)),r;if(e){if(r=wM(e[4],e[3],e[2],e[5],e[6],e[7]),!bM(e[1],r,t))return;t._a=r,t._tzm=CM(e[8],e[9],e[10]),t._d=ri.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ft(t).rfc2822=!0}else t._isValid=!1}function FM(t){var e=_M.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Ml(t),t._isValid===!1)delete t._isValid;else return;if(wl(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:Z.createFromInputFallback(t)}Z.createFromInputFallback=Ye("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function sn(t,e,r){return t!=null?t:e!=null?e:r}function xM(t){var e=new Date(Z.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function zo(t){var e,r,n=[],i,a,s;if(!t._d){for(i=xM(t),t._w&&t._a[Xe]==null&&t._a[dr]==null&&SM(t),t._dayOfYear!=null&&(s=sn(t._a[ve],i[ve]),(t._dayOfYear>Vn(s)||t._dayOfYear===0)&&(ft(t)._overflowDayOfYear=!0),r=ri(s,0,t._dayOfYear),t._a[dr]=r.getUTCMonth(),t._a[Xe]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[te]===24&&t._a[We]===0&&t._a[vr]===0&&t._a[Yr]===0&&(t._nextDay=!0,t._a[te]=0),t._d=(t._useUTC?ri:I2).apply(null,n),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[te]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(ft(t).weekdayMismatch=!0)}}function SM(t){var e,r,n,i,a,s,o,u,h;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,s=4,r=sn(e.GG,t._a[ve],ni(Ot(),1,4).year),n=sn(e.W,1),i=sn(e.E,1),(i<1||i>7)&&(u=!0)):(a=t._locale._week.dow,s=t._locale._week.doy,h=ni(Ot(),a,s),r=sn(e.gg,t._a[ve],h.year),n=sn(e.w,h.week),e.d!=null?(i=e.d,(i<0||i>6)&&(u=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(u=!0)):i=a),n<1||n>gr(r,a,s)?ft(t)._overflowWeeks=!0:u!=null?ft(t)._overflowWeekday=!0:(o=gl(r,n,i,a,s),t._a[ve]=o.year,t._dayOfYear=o.dayOfYear)}Z.ISO_8601=function(){};Z.RFC_2822=function(){};function qo(t){if(t._f===Z.ISO_8601){Ml(t);return}if(t._f===Z.RFC_2822){wl(t);return}t._a=[],ft(t).empty=!0;var e=""+t._i,r,n,i,a,s,o=e.length,u=0,h,f;for(i=il(t._f,t._locale).match(No)||[],f=i.length,r=0;r<f;r++)a=i[r],n=(e.match(g2(a,t))||[])[0],n&&(s=e.substr(0,e.indexOf(n)),s.length>0&&ft(t).unusedInput.push(s),e=e.slice(e.indexOf(n)+n.length),u+=n.length),gn[a]?(n?ft(t).empty=!1:ft(t).unusedTokens.push(a),p2(a,n,t)):t._strict&&!n&&ft(t).unusedTokens.push(a);ft(t).charsLeftOver=o-u,e.length>0&&ft(t).unusedInput.push(e),t._a[te]<=12&&ft(t).bigHour===!0&&t._a[te]>0&&(ft(t).bigHour=void 0),ft(t).parsedDateParts=t._a.slice(0),ft(t).meridiem=t._meridiem,t._a[te]=NM(t._locale,t._a[te],t._meridiem),h=ft(t).era,h!==null&&(t._a[ve]=t._locale.erasConvertYear(h,t._a[ve])),zo(t),$o(t)}function NM(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function TM(t){var e,r,n,i,a,s,o=!1,u=t._f.length;if(u===0){ft(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<u;i++)a=0,s=!1,e=xo({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],qo(e),Fo(e)&&(s=!0),a+=ft(e).charsLeftOver,a+=ft(e).unusedTokens.length*10,ft(e).score=a,o?a<n&&(n=a,r=e):(n==null||a<n||s)&&(n=a,r=e,s&&(o=!0));br(t,r||e)}function BM(t){if(!t._d){var e=To(t._i),r=e.day===void 0?e.date:e.day;t._a=el([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),zo(t)}}function OM(t){var e=new Fi($o(Al(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Al(t){var e=t._i,r=t._f;return t._locale=t._locale||_r(t._l),e===null||r===void 0&&e===""?Pa({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),He(e)?new Fi($o(e)):(Ci(e)?t._d=e:Ge(r)?TM(t):r?qo(t):kM(t),Fo(t)||(t._d=null),t))}function kM(t){var e=t._i;Ae(e)?t._d=new Date(Z.now()):Ci(e)?t._d=new Date(e.valueOf()):typeof e=="string"?FM(t):Ge(e)?(t._a=el(e.slice(0),function(r){return parseInt(r,10)}),zo(t)):qr(e)?BM(t):yr(e)?t._d=new Date(e):Z.createFromInputFallback(t)}function El(t,e,r,n,i){var a={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(qr(t)&&Co(t)||Ge(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=t,a._f=e,a._strict=n,OM(a)}function Ot(t,e,r,n){return El(t,e,r,n,!1)}var IM=Ye("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ot.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Pa()}),PM=Ye("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ot.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Pa()});function bl(t,e){var r,n;if(e.length===1&&Ge(e[0])&&(e=e[0]),!e.length)return Ot();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function RM(){var t=[].slice.call(arguments,0);return bl("isBefore",t)}function LM(){var t=[].slice.call(arguments,0);return bl("isAfter",t)}var YM=function(){return Date.now?Date.now():+new Date},kn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function $M(t){var e,r=!1,n,i=kn.length;for(e in t)if(mt(t,e)&&!(Vt.call(kn,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[kn[n]]){if(r)return!1;parseFloat(t[kn[n]])!==lt(t[kn[n]])&&(r=!0)}return!0}function zM(){return this._isValid}function qM(){return Ze(NaN)}function Wa(t){var e=To(t),r=e.year||0,n=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,s=e.day||0,o=e.hour||0,u=e.minute||0,h=e.second||0,f=e.millisecond||0;this._isValid=$M(e),this._milliseconds=+f+h*1e3+u*6e4+o*1e3*60*60,this._days=+s+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=_r(),this._bubble()}function Qi(t){return t instanceof Wa}function Vs(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function UM(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,s;for(s=0;s<n;s++)lt(t[s])!==lt(e[s])&&a++;return a+i}function Cl(t,e){nt(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ir(~~(r/60),2)+e+ir(~~r%60,2)})}Cl("Z",":");Cl("ZZ","");X("Z",za);X("ZZ",za);bt(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=Uo(za,t)});var WM=/([\+\-]|\d\d)/gi;function Uo(t,e){var r=(e||"").match(t),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(WM)||["-",0,0],a=+(i[1]*60)+lt(i[2]),a===0?0:i[0]==="+"?a:-a)}function Wo(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(He(t)||Ci(t)?t.valueOf():Ot(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Z.updateOffset(r,!1),r):Ot(t).local()}function js(t){return-Math.round(t._d.getTimezoneOffset())}Z.updateOffset=function(){};function VM(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Uo(za,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=js(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?Sl(this,Ze(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Z.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:js(this)}function jM(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function GM(t){return this.utcOffset(0,t)}function HM(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(js(this),"m")),this}function ZM(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Uo(v2,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function QM(t){return this.isValid()?(t=t?Ot(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function JM(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function XM(){if(!Ae(this._isDSTShifted))return this._isDSTShifted;var t={},e;return xo(t,this),t=Al(t),t._a?(e=t._isUTC?ar(t._a):Ot(t._a),this._isDSTShifted=this.isValid()&&UM(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function KM(){return this.isValid()?!this._isUTC:!1}function tw(){return this.isValid()?this._isUTC:!1}function Fl(){return this.isValid()?this._isUTC&&this._offset===0:!1}var ew=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,rw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ze(t,e){var r=t,n=null,i,a,s;return Qi(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:yr(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=ew.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:lt(n[Xe])*i,h:lt(n[te])*i,m:lt(n[We])*i,s:lt(n[vr])*i,ms:lt(Vs(n[Yr]*1e3))*i}):(n=rw.exec(t))?(i=n[1]==="-"?-1:1,r={y:Ir(n[2],i),M:Ir(n[3],i),w:Ir(n[4],i),d:Ir(n[5],i),h:Ir(n[6],i),m:Ir(n[7],i),s:Ir(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(s=nw(Ot(r.from),Ot(r.to)),r={},r.ms=s.milliseconds,r.M=s.months),a=new Wa(r),Qi(t)&&mt(t,"_locale")&&(a._locale=t._locale),Qi(t)&&mt(t,"_isValid")&&(a._isValid=t._isValid),a}Ze.fn=Wa.prototype;Ze.invalid=qM;function Ir(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function xh(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function nw(t,e){var r;return t.isValid()&&e.isValid()?(e=Wo(e,t),t.isBefore(e)?r=xh(t,e):(r=xh(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function xl(t,e){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(nl(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Ze(r,n),Sl(this,i,t),this}}function Sl(t,e,r,n){var i=e._milliseconds,a=Vs(e._days),s=Vs(e._months);t.isValid()&&(n=n==null?!0:n,s&&dl(t,ei(t,"Month")+s*r),a&&fl(t,"Date",ei(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&Z.updateOffset(t,a||s))}var iw=xl(1,"add"),aw=xl(-1,"subtract");function Nl(t){return typeof t=="string"||t instanceof String}function sw(t){return He(t)||Ci(t)||Nl(t)||yr(t)||uw(t)||ow(t)||t===null||t===void 0}function ow(t){var e=qr(t)&&!Co(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,s=n.length;for(i=0;i<s;i+=1)a=n[i],r=r||mt(t,a);return e&&r}function uw(t){var e=Ge(t),r=!1;return e&&(r=t.filter(function(n){return!yr(n)&&Nl(t)}).length===0),e&&r}function hw(t){var e=qr(t)&&!Co(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||mt(t,a);return e&&r}function fw(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function lw(t,e){arguments.length===1&&(arguments[0]?sw(arguments[0])?(t=arguments[0],e=void 0):hw(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||Ot(),n=Wo(r,this).startOf("day"),i=Z.calendarFormat(this,n)||"sameElse",a=e&&(sr(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,Ot(r)))}function cw(){return new Fi(this)}function dw(t,e){var r=He(t)?t:Ot(t);return this.isValid()&&r.isValid()?(e=$e(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function vw(t,e){var r=He(t)?t:Ot(t);return this.isValid()&&r.isValid()?(e=$e(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function mw(t,e,r,n){var i=He(t)?t:Ot(t),a=He(e)?e:Ot(e);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function gw(t,e){var r=He(t)?t:Ot(t),n;return this.isValid()&&r.isValid()?(e=$e(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function yw(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function pw(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function _w(t,e,r){var n,i,a;if(!this.isValid())return NaN;if(n=Wo(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=$e(e),e){case"year":a=Ji(this,n)/12;break;case"month":a=Ji(this,n);break;case"quarter":a=Ji(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:Le(a)}function Ji(t,e){if(t.date()<e.date())return-Ji(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,a;return e-n<0?(i=t.clone().add(r-1,"months"),a=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),a=(e-n)/(i-n)),-(r+a)||0}Z.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Z.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Mw(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?Zi(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):sr(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Zi(r,"Z")):Zi(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ww(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(r+n+i+a)}function Aw(t){t||(t=this.isUtc()?Z.defaultFormatUtc:Z.defaultFormat);var e=Zi(this,t);return this.localeData().postformat(e)}function Ew(t,e){return this.isValid()&&(He(t)&&t.isValid()||Ot(t).isValid())?Ze({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bw(t){return this.from(Ot(),t)}function Cw(t,e){return this.isValid()&&(He(t)&&t.isValid()||Ot(t).isValid())?Ze({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Fw(t){return this.to(Ot(),t)}function Tl(t){var e;return t===void 0?this._locale._abbr:(e=_r(t),e!=null&&(this._locale=e),this)}var Bl=Ye("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Ol(){return this._locale}var ba=1e3,yn=60*ba,Ca=60*yn,kl=(365*400+97)*24*Ca;function pn(t,e){return(t%e+e)%e}function Il(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-kl:new Date(t,e,r).valueOf()}function Pl(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-kl:Date.UTC(t,e,r)}function xw(t){var e,r;if(t=$e(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Pl:Il,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=pn(e+(this._isUTC?0:this.utcOffset()*yn),Ca);break;case"minute":e=this._d.valueOf(),e-=pn(e,yn);break;case"second":e=this._d.valueOf(),e-=pn(e,ba);break}return this._d.setTime(e),Z.updateOffset(this,!0),this}function Sw(t){var e,r;if(t=$e(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?Pl:Il,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Ca-pn(e+(this._isUTC?0:this.utcOffset()*yn),Ca)-1;break;case"minute":e=this._d.valueOf(),e+=yn-pn(e,yn)-1;break;case"second":e=this._d.valueOf(),e+=ba-pn(e,ba)-1;break}return this._d.setTime(e),Z.updateOffset(this,!0),this}function Nw(){return this._d.valueOf()-(this._offset||0)*6e4}function Tw(){return Math.floor(this.valueOf()/1e3)}function Bw(){return new Date(this.valueOf())}function Ow(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function kw(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Iw(){return this.isValid()?this.toISOString():null}function Pw(){return Fo(this)}function Rw(){return br({},ft(this))}function Lw(){return ft(this).overflow}function Yw(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}nt("N",0,0,"eraAbbr");nt("NN",0,0,"eraAbbr");nt("NNN",0,0,"eraAbbr");nt("NNNN",0,0,"eraName");nt("NNNNN",0,0,"eraNarrow");nt("y",["y",1],"yo","eraYear");nt("y",["yy",2],0,"eraYear");nt("y",["yyy",3],0,"eraYear");nt("y",["yyyy",4],0,"eraYear");X("N",Vo);X("NN",Vo);X("NNN",Vo);X("NNNN",Qw);X("NNNNN",Jw);bt(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?ft(r).era=i:ft(r).invalidEra=t});X("y",Fn);X("yy",Fn);X("yyy",Fn);X("yyyy",Fn);X("yo",Xw);bt(["y","yy","yyy","yyyy"],ve);bt(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[ve]=r._locale.eraYearOrdinalParse(t,i):e[ve]=parseInt(t,10)});function $w(t,e){var r,n,i,a=this._eras||_r("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=Z(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=Z(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function zw(t,e,r){var n,i,a=this.eras(),s,o,u;for(t=t.toUpperCase(),n=0,i=a.length;n<i;++n)if(s=a[n].name.toUpperCase(),o=a[n].abbr.toUpperCase(),u=a[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(o===t)return a[n];break;case"NNNN":if(s===t)return a[n];break;case"NNNNN":if(u===t)return a[n];break}else if([s,o,u].indexOf(t)>=0)return a[n]}function qw(t,e){var r=t.since<=t.until?1:-1;return e===void 0?Z(t.since).year():Z(t.since).year()+(e-t.offset)*r}function Uw(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function Ww(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function Vw(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function jw(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-Z(i[t].since).year())*r+i[t].offset;return this.year()}function Gw(t){return mt(this,"_erasNameRegex")||jo.call(this),t?this._erasNameRegex:this._erasRegex}function Hw(t){return mt(this,"_erasAbbrRegex")||jo.call(this),t?this._erasAbbrRegex:this._erasRegex}function Zw(t){return mt(this,"_erasNarrowRegex")||jo.call(this),t?this._erasNarrowRegex:this._erasRegex}function Vo(t,e){return e.erasAbbrRegex(t)}function Qw(t,e){return e.erasNameRegex(t)}function Jw(t,e){return e.erasNarrowRegex(t)}function Xw(t,e){return e._eraYearOrdinalRegex||Fn}function jo(){var t=[],e=[],r=[],n=[],i,a,s,o,u,h=this.eras();for(i=0,a=h.length;i<a;++i)s=mr(h[i].name),o=mr(h[i].abbr),u=mr(h[i].narrow),e.push(s),t.push(o),r.push(u),n.push(s),n.push(o),n.push(u);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}nt(0,["gg",2],0,function(){return this.weekYear()%100});nt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Va(t,e){nt(0,[t,t.length],0,e)}Va("gggg","weekYear");Va("ggggg","weekYear");Va("GGGG","isoWeekYear");Va("GGGGG","isoWeekYear");X("G",$a);X("g",$a);X("GG",kt,Te);X("gg",kt,Te);X("GGGG",Oo,Bo);X("gggg",Oo,Bo);X("GGGGG",Ya,Ra);X("ggggg",Ya,Ra);Si(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=lt(t)});Si(["gg","GG"],function(t,e,r,n){e[n]=Z.parseTwoDigitYear(t)});function Kw(t){return Rl.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function tA(t){return Rl.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function eA(){return gr(this.year(),1,4)}function rA(){return gr(this.isoWeekYear(),1,4)}function nA(){var t=this.localeData()._week;return gr(this.year(),t.dow,t.doy)}function iA(){var t=this.localeData()._week;return gr(this.weekYear(),t.dow,t.doy)}function Rl(t,e,r,n,i){var a;return t==null?ni(this,n,i).year:(a=gr(t,n,i),e>a&&(e=a),aA.call(this,t,e,r,n,i))}function aA(t,e,r,n,i){var a=gl(t,e,r,n,i),s=ri(a.year,0,a.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}nt("Q",0,"Qo","quarter");X("Q",al);bt("Q",function(t,e){e[dr]=(lt(t)-1)*3});function sA(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}nt("D",["DD",2],"Do","date");X("D",kt,xn);X("DD",kt,Te);X("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});bt(["D","DD"],Xe);bt("Do",function(t,e){e[Xe]=lt(t.match(kt)[0])});var Ll=Sn("Date",!0);nt("DDD",["DDDD",3],"DDDo","dayOfYear");X("DDD",La);X("DDDD",sl);bt(["DDD","DDDD"],function(t,e,r){r._dayOfYear=lt(t)});function oA(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}nt("m",["mm",2],0,"minute");X("m",kt,ko);X("mm",kt,Te);bt(["m","mm"],We);var uA=Sn("Minutes",!1);nt("s",["ss",2],0,"second");X("s",kt,ko);X("ss",kt,Te);bt(["s","ss"],vr);var hA=Sn("Seconds",!1);nt("S",0,0,function(){return~~(this.millisecond()/100)});nt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});nt(0,["SSS",3],0,"millisecond");nt(0,["SSSS",4],0,function(){return this.millisecond()*10});nt(0,["SSSSS",5],0,function(){return this.millisecond()*100});nt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});nt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});nt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});nt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});X("S",La,al);X("SS",La,Te);X("SSS",La,sl);var Cr,Yl;for(Cr="SSSS";Cr.length<=9;Cr+="S")X(Cr,Fn);function fA(t,e){e[Yr]=lt(("0."+t)*1e3)}for(Cr="S";Cr.length<=9;Cr+="S")bt(Cr,fA);Yl=Sn("Milliseconds",!1);nt("z",0,0,"zoneAbbr");nt("zz",0,0,"zoneName");function lA(){return this._isUTC?"UTC":""}function cA(){return this._isUTC?"Coordinated Universal Time":""}var L=Fi.prototype;L.add=iw;L.calendar=lw;L.clone=cw;L.diff=_w;L.endOf=Sw;L.format=Aw;L.from=Ew;L.fromNow=bw;L.to=Cw;L.toNow=Fw;L.get=w2;L.invalidAt=Lw;L.isAfter=dw;L.isBefore=vw;L.isBetween=mw;L.isSame=gw;L.isSameOrAfter=yw;L.isSameOrBefore=pw;L.isValid=Pw;L.lang=Bl;L.locale=Tl;L.localeData=Ol;L.max=PM;L.min=IM;L.parsingFlags=Rw;L.set=A2;L.startOf=xw;L.subtract=aw;L.toArray=Ow;L.toObject=kw;L.toDate=Bw;L.toISOString=Mw;L.inspect=ww;typeof Symbol<"u"&&Symbol.for!=null&&(L[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});L.toJSON=Iw;L.toString=Dw;L.unix=Tw;L.valueOf=Nw;L.creationData=Yw;L.eraName=Uw;L.eraNarrow=Ww;L.eraAbbr=Vw;L.eraYear=jw;L.year=hl;L.isLeapYear=M2;L.weekYear=Kw;L.isoWeekYear=tA;L.quarter=L.quarters=sA;L.month=vl;L.daysInMonth=B2;L.week=L.weeks=$2;L.isoWeek=L.isoWeeks=z2;L.weeksInYear=nA;L.weeksInWeekYear=iA;L.isoWeeksInYear=eA;L.isoWeeksInISOWeekYear=rA;L.date=Ll;L.day=L.days=tM;L.weekday=eM;L.isoWeekday=rM;L.dayOfYear=oA;L.hour=L.hours=hM;L.minute=L.minutes=uA;L.second=L.seconds=hA;L.millisecond=L.milliseconds=Yl;L.utcOffset=VM;L.utc=GM;L.local=HM;L.parseZone=ZM;L.hasAlignedHourOffset=QM;L.isDST=JM;L.isLocal=KM;L.isUtcOffset=tw;L.isUtc=Fl;L.isUTC=Fl;L.zoneAbbr=lA;L.zoneName=cA;L.dates=Ye("dates accessor is deprecated. Use date instead.",Ll);L.months=Ye("months accessor is deprecated. Use month instead",vl);L.years=Ye("years accessor is deprecated. Use year instead",hl);L.zone=Ye("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",jM);L.isDSTShifted=Ye("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",XM);function dA(t){return Ot(t*1e3)}function vA(){return Ot.apply(null,arguments).parseZone()}function $l(t){return t}var gt=So.prototype;gt.calendar=KD;gt.longDateFormat=n2;gt.invalidDate=a2;gt.ordinal=u2;gt.preparse=$l;gt.postformat=$l;gt.relativeTime=f2;gt.pastFuture=l2;gt.set=JD;gt.eras=$w;gt.erasParse=zw;gt.erasConvertYear=qw;gt.erasAbbrRegex=Hw;gt.erasNameRegex=Gw;gt.erasNarrowRegex=Zw;gt.months=x2;gt.monthsShort=S2;gt.monthsParse=T2;gt.monthsRegex=k2;gt.monthsShortRegex=O2;gt.week=P2;gt.firstDayOfYear=Y2;gt.firstDayOfWeek=L2;gt.weekdays=Z2;gt.weekdaysMin=J2;gt.weekdaysShort=Q2;gt.weekdaysParse=K2;gt.weekdaysRegex=nM;gt.weekdaysShortRegex=iM;gt.weekdaysMinRegex=aM;gt.isPM=oM;gt.meridiem=fM;function Fa(t,e,r,n){var i=_r(),a=ar().set(n,e);return i[r](a,t)}function zl(t,e,r){if(yr(t)&&(e=t,t=void 0),t=t||"",e!=null)return Fa(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Fa(t,n,r,"month");return i}function Go(t,e,r,n){typeof t=="boolean"?(yr(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,yr(e)&&(r=e,e=void 0),e=e||"");var i=_r(),a=t?i._week.dow:0,s,o=[];if(r!=null)return Fa(e,(r+a)%7,n,"day");for(s=0;s<7;s++)o[s]=Fa(e,(s+a)%7,n,"day");return o}function mA(t,e){return zl(t,e,"months")}function gA(t,e){return zl(t,e,"monthsShort")}function yA(t,e,r){return Go(t,e,r,"weekdays")}function pA(t,e,r){return Go(t,e,r,"weekdaysShort")}function _A(t,e,r){return Go(t,e,r,"weekdaysMin")}xr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=lt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});Z.lang=Ye("moment.lang is deprecated. Use moment.locale instead.",xr);Z.langData=Ye("moment.langData is deprecated. Use moment.localeData instead.",_r);var fr=Math.abs;function DA(){var t=this._data;return this._milliseconds=fr(this._milliseconds),this._days=fr(this._days),this._months=fr(this._months),t.milliseconds=fr(t.milliseconds),t.seconds=fr(t.seconds),t.minutes=fr(t.minutes),t.hours=fr(t.hours),t.months=fr(t.months),t.years=fr(t.years),this}function ql(t,e,r,n){var i=Ze(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function MA(t,e){return ql(this,t,e,1)}function wA(t,e){return ql(this,t,e,-1)}function Sh(t){return t<0?Math.floor(t):Math.ceil(t)}function AA(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,a,s,o,u;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=Sh(Gs(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=Le(t/1e3),n.seconds=i%60,a=Le(i/60),n.minutes=a%60,s=Le(a/60),n.hours=s%24,e+=Le(s/24),u=Le(Ul(e)),r+=u,e-=Sh(Gs(u)),o=Le(r/12),r%=12,n.days=e,n.months=r,n.years=o,this}function Ul(t){return t*4800/146097}function Gs(t){return t*146097/4800}function EA(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=$e(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+Ul(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(Gs(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Dr(t){return function(){return this.as(t)}}var Wl=Dr("ms"),bA=Dr("s"),CA=Dr("m"),FA=Dr("h"),xA=Dr("d"),SA=Dr("w"),NA=Dr("M"),TA=Dr("Q"),BA=Dr("y"),OA=Wl;function kA(){return Ze(this)}function IA(t){return t=$e(t),this.isValid()?this[t+"s"]():NaN}function Zr(t){return function(){return this.isValid()?this._data[t]:NaN}}var PA=Zr("milliseconds"),RA=Zr("seconds"),LA=Zr("minutes"),YA=Zr("hours"),$A=Zr("days"),zA=Zr("months"),qA=Zr("years");function UA(){return Le(this.days()/7)}var lr=Math.round,cn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function WA(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function VA(t,e,r,n){var i=Ze(t).abs(),a=lr(i.as("s")),s=lr(i.as("m")),o=lr(i.as("h")),u=lr(i.as("d")),h=lr(i.as("M")),f=lr(i.as("w")),l=lr(i.as("y")),c=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||s<=1&&["m"]||s<r.m&&["mm",s]||o<=1&&["h"]||o<r.h&&["hh",o]||u<=1&&["d"]||u<r.d&&["dd",u];return r.w!=null&&(c=c||f<=1&&["w"]||f<r.w&&["ww",f]),c=c||h<=1&&["M"]||h<r.M&&["MM",h]||l<=1&&["y"]||["yy",l],c[2]=e,c[3]=+t>0,c[4]=n,WA.apply(null,c)}function jA(t){return t===void 0?lr:typeof t=="function"?(lr=t,!0):!1}function GA(t,e){return cn[t]===void 0?!1:e===void 0?cn[t]:(cn[t]=e,t==="s"&&(cn.ss=e-1),!0)}function HA(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=cn,i,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},cn,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),a=VA(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var _s=Math.abs;function rn(t){return(t>0)-(t<0)||+t}function ja(){if(!this.isValid())return this.localeData().invalidDate();var t=_s(this._milliseconds)/1e3,e=_s(this._days),r=_s(this._months),n,i,a,s,o=this.asSeconds(),u,h,f,l;return o?(n=Le(t/60),i=Le(n/60),t%=60,n%=60,a=Le(r/12),r%=12,s=t?t.toFixed(3).replace(/\.?0+$/,""):"",u=o<0?"-":"",h=rn(this._months)!==rn(o)?"-":"",f=rn(this._days)!==rn(o)?"-":"",l=rn(this._milliseconds)!==rn(o)?"-":"",u+"P"+(a?h+a+"Y":"")+(r?h+r+"M":"")+(e?f+e+"D":"")+(i||n||t?"T":"")+(i?l+i+"H":"")+(n?l+n+"M":"")+(t?l+s+"S":"")):"P0D"}var dt=Wa.prototype;dt.isValid=zM;dt.abs=DA;dt.add=MA;dt.subtract=wA;dt.as=EA;dt.asMilliseconds=Wl;dt.asSeconds=bA;dt.asMinutes=CA;dt.asHours=FA;dt.asDays=xA;dt.asWeeks=SA;dt.asMonths=NA;dt.asQuarters=TA;dt.asYears=BA;dt.valueOf=OA;dt._bubble=AA;dt.clone=kA;dt.get=IA;dt.milliseconds=PA;dt.seconds=RA;dt.minutes=LA;dt.hours=YA;dt.days=$A;dt.weeks=UA;dt.months=zA;dt.years=qA;dt.humanize=HA;dt.toISOString=ja;dt.toString=ja;dt.toJSON=ja;dt.locale=Tl;dt.localeData=Ol;dt.toIsoString=Ye("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ja);dt.lang=Bl;nt("X",0,0,"unix");nt("x",0,0,"valueOf");X("x",$a);X("X",m2);bt("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});bt("x",function(t,e,r){r._d=new Date(lt(t))});//! moment.js
Z.version="2.30.1";ZD(Ot);Z.fn=L;Z.min=RM;Z.max=LM;Z.now=YM;Z.utc=ar;Z.unix=dA;Z.months=mA;Z.isDate=Ci;Z.locale=xr;Z.invalid=Pa;Z.duration=Ze;Z.isMoment=He;Z.weekdays=yA;Z.parseZone=vA;Z.localeData=_r;Z.isDuration=Qi;Z.monthsShort=gA;Z.weekdaysMin=_A;Z.defineLocale=Yo;Z.updateLocale=vM;Z.locales=mM;Z.weekdaysShort=pA;Z.normalizeUnits=$e;Z.relativeTimeRounding=jA;Z.relativeTimeThreshold=GA;Z.calendarFormat=fw;Z.prototype=L;Z.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Nh=t=>{const e=VD(t,t,"sparse"),r=Li(ln(wh(Mh(wa(ae([-.25]),Da(1,t-1))),1,"sparse"),ms(1,t,"sparse"),0)),n=Li(ln(wh(Mh(wa(ae([.25]),Da(1,t-1))),-1,"sparse"),ms(t,1,"sparse"),1)),i=Li(ln(ae([1.5,-.5],"sparse"),ms(t-2,1,"sparse"),0)),a=GD(e,r,n);return a.set([0,0],.5),a.set([1,0],.5),a.set([t-2,t-1],-.5),a.set([t-1,t-1],1.5),Li(ln(i,a,1))},ZA="https://sfiharvest.smd.sintef.no/datasets/output/",Ga=async(t,e)=>ZA+e+t,QA=async()=>{const t=await Ga("cascade.zarr","cascade/latest/"),e=ro(new so(t)),r=await Ce.v3(e.resolve("/time"),{kind:"array"});if(!r.is("float64"))throw Error("Time data type wrong, expected 'float64'");const n=await sd(r),i=n.shape[0],a=new Array(i),s=new Array(i);for(let o=0;o<i;++o)a[o]=Z(new Date(n.get(o)*1e3)).format("YYYY-MM-DDThh:mm:ssz"),s[o]=o;return{timestrings:a,timeindices:s}},JA=t=>({id:new Float64Array(t).map(()=>NaN),lng0:new Float64Array(t).map(()=>NaN),lat0:new Float64Array(t).map(()=>NaN),lng1:new Float64Array(t).map(()=>NaN),lat1:new Float64Array(t).map(()=>NaN),lng2:new Float64Array(t).map(()=>NaN),lat2:new Float64Array(t).map(()=>NaN),lng3:new Float64Array(t).map(()=>NaN),lat3:new Float64Array(t).map(()=>NaN),biomass_estimate:new Float64Array(t).map(()=>NaN),biomass_estimate_top_10m:new Float64Array(t).map(()=>NaN),uncertainty_biomass:new Float64Array(t).map(()=>NaN),information_gain:new Float64Array(t).map(()=>NaN)}),XA=async t=>{const e=JSON.parse(t);return e?e.reduce((r,n)=>n&&r?r.concat(n):r,[]):new Array},KA=async()=>{const t=await Ga("cascade.zarr","cascade/latest/"),e=ro(new so(t)),r=await Ce.v3(e.resolve("/x"),{kind:"array"}),n=await Ce.v3(e.resolve("/y"),{kind:"array"}),i=await Ce.v3(e.resolve("/grid_mapping"),{kind:"array"}),a=i.attrs.latitude_of_projection_origin,s=i.attrs.longitude_of_projection_origin,o=i.attrs.standard_parallel,u=i.attrs.semi_major_axis,h=i.attrs.semi_minor_axis,f=i.attrs.false_easting,l=i.attrs.false_northing,c=i.attrs.scale_factor_at_projection_origin,v="+proj=stere +lat_0="+a+" +lon_0="+s+" +lat_ts="+o+" +k="+c+" +a="+u+" +b="+h+" +x_0="+f+" +y_0="+l;if(Fe.defs("CASCADE",v),!r.is("float64"))throw Error("Longitude data type expected 'float64'!");if(!n.is("float64"))throw Error("Latitude data type expected 'float64'!");const g=await du(r),d=await du(n),m=g.shape[0],y=Ma(ae(Array.from(g.data)),[1,m]),M=wa(y,Nh(m)),p=d.shape[0],E=Ma(ae(Array.from(d.data)),[1,p]),_=wa(E,Nh(p)),D=Ah(M,Da(1,p+1)),C=Ah(Da(1,m+1),_),b=WD(ln(D,C,0)),A=b.size(),S={sizeX:m,sizeY:p,lng:new Float64Array(A[0]),lat:new Float64Array(A[0])},B=A[0];for(let $=0;$<B;++$){const J=Fe("CASCADE","WGS84").forward([b.get([$,0]),b.get([$,1])]);S.lng[$]=J[0],S.lat[$]=J[1]}return Zs(S,Hh(S))},t3=async(t,e,r)=>{const n=await Ga("cascade.zarr","cascade/latest/"),i=ro(new so(n)),a=JSON.parse(t),s=await Ce.v3(i.resolve("/biomass_estimate"),{kind:"array"}),o=await Ce.v3(i.resolve("/biomass_estimate_top_10m"),{kind:"array"}),u=await Ce.v3(i.resolve("/uncertainty_biomass"),{kind:"array"}),h=await Ce.v3(i.resolve("/information_gain"),{kind:"array"});if(!s.is("float64"))throw Error("Unexpected data type for biomass estimate, expected 'float64'!");if(!o.is("float64"))throw Error("Unexpected data type for biomass estimate top 10m, expected 'float64'!");if(!u.is("float64"))throw Error("Unexpected data type for uncertainty biomass, expected 'float64'!");if(!h.is("float64"))throw Error("Unexpected data type for information gain, expected 'float64'!");const f=a.timeindices;let l=a.timeindices.length;r!=-1&&(l=1);const c=e.sizeX,v=e.sizeY,g=c*v*l,d=JA(g),m=new Array(g).map(()=>""),y=Ma(ae(Array.from(e.lat)),[e.sizeX+1,e.sizeY+1]),M=Ma(ae(Array.from(e.lng)),[e.sizeX+1,e.sizeY+1]);let p=0;for(let _=0;_<l;++_){let D=f[_],C=_;r>-1&&(D=f[r],C=r);const[b,A,S,B]=await Promise.all([s.getChunk([D,0,0]),o.getChunk([D,0,0,0]),u.getChunk([D,0,0,0]),h.getChunk([D,0,0,0])]),$=Pn(b.data,b.shape,b.stride),J=Pn(A.data,A.shape,A.stride),U=Pn(S.data,S.shape,S.stride),V=Pn(B.data,B.shape,B.stride);for(let T=0;T<c;++T)for(let Q=0;Q<v;++Q)d.id[p]=p,d.lng0[p]=M.get([T,Q]),d.lat0[p]=y.get([T,Q]),d.lng1[p]=M.get([T,Q+1]),d.lat1[p]=y.get([T,Q+1]),d.lng2[p]=M.get([T+1,Q+1]),d.lat2[p]=y.get([T+1,Q+1]),d.lng3[p]=M.get([T+1,Q]),d.lat3[p]=y.get([T+1,Q]),m[p]=a.timestrings[C],d.biomass_estimate[p]=$.get(0,Q,T),d.biomass_estimate_top_10m[p]=J.get(0,Q,T),d.uncertainty_biomass[p]=U.get(0,Q,T),d.information_gain[p++]=V.get(0,Q,T)}const E={data:d,time_str:new TextEncoder().encode(JSON.stringify(m))};return Zs(E,Hh(E))};var e3=Object.freeze({__proto__:null,cascadeCoordQuery:KA,cascadeDataQuery:t3,cascadeTimeQuery:QA,cascade_product_url:Ga,mergeTimeArrays:XA});Hs(e3)});export default r3();
