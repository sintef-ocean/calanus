import{d as de,u as fe,r as M,P as ve,S as ge,Q as he,$ as me,X as pe,T as _e,a1 as Ie,a5 as Fe,c,o as ye,b as D,w as s,e,E as Se,i as a,a6 as ke,a7 as Ee,a8 as o,a9 as u,aa as Ce,ab as w,ac as d,q as X,x as f,A as i,ad as be,ae as Le,af as De,ag as we,ah as q,ai as B,aj as N,ak as K,al as Qe,am as Te,V as $e,an as Pe,ao as Re,ap as Me,v,C as g,aq as x,ar as J,as as V,at as W,au as Y,I as qe,f as h,av as O,_ as Be}from"./index-DHoA9206.js";import"./leaflet-CYx1M_cZ.js";const Ne=de({__name:"SettingsPage",setup(Ke){const{t,locale:U}=fe({useScope:"local"}),Z=M({});M({});const m=M(!0),ee=ve(),C=ge(),b=he(),ae=me(),z=window.matchMedia("(prefers-color-scheme: dark)"),{lngQuery:p,latQuery:_,coordQuery:I,threeQuery:F,fiveQuery:y,sevenQuery:S,elevenQuery:k,arrayQuery:E}=pe(),{timeStride:le,region:te}=_e(ae),{timestrings:Q,coords:T,array:L,dataarray:$}=Ie(le,te),A=Fe();z.addListener(l=>{m.value=l.matches});const se=l=>{m.value=l.detail.checked,ee.setDarkTheme(m.value)},re=()=>{A.refetchQueries({queryKey:["sinmod"],type:"all"})},ne=()=>{A.refetchQueries({queryKey:["raudsat"],type:"all"})},P=c(()=>T.isError.value||Q.isError.value||L.value.reduce((l,n)=>l||n.isError,!1)||$.isError.value),R=c(()=>T.isFetching.value||Q.isFetching.value||L.value.reduce((l,n)=>l||n.isFetching,!1)||$.isFetching.value),j=c(()=>!R.value&&!P.value),ue=c(()=>L.value.reduce((l,n)=>l||n.isPending,!1)||T.isPending.value||Q.isPending.value||$.isPending.value),oe=c(()=>R.value?t("Fetching"):ue.value?t("Processing"):P.value?L.value.map(l=>l.error):j.value?t("success"):""),G=c(()=>p.isFetching.value||_.isFetching.value||I.isFetching.value||F.isFetching.value||y.isFetching.value||S.isFetching.value||k.isFetching.value||E.isFetching.value),ie=c(()=>!G.value&&!H.value),H=c(()=>p.isError.value||_.isError.value||I.isError.value||F.isError.value||y.isError.value||S.isError.value||k.isError.value||E.isError.value),ce=c(()=>{let l="";return l+=" Lng: "+t(p.status.value),p.isError.value&&(l+=" "+p.error.value),l+=", Lat: "+t(_.status.value),_.isError.value&&(l+=" "+_.error.value),l+=", Coord: "+t(I.status.value),I.isError.value&&(l+=" "+I.error.value),l+=", 3d: ",F.isFetching.value?l+=" "+t("Fetching"):F.isError.value?l+=" "+F.error.value:l+=" "+t("Success"),l+=", 5d: ",y.isFetching.value?l+=" "+t("Fetching"):y.isError.value?l+=" "+y.error.value:l+=" "+t("success"),l+=", 7d: ",S.isFetching.value?l+=" "+t("Fetching"):S.isError.value?l+=" "+S.error.value:l+=" "+t("success"),l+=", 11d: ",k.isFetching.value?l+=" "+t("Fetching"):k.isError.value?l+=" "+k.error.value:l+=" "+t("success"),l+=", "+t("Table")+": ",E.isFetching.value?l+=t("Fetching"):E.isError.value?l+=E.error.value:l+=t("success"),l});return ye(()=>{m.value=z.matches}),(l,n)=>(h(),D(e(Se),null,{default:s(()=>[a(e(Ce),null,{default:s(()=>[a(e(ke),null,{default:s(()=>[a(e(Ee),null,{default:s(()=>[o(u(e(t)("Setting",2)),1)]),_:1})]),_:1})]),_:1}),a(e(qe),{fullscreen:!0},{default:s(()=>[a(e(w),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("General",2)),1)]),_:1})]),_:1}),a(e(X),null,{default:s(()=>[a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:m.value?e(be):e(Le)},null,8,["icon"]),o(" "+u(e(t)("Dark theme"))+" ",1),a(e(De),{ref_key:"themeToggle",ref:Z,checked:m.value,onIonChange:se,slot:"end"},null,8,["checked"])]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:e(we)},null,8,["icon"]),a(e(q),{interface:"popover",label:e(t)("Distance"),placeholder:e(t)(e(C).distanceUnit),onIonChange:n[0]||(n[0]=r=>e(C).setUnitKm(r.detail.value==="km"))},{default:s(()=>[(h(!0),B(K,null,N(e(C).alternatives,r=>(h(),D(e(O),{key:"dist-".concat(r),value:r,selected:r===e(C).distanceUnit},{default:s(()=>[o(u(l.$t(r)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:e(Qe)},null,8,["icon"]),a(e(q),{interface:"popover",label:e(t)("Format")+" "+e(t)("Coordinate",2).toLowerCase(),placeholder:e(t)(e(b).theFormat),onIonChange:n[1]||(n[1]=r=>e(b).setCoordsFormat(r.detail.value))},{default:s(()=>[(h(!0),B(K,null,N(e(b).alternatives,r=>(h(),D(e(O),{key:"dist-".concat(r),value:r,selected:r===e(b).theFormat},{default:s(()=>[o(u(l.$t(r)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e(Te),{slot:"start",class:"language-flag",src:e($e)(e(U),"svg")},null,8,["src"]),a(e(q),{interface:"popover",label:e(t)("Language"),placeholder:e(t)(e(U)),onIonChange:n[2]||(n[2]=r=>l.$i18n.locale=r.detail.value)},{default:s(()=>[(h(!0),B(K,null,N(l.$i18n.availableLocales,r=>(h(),D(e(O),{key:"locale-".concat(r),value:r,selected:r===l.$i18n.locale},{default:s(()=>[o(u(l.$t(r)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),a(e(w),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("Information")),1)]),_:1})]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[a(e(i),{slot:"start",icon:e(Pe)},null,8,["icon"]),a(e(d),{class:"leaflet-attribution"},{default:s(()=>[o(u(e(t)("Attribution"))+" "+u(e(t)("MapLayer").toLowerCase())+": ",1),n[3]||(n[3]=Re("a",{href:"https://www.kartverket.no",target:"_blank",rel:"noopener noreferrer"},"Kartverket",-1))]),_:1})]),_:1}),a(e(w),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("Setting",2))+" "+u(e(t)("MapLayer").toLowerCase()),1)]),_:1})]),_:1})]),_:1}),a(Me),a(e(w),null,{default:s(()=>[a(e(d),null,{default:s(()=>[o(u(e(t)("Information"))+" "+u(e(t)("Download",2).toLowerCase()),1)]),_:1})]),_:1}),a(e(X),null,{default:s(()=>[a(e(f),{lines:"full"},{default:s(()=>[v(a(e(x),{name:"bubbles",slot:"start"},null,512),[[g,G.value]]),v(a(e(i),{slot:"start",icon:e(J)},null,8,["icon"]),[[g,H.value]]),v(a(e(i),{slot:"start",icon:e(V)},null,8,["icon"]),[[g,ie.value]]),a(e(d),{slot:"start"},{default:s(()=>n[4]||(n[4]=[o("Raudsat")])),_:1}),a(e(d),null,{default:s(()=>[o(u(ce.value),1)]),_:1}),a(e(W),{shape:"round",slot:"end",fill:"outline",size:"small",onClick:ne},{default:s(()=>[o(u(e(t)("Refetch"))+" ",1),a(e(i),{slot:"end",icon:e(Y)},null,8,["icon"])]),_:1})]),_:1}),a(e(f),{lines:"full"},{default:s(()=>[v(a(e(x),{name:"bubbles",slot:"start"},null,512),[[g,R.value]]),v(a(e(i),{slot:"start",icon:e(J)},null,8,["icon"]),[[g,P.value]]),v(a(e(i),{slot:"start",icon:e(V)},null,8,["icon"]),[[g,j.value]]),v(a(e(i),{slot:"start",icon:e(V)},null,8,["icon"]),[[g,!1]]),a(e(d),{slot:"start"},{default:s(()=>n[5]||(n[5]=[o("SINMOD - MIDNOR")])),_:1}),a(e(d),null,{default:s(()=>[o(u(oe.value),1)]),_:1}),a(e(W),{shape:"round",slot:"end",fill:"outline",size:"small",onClick:re},{default:s(()=>[o(u(e(t)("Refetch"))+" ",1),a(e(i),{slot:"end",icon:e(Y)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ue=Be(Ne,[["__scopeId","data-v-83e28f4f"]]);export{Ue as default};
