import{d as Pe,u as Qe,r as V,ae as Te,af as Re,F as $e,S as se,O as Be,H as ne,U as ue,W as Me,c as i,o as qe,b as w,w as r,e,E as Ne,i as l,ag as Oe,ah as Ve,ai as u,aj as o,ak as Ke,al as P,am as d,q as oe,x as g,A as c,an as xe,ao as ze,ap as Ae,aq as Ue,ar as K,as as x,at as z,au as A,av as He,aw as je,M as Ge,ax as We,ay as Je,az as Xe,v,C as f,aA as U,aB as H,aC as j,aD as G,aE as W,I as Ye,V as ie,f as h,aF as J,_ as Ze}from"./index-DPXAEm47.js";import"./leaflet-CYx1M_cZ.js";const ea=Pe({__name:"SettingsPage",setup(aa){const{t,locale:X}=Qe({useScope:"local"}),ce=V({});V({});const m=V(!0),de=Te(),b=Re(),C=$e(),ve=se("midnor"),fe=se("frohavet"),Y=window.matchMedia("(prefers-color-scheme: dark)"),{lngQuery:p,latQuery:F,coordQuery:y,threeQuery:S,fiveQuery:_,sevenQuery:I,elevenQuery:E,arrayQuery:k}=Be(),{timeStride:ge,spaceStride:he,region:Z,boundingBox:me}=ne(ve),{timestrings:Q,coords:T,array:D}=ue(ge,he,Z,me),{timeStride:pe,spaceStride:Fe,region:ee,boundingBox:ye}=ne(fe),{timestrings:R,coords:$,array:L}=ue(pe,Fe,ee,ye),B=Me();Y.addListener(a=>{m.value=a.matches});const Se=a=>{try{m.value=a.detail.checked,de.setDarkTheme(m.value)}catch(s){}},_e=()=>{B.refetchQueries({queryKey:["sinmod",ie(Z)],type:"all"})},Ie=()=>{B.refetchQueries({queryKey:["sinmod",ie(ee)],type:"all"})},Ee=()=>{B.refetchQueries({queryKey:["raudsat"],type:"all"})},M=i(()=>T.isError.value||Q.isError.value||D.value.reduce((a,s)=>a||s.isError,!1)),q=i(()=>T.isFetching.value||Q.isFetching.value||D.value.reduce((a,s)=>a||s.isFetching,!1)),ae=i(()=>!q.value&&!M.value),ke=i(()=>D.value.reduce((a,s)=>a||s.isPending,!1)||T.isPending.value||Q.isPending.value),be=i(()=>q.value?t("Fetching"):ke.value?t("Processing"):M.value?D.value.map(a=>a.error):ae.value?t("success"):""),N=i(()=>$.isError.value||R.isError.value||L.value.reduce((a,s)=>a||s.isError,!1)),O=i(()=>$.isFetching.value||R.isFetching.value||L.value.reduce((a,s)=>a||s.isFetching,!1)),le=i(()=>!O.value&&!N.value),Ce=i(()=>L.value.reduce((a,s)=>a||s.isPending,!1)||$.isPending.value||R.isPending.value),De=i(()=>O.value?t("Fetching"):Ce.value?t("Processing"):N.value?L.value.map(a=>a.error):le.value?t("success"):""),te=i(()=>p.isFetching.value||F.isFetching.value||y.isFetching.value||S.isFetching.value||_.isFetching.value||I.isFetching.value||E.isFetching.value||k.isFetching.value),Le=i(()=>!te.value&&!re.value),re=i(()=>p.isError.value||F.isError.value||y.isError.value||S.isError.value||_.isError.value||I.isError.value||E.isError.value||k.isError.value),we=i(()=>{let a="";return a+=" Lng: "+t(p.status.value),p.isError.value&&(a+=" "+p.error.value),a+=", Lat: "+t(F.status.value),F.isError.value&&(a+=" "+F.error.value),a+=", Coord: "+t(y.status.value),y.isError.value&&(a+=" "+y.error.value),a+=", 3d: ",S.isFetching.value?a+=" "+t("Fetching"):S.isError.value?a+=" "+S.error.value:a+=" "+t("success"),a+=", 5d: ",_.isFetching.value?a+=" "+t("Fetching"):_.isError.value?a+=" "+_.error.value:a+=" "+t("success"),a+=", 7d: ",I.isFetching.value?a+=" "+t("Fetching"):I.isError.value?a+=" "+I.error.value:a+=" "+t("success"),a+=", 11d: ",E.isFetching.value?a+=" "+t("Fetching"):E.isError.value?a+=" "+E.error.value:a+=" "+t("success"),a+=", "+t("Table")+": ",k.isFetching.value?a+=t("Fetching"):k.isError.value?a+=k.error.value:a+=t("success"),a});return qe(()=>{m.value=Y.matches}),(a,s)=>(h(),w(e(Ne),null,{default:r(()=>[l(e(Ke),null,{default:r(()=>[l(e(Oe),null,{default:r(()=>[l(e(Ve),null,{default:r(()=>[u(o(e(t)("Setting",2)),1)]),_:1})]),_:1})]),_:1}),l(e(Ye),{fullscreen:!0},{default:r(()=>[l(e(P),null,{default:r(()=>[l(e(d),null,{default:r(()=>[u(o(e(t)("General",2)),1)]),_:1})]),_:1}),l(e(oe),null,{default:r(()=>[l(e(g),{lines:"full"},{default:r(()=>[l(e(c),{slot:"start",icon:m.value?e(xe):e(ze)},null,8,["icon"]),u(" "+o(e(t)("Dark theme"))+" ",1),l(e(Ae),{ref_key:"themeToggle",ref:ce,checked:m.value,onIonChange:Se,slot:"end"},null,8,["checked"])]),_:1}),l(e(g),{lines:"full"},{default:r(()=>[l(e(c),{slot:"start",icon:e(Ue)},null,8,["icon"]),l(e(K),{interface:"popover",label:e(t)("Distance"),placeholder:e(t)(e(b).distanceUnit),onIonChange:s[0]||(s[0]=n=>e(b).setUnitKm(n.detail.value==="km"))},{default:r(()=>[(h(!0),x(A,null,z(e(b).alternatives,n=>(h(),w(e(J),{key:"dist-".concat(n),value:n,selected:n===e(b).distanceUnit},{default:r(()=>[u(o(a.$t(n)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),l(e(g),{lines:"full"},{default:r(()=>[l(e(c),{slot:"start",icon:e(He)},null,8,["icon"]),l(e(K),{interface:"popover",label:e(t)("Format")+" "+e(t)("Coordinate",2).toLowerCase(),placeholder:e(t)(e(C).theFormat),onIonChange:s[1]||(s[1]=n=>e(C).setCoordsFormat(n.detail.value))},{default:r(()=>[(h(!0),x(A,null,z(e(C).alternatives,n=>(h(),w(e(J),{key:"dist-".concat(n),value:n,selected:n===e(C).theFormat},{default:r(()=>[u(o(a.$t(n)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),l(e(g),{lines:"full"},{default:r(()=>[l(e(je),{slot:"start",class:"language-flag",src:e(Ge)(e(X),"svg")},null,8,["src"]),l(e(K),{interface:"popover",label:e(t)("Language"),placeholder:e(t)(e(X)),onIonChange:s[2]||(s[2]=n=>a.$i18n.locale=n.detail.value)},{default:r(()=>[(h(!0),x(A,null,z(a.$i18n.availableLocales,n=>(h(),w(e(J),{key:"locale-".concat(n),value:n,selected:n===a.$i18n.locale},{default:r(()=>[u(o(a.$t(n)),1)]),_:2},1032,["value","selected"]))),128))]),_:1},8,["label","placeholder"])]),_:1}),l(e(P),null,{default:r(()=>[l(e(d),null,{default:r(()=>[u(o(e(t)("Information")),1)]),_:1})]),_:1}),l(e(g),{lines:"full"},{default:r(()=>[l(e(c),{slot:"start",icon:e(We)},null,8,["icon"]),l(e(d),{class:"leaflet-attribution"},{default:r(()=>[u(o(e(t)("Attribution"))+" "+o(e(t)("MapLayer").toLowerCase())+": ",1),s[3]||(s[3]=Je("a",{href:"https://www.kartverket.no",target:"_blank",rel:"noopener noreferrer"},"Kartverket",-1))]),_:1})]),_:1}),l(e(P),null,{default:r(()=>[l(e(d),null,{default:r(()=>[u(o(e(t)("Setting",2))+" "+o(e(t)("MapLayer").toLowerCase()),1)]),_:1})]),_:1})]),_:1}),l(Xe),l(e(P),null,{default:r(()=>[l(e(d),null,{default:r(()=>[u(o(e(t)("Information"))+" "+o(e(t)("Download",2).toLowerCase()),1)]),_:1})]),_:1}),l(e(oe),null,{default:r(()=>[l(e(g),{lines:"full"},{default:r(()=>[v(l(e(U),{name:"bubbles",slot:"start"},null,512),[[f,te.value]]),v(l(e(c),{slot:"start",icon:e(H)},null,8,["icon"]),[[f,re.value]]),v(l(e(c),{slot:"start",icon:e(j)},null,8,["icon"]),[[f,Le.value]]),l(e(d),{slot:"start"},{default:r(()=>s[4]||(s[4]=[u("Raudsat")])),_:1}),l(e(d),null,{default:r(()=>[u(o(we.value),1)]),_:1}),l(e(G),{shape:"round",slot:"end",fill:"outline",size:"small",onClick:Ee},{default:r(()=>[u(o(e(t)("Refetch"))+" ",1),l(e(c),{slot:"end",icon:e(W)},null,8,["icon"])]),_:1})]),_:1}),l(e(g),{lines:"full"},{default:r(()=>[v(l(e(U),{name:"bubbles",slot:"start"},null,512),[[f,q.value]]),v(l(e(c),{slot:"start",icon:e(H)},null,8,["icon"]),[[f,M.value]]),v(l(e(c),{slot:"start",icon:e(j)},null,8,["icon"]),[[f,ae.value]]),l(e(d),{slot:"start"},{default:r(()=>s[5]||(s[5]=[u("SINMOD - MIDNOR")])),_:1}),l(e(d),null,{default:r(()=>[u(o(be.value),1)]),_:1}),l(e(G),{shape:"round",slot:"end",fill:"outline",size:"small",onClick:_e},{default:r(()=>[u(o(e(t)("Refetch"))+" ",1),l(e(c),{slot:"end",icon:e(W)},null,8,["icon"])]),_:1})]),_:1}),l(e(g),{lines:"full"},{default:r(()=>[v(l(e(U),{name:"bubbles",slot:"start"},null,512),[[f,O.value]]),v(l(e(c),{slot:"start",icon:e(H)},null,8,["icon"]),[[f,N.value]]),v(l(e(c),{slot:"start",icon:e(j)},null,8,["icon"]),[[f,le.value]]),l(e(d),{slot:"start"},{default:r(()=>s[6]||(s[6]=[u("SINMOD - FROHAVET")])),_:1}),l(e(d),null,{default:r(()=>[u(o(De.value),1)]),_:1}),l(e(G),{shape:"round",slot:"end",fill:"outline",size:"small",onClick:Ie},{default:r(()=>[u(o(e(t)("Refetch"))+" ",1),l(e(c),{slot:"end",icon:e(W)},null,8,["icon"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),ra=Ze(ea,[["__scopeId","data-v-17daaf3f"]]);export{ra as default};
